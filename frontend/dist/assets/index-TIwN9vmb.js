var Tl=Object.defineProperty;var Ja=e=>{throw TypeError(e)};var ql=(e,t,s)=>t in e?Tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ht=(e,t,s)=>ql(e,typeof t!="symbol"?t+"":t,s),ia=(e,t,s)=>t.has(e)||Ja("Cannot "+s);var y=(e,t,s)=>(ia(e,t,"read from private field"),s?s.call(e):t.get(e)),ge=(e,t,s)=>t.has(e)?Ja("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),pe=(e,t,s,a)=>(ia(e,t,"write to private field"),a?a.call(e,s):t.set(e,s),s),it=(e,t,s)=>(ia(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(l){if(l.ep)return;l.ep=!0;const r=s(l);fetch(l.href,r)}})();const fa=!1;var Ca=Array.isArray,Ml=Array.prototype.indexOf,nn=Array.prototype.includes,Zn=Array.from,hr=Object.defineProperty,mn=Object.getOwnPropertyDescriptor,gr=Object.getOwnPropertyDescriptors,Pl=Object.prototype,Il=Array.prototype,Ea=Object.getPrototypeOf,Ga=Object.isExtensible;const gs=()=>{};function Al(e){return e()}function Hn(e){for(var t=0;t<e.length;t++)e[t]()}function _r(){var e,t,s=new Promise((a,l)=>{e=a,t=l});return{promise:s,resolve:e,reject:t}}function fn(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const s=[];for(const a of e)if(s.push(a),s.length===t)break;return s}const et=2,Jn=4,Tn=8,mr=1<<24,cs=16,Nt=32,Ls=64,Ta=128,qt=512,Ye=1024,tt=2048,Ft=4096,bt=8192,_s=16384,qa=32768,js=65536,Wa=1<<17,yr=1<<18,vn=1<<19,wr=1<<20,os=1<<25,Ds=32768,pa=1<<21,Ma=1<<22,ms=1<<23,ys=Symbol("$state"),Bl=Symbol(""),Gs=new class extends Error{constructor(){super(...arguments);Ht(this,"name","StaleReactionError");Ht(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function br(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Dl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ol(e,t,s){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Rl(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Fl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ll(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Nl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ul(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Vl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Hl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Jl(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Gl=1,Wl=2,kr=4,Yl=8,Ql=16,xr=1,Kl=2,Ke=Symbol(),Xl="http://www.w3.org/1999/xhtml";function Zl(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function ei(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function jr(e){return e===this.v}function Sr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function $r(e){return!Sr(e,this.v)}let qn=!1,ti=!1;function si(){qn=!0}let Re=null;function an(e){Re=e}function kt(e,t=!1,s){Re={p:Re,i:!1,c:null,e:null,s:e,x:null,l:qn&&!t?{s:null,u:null,$:[]}:null}}function xt(e){var t=Re,s=t.e;if(s!==null){t.e=null;for(var a of s)Gr(a)}return t.i=!0,Re=t.p,{}}function Mn(){return!qn||Re!==null&&Re.l===null}let zs=[];function zr(){var e=zs;zs=[],Hn(e)}function vs(e){if(zs.length===0&&!yn){var t=zs;queueMicrotask(()=>{t===zs&&zr()})}zs.push(e)}function ni(){for(;zs.length>0;)zr()}function Cr(e){var t=Pe;if(t===null)return we.f|=ms,e;if((t.f&qa)===0){if((t.f&Ta)===0)throw e;t.b.error(e)}else rn(e,t)}function rn(e,t){for(;t!==null;){if((t.f&Ta)!==0)try{t.b.error(e);return}catch(s){e=s}t=t.parent}throw e}const ai=-7169;function Ue(e,t){e.f=e.f&ai|t}function Pa(e){(e.f&qt)!==0||e.deps===null?Ue(e,Ye):Ue(e,Ft)}function Er(e){if(e!==null)for(const t of e)(t.f&et)===0||(t.f&Ds)===0||(t.f^=Ds,Er(t.deps))}function Tr(e,t,s){(e.f&tt)!==0?t.add(e):(e.f&Ft)!==0&&s.add(e),Er(e.deps),Ue(e,Ye)}const Fn=new Set;let de=null,Gn=null,Xe=null,dt=[],ea=null,ha=!1,yn=!1;var Qs,Ks,Es,Xs,$n,zn,Ts,ns,Zs,Zt,ga,_a,qr;const Ha=class Ha{constructor(){ge(this,Zt);Ht(this,"committed",!1);Ht(this,"current",new Map);Ht(this,"previous",new Map);ge(this,Qs,new Set);ge(this,Ks,new Set);ge(this,Es,0);ge(this,Xs,0);ge(this,$n,null);ge(this,zn,new Set);ge(this,Ts,new Set);ge(this,ns,new Map);Ht(this,"is_fork",!1);ge(this,Zs,!1)}is_deferred(){return this.is_fork||y(this,Xs)>0}skip_effect(t){y(this,ns).has(t)||y(this,ns).set(t,{d:[],m:[]})}unskip_effect(t){var s=y(this,ns).get(t);if(s){y(this,ns).delete(t);for(var a of s.d)Ue(a,tt),Dt(a);for(a of s.m)Ue(a,Ft),Dt(a)}}process(t){var l;dt=[],this.apply();var s=[],a=[];for(const r of t)it(this,Zt,ga).call(this,r,s,a);if(this.is_deferred()){it(this,Zt,_a).call(this,a),it(this,Zt,_a).call(this,s);for(const[r,i]of y(this,ns))Ar(r,i)}else{for(const r of y(this,Qs))r();y(this,Qs).clear(),y(this,Es)===0&&it(this,Zt,qr).call(this),Gn=this,de=null,Ya(a),Ya(s),Gn=null,(l=y(this,$n))==null||l.resolve()}Xe=null}capture(t,s){s!==Ke&&!this.previous.has(t)&&this.previous.set(t,s),(t.f&ms)===0&&(this.current.set(t,t.v),Xe==null||Xe.set(t,t.v))}activate(){de=this,this.apply()}deactivate(){de===this&&(de=null,Xe=null)}flush(){if(this.activate(),dt.length>0){if(Mr(),de!==null&&de!==this)return}else y(this,Es)===0&&this.process([]);this.deactivate()}discard(){for(const t of y(this,Ks))t(this);y(this,Ks).clear()}increment(t){pe(this,Es,y(this,Es)+1),t&&pe(this,Xs,y(this,Xs)+1)}decrement(t){pe(this,Es,y(this,Es)-1),t&&pe(this,Xs,y(this,Xs)-1),!y(this,Zs)&&(pe(this,Zs,!0),vs(()=>{pe(this,Zs,!1),this.is_deferred()?dt.length>0&&this.flush():this.revive()}))}revive(){for(const t of y(this,zn))y(this,Ts).delete(t),Ue(t,tt),Dt(t);for(const t of y(this,Ts))Ue(t,Ft),Dt(t);this.flush()}oncommit(t){y(this,Qs).add(t)}ondiscard(t){y(this,Ks).add(t)}settled(){return(y(this,$n)??pe(this,$n,_r())).promise}static ensure(){if(de===null){const t=de=new Ha;Fn.add(de),yn||vs(()=>{de===t&&t.flush()})}return de}apply(){}};Qs=new WeakMap,Ks=new WeakMap,Es=new WeakMap,Xs=new WeakMap,$n=new WeakMap,zn=new WeakMap,Ts=new WeakMap,ns=new WeakMap,Zs=new WeakMap,Zt=new WeakSet,ga=function(t,s,a){t.f^=Ye;for(var l=t.first,r=null;l!==null;){var i=l.f,v=(i&(Nt|Ls))!==0,o=v&&(i&Ye)!==0,u=o||(i&bt)!==0||y(this,ns).has(l);if(!u&&l.fn!==null){v?l.f^=Ye:r!==null&&(i&(Jn|Tn|mr))!==0?r.b.defer_effect(l):(i&Jn)!==0?s.push(l):An(l)&&((i&cs)!==0&&y(this,Ts).add(l),xn(l));var p=l.first;if(p!==null){l=p;continue}}var _=l.parent;for(l=l.next;l===null&&_!==null;)_===r&&(r=null),l=_.next,_=_.parent}},_a=function(t){for(var s=0;s<t.length;s+=1)Tr(t[s],y(this,zn),y(this,Ts))},qr=function(){var l;if(Fn.size>1){this.previous.clear();var t=Xe,s=!0;for(const r of Fn){if(r===this){s=!1;continue}const i=[];for(const[o,u]of this.current){if(r.current.has(o))if(s&&u!==r.current.get(o))r.current.set(o,u);else continue;i.push(o)}if(i.length===0)continue;const v=[...r.current.keys()].filter(o=>!this.current.has(o));if(v.length>0){var a=dt;dt=[];const o=new Set,u=new Map;for(const p of i)Pr(p,v,o,u);if(dt.length>0){de=r,r.apply();for(const p of dt)it(l=r,Zt,ga).call(l,p,[],[]);r.deactivate()}dt=a}}de=null,Xe=t}this.committed=!0,Fn.delete(this)};let ws=Ha;function ri(e){var t=yn;yn=!0;try{for(var s;;){if(ni(),dt.length===0&&(de==null||de.flush(),dt.length===0))return ea=null,s;Mr()}}finally{yn=t}}function Mr(){ha=!0;var e=null;try{for(var t=0;dt.length>0;){var s=ws.ensure();if(t++>1e3){var a,l;li()}s.process(dt),bs.clear()}}finally{dt=[],ha=!1,ea=null}}function li(){try{Nl()}catch(e){rn(e,ea)}}let At=null;function Ya(e){var t=e.length;if(t!==0){for(var s=0;s<t;){var a=e[s++];if((a.f&(_s|bt))===0&&An(a)&&(At=new Set,xn(a),a.deps===null&&a.first===null&&a.nodes===null&&(a.teardown===null&&a.ac===null?Kr(a):a.fn=null),(At==null?void 0:At.size)>0)){bs.clear();for(const l of At){if((l.f&(_s|bt))!==0)continue;const r=[l];let i=l.parent;for(;i!==null;)At.has(i)&&(At.delete(i),r.push(i)),i=i.parent;for(let v=r.length-1;v>=0;v--){const o=r[v];(o.f&(_s|bt))===0&&xn(o)}}At.clear()}}At=null}}function Pr(e,t,s,a){if(!s.has(e)&&(s.add(e),e.reactions!==null))for(const l of e.reactions){const r=l.f;(r&et)!==0?Pr(l,t,s,a):(r&(Ma|cs))!==0&&(r&tt)===0&&Ir(l,t,a)&&(Ue(l,tt),Dt(l))}}function Ir(e,t,s){const a=s.get(e);if(a!==void 0)return a;if(e.deps!==null)for(const l of e.deps){if(nn.call(t,l))return!0;if((l.f&et)!==0&&Ir(l,t,s))return s.set(l,!0),!0}return s.set(e,!1),!1}function Dt(e){for(var t=ea=e;t.parent!==null;){t=t.parent;var s=t.f;if(ha&&t===Pe&&(s&cs)!==0&&(s&yr)===0)return;if((s&(Ls|Nt))!==0){if((s&Ye)===0)return;t.f^=Ye}}dt.push(t)}function Ar(e,t){if(!((e.f&Nt)!==0&&(e.f&Ye)!==0)){(e.f&tt)!==0?t.d.push(e):(e.f&Ft)!==0&&t.m.push(e),Ue(e,Ye);for(var s=e.first;s!==null;)Ar(s,t),s=s.next}}function ii(e){let t=0,s=Os(0),a;return()=>{Da()&&(n(s),aa(()=>(t===0&&(a=Ss(()=>e(()=>wn(s)))),t+=1,()=>{vs(()=>{t-=1,t===0&&(a==null||a(),a=void 0,wn(s))})})))}}var oi=js|vn|Ta;function vi(e,t,s){new ci(e,t,s)}var Ct,za,Jt,qs,Gt,Et,ut,Wt,as,fs,Ms,ps,en,Ps,tn,sn,rs,Kn,Qe,ui,di,ma,Ln,Nn,ya;class ci{constructor(t,s,a){ge(this,Qe);Ht(this,"parent");Ht(this,"is_pending",!1);ge(this,Ct);ge(this,za,null);ge(this,Jt);ge(this,qs);ge(this,Gt);ge(this,Et,null);ge(this,ut,null);ge(this,Wt,null);ge(this,as,null);ge(this,fs,null);ge(this,Ms,0);ge(this,ps,0);ge(this,en,!1);ge(this,Ps,!1);ge(this,tn,new Set);ge(this,sn,new Set);ge(this,rs,null);ge(this,Kn,ii(()=>(pe(this,rs,Os(y(this,Ms))),()=>{pe(this,rs,null)})));pe(this,Ct,t),pe(this,Jt,s),pe(this,qs,a),this.parent=Pe.b,this.is_pending=!!y(this,Jt).pending,pe(this,Gt,In(()=>{Pe.b=this;{var l=it(this,Qe,ma).call(this);try{pe(this,Et,Tt(()=>a(l)))}catch(r){this.error(r)}y(this,ps)>0?it(this,Qe,Nn).call(this):this.is_pending=!1}return()=>{var r;(r=y(this,fs))==null||r.remove()}},oi))}defer_effect(t){Tr(t,y(this,tn),y(this,sn))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!y(this,Jt).pending}update_pending_count(t){it(this,Qe,ya).call(this,t),pe(this,Ms,y(this,Ms)+t),!(!y(this,rs)||y(this,en))&&(pe(this,en,!0),vs(()=>{pe(this,en,!1),y(this,rs)&&ln(y(this,rs),y(this,Ms))}))}get_effect_pending(){return y(this,Kn).call(this),n(y(this,rs))}error(t){var s=y(this,Jt).onerror;let a=y(this,Jt).failed;if(y(this,Ps)||!s&&!a)throw t;y(this,Et)&&(pt(y(this,Et)),pe(this,Et,null)),y(this,ut)&&(pt(y(this,ut)),pe(this,ut,null)),y(this,Wt)&&(pt(y(this,Wt)),pe(this,Wt,null));var l=!1,r=!1;const i=()=>{if(l){ei();return}l=!0,r&&Jl(),ws.ensure(),pe(this,Ms,0),y(this,Wt)!==null&&As(y(this,Wt),()=>{pe(this,Wt,null)}),this.is_pending=this.has_pending_snippet(),pe(this,Et,it(this,Qe,Ln).call(this,()=>(pe(this,Ps,!1),Tt(()=>y(this,qs).call(this,y(this,Ct)))))),y(this,ps)>0?it(this,Qe,Nn).call(this):this.is_pending=!1};vs(()=>{try{r=!0,s==null||s(t,i),r=!1}catch(v){rn(v,y(this,Gt)&&y(this,Gt).parent)}a&&pe(this,Wt,it(this,Qe,Ln).call(this,()=>{ws.ensure(),pe(this,Ps,!0);try{return Tt(()=>{a(y(this,Ct),()=>t,()=>i)})}catch(v){return rn(v,y(this,Gt).parent),null}finally{pe(this,Ps,!1)}}))})}}Ct=new WeakMap,za=new WeakMap,Jt=new WeakMap,qs=new WeakMap,Gt=new WeakMap,Et=new WeakMap,ut=new WeakMap,Wt=new WeakMap,as=new WeakMap,fs=new WeakMap,Ms=new WeakMap,ps=new WeakMap,en=new WeakMap,Ps=new WeakMap,tn=new WeakMap,sn=new WeakMap,rs=new WeakMap,Kn=new WeakMap,Qe=new WeakSet,ui=function(){try{pe(this,Et,Tt(()=>y(this,qs).call(this,y(this,Ct))))}catch(t){this.error(t)}},di=function(){const t=y(this,Jt).pending;t&&(pe(this,ut,Tt(()=>t(y(this,Ct)))),vs(()=>{var s=it(this,Qe,ma).call(this);pe(this,Et,it(this,Qe,Ln).call(this,()=>(ws.ensure(),Tt(()=>y(this,qs).call(this,s))))),y(this,ps)>0?it(this,Qe,Nn).call(this):(As(y(this,ut),()=>{pe(this,ut,null)}),this.is_pending=!1)}))},ma=function(){var t=y(this,Ct);return this.is_pending&&(pe(this,fs,ks()),y(this,Ct).before(y(this,fs)),t=y(this,fs)),t},Ln=function(t){var s=Pe,a=we,l=Re;Xt(y(this,Gt)),Pt(y(this,Gt)),an(y(this,Gt).ctx);try{return t()}catch(r){return Cr(r),null}finally{Xt(s),Pt(a),an(l)}},Nn=function(){const t=y(this,Jt).pending;y(this,Et)!==null&&(pe(this,as,document.createDocumentFragment()),y(this,as).append(y(this,fs)),el(y(this,Et),y(this,as))),y(this,ut)===null&&pe(this,ut,Tt(()=>t(y(this,Ct))))},ya=function(t){var s;if(!this.has_pending_snippet()){this.parent&&it(s=this.parent,Qe,ya).call(s,t);return}if(pe(this,ps,y(this,ps)+t),y(this,ps)===0){this.is_pending=!1;for(const a of y(this,tn))Ue(a,tt),Dt(a);for(const a of y(this,sn))Ue(a,Ft),Dt(a);y(this,tn).clear(),y(this,sn).clear(),y(this,ut)&&As(y(this,ut),()=>{pe(this,ut,null)}),y(this,as)&&(y(this,Ct).before(y(this,as)),pe(this,as,null))}};function fi(e,t,s,a){const l=Mn()?ta:Br;var r=e.filter(h=>!h.settled);if(s.length===0&&r.length===0){a(t.map(l));return}var i=de,v=Pe,o=pi(),u=r.length===1?r[0].promise:r.length>1?Promise.all(r.map(h=>h.promise)):null;function p(h){o();try{a(h)}catch(b){(v.f&_s)===0&&rn(b,v)}i==null||i.deactivate(),wa()}if(s.length===0){u.then(()=>p(t.map(l)));return}function _(){o(),Promise.all(s.map(h=>hi(h))).then(h=>p([...t.map(l),...h])).catch(h=>rn(h,v))}u?u.then(_):_()}function pi(){var e=Pe,t=we,s=Re,a=de;return function(r=!0){Xt(e),Pt(t),an(s),r&&(a==null||a.activate())}}function wa(){Xt(null),Pt(null),an(null)}function ta(e){var t=et|tt,s=we!==null&&(we.f&et)!==0?we:null;return Pe!==null&&(Pe.f|=vn),{ctx:Re,deps:null,effects:null,equals:jr,f:t,fn:e,reactions:null,rv:0,v:Ke,wv:0,parent:s??Pe,ac:null}}function hi(e,t,s){let a=Pe;a===null&&Dl();var l=a.b,r=void 0,i=Os(Ke),v=!we,o=new Map;return Si(()=>{var b;var u=_r();r=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{p===de&&p.committed&&p.deactivate(),wa()})}catch(g){u.reject(g),wa()}var p=de;if(v){var _=l.is_rendered();l.update_pending_count(1),p.increment(_),(b=o.get(p))==null||b.reject(Gs),o.delete(p),o.set(p,u)}const h=(g,S=void 0)=>{if(p.activate(),S)S!==Gs&&(i.f|=ms,ln(i,S));else{(i.f&ms)!==0&&(i.f^=ms),ln(i,g);for(const[k,x]of o){if(o.delete(k),k===p)break;x.reject(Gs)}}v&&(l.update_pending_count(-1),p.decrement(_))};u.promise.then(h,g=>h(null,g||"unknown"))}),na(()=>{for(const u of o.values())u.reject(Gs)}),new Promise(u=>{function p(_){function h(){_===r?u(i):p(r)}_.then(h,h)}p(r)})}function ie(e){const t=ta(e);return tl(t),t}function Br(e){const t=ta(e);return t.equals=$r,t}function Dr(e){var t=e.effects;if(t!==null){e.effects=null;for(var s=0;s<t.length;s+=1)pt(t[s])}}function gi(e){for(var t=e.parent;t!==null;){if((t.f&et)===0)return(t.f&_s)===0?t:null;t=t.parent}return null}function Ia(e){var t,s=Pe;Xt(gi(e));try{e.f&=~Ds,Dr(e),t=rl(e)}finally{Xt(s)}return t}function Or(e){var t=Ia(e);if(!e.equals(t)&&(e.wv=nl(),(!(de!=null&&de.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){Ue(e,Ye);return}Rs||(Xe!==null?(Da()||de!=null&&de.is_fork)&&Xe.set(e,t):Pa(e))}let ba=new Set;const bs=new Map;let Rr=!1;function Os(e,t){var s={f:0,v:e,reactions:null,equals:jr,rv:0,wv:0};return s}function I(e,t){const s=Os(e);return tl(s),s}function Fr(e,t=!1,s=!0){var l;const a=Os(e);return t||(a.equals=$r),qn&&s&&Re!==null&&Re.l!==null&&((l=Re.l).s??(l.s=[])).push(a),a}function f(e,t,s=!1){we!==null&&(!Ot||(we.f&Wa)!==0)&&Mn()&&(we.f&(et|cs|Ma|Wa))!==0&&(Mt===null||!nn.call(Mt,e))&&Hl();let a=s?Ws(t):t;return ln(e,a)}function ln(e,t){if(!e.equals(t)){var s=e.v;Rs?bs.set(e,t):bs.set(e,s),e.v=t;var a=ws.ensure();if(a.capture(e,s),(e.f&et)!==0){const l=e;(e.f&tt)!==0&&Ia(l),Pa(l)}e.wv=nl(),Lr(e,tt),Mn()&&Pe!==null&&(Pe.f&Ye)!==0&&(Pe.f&(Nt|Ls))===0&&(zt===null?Ci([e]):zt.push(e)),!a.is_fork&&ba.size>0&&!Rr&&_i()}return t}function _i(){Rr=!1;for(const e of ba)(e.f&Ye)!==0&&Ue(e,Ft),An(e)&&xn(e);ba.clear()}function wn(e){f(e,e.v+1)}function Lr(e,t){var s=e.reactions;if(s!==null)for(var a=Mn(),l=s.length,r=0;r<l;r++){var i=s[r],v=i.f;if(!(!a&&i===Pe)){var o=(v&tt)===0;if(o&&Ue(i,t),(v&et)!==0){var u=i;Xe==null||Xe.delete(u),(v&Ds)===0&&(v&qt&&(i.f|=Ds),Lr(u,Ft))}else o&&((v&cs)!==0&&At!==null&&At.add(i),Dt(i))}}}function Ws(e){if(typeof e!="object"||e===null||ys in e)return e;const t=Ea(e);if(t!==Pl&&t!==Il)return e;var s=new Map,a=Ca(e),l=I(0),r=Bs,i=v=>{if(Bs===r)return v();var o=we,u=Bs;Pt(null),er(r);var p=v();return Pt(o),er(u),p};return a&&s.set("length",I(e.length)),new Proxy(e,{defineProperty(v,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ul();var p=s.get(o);return p===void 0?p=i(()=>{var _=I(u.value);return s.set(o,_),_}):f(p,u.value,!0),!0},deleteProperty(v,o){var u=s.get(o);if(u===void 0){if(o in v){const p=i(()=>I(Ke));s.set(o,p),wn(l)}}else f(u,Ke),wn(l);return!0},get(v,o,u){var b;if(o===ys)return e;var p=s.get(o),_=o in v;if(p===void 0&&(!_||(b=mn(v,o))!=null&&b.writable)&&(p=i(()=>{var g=Ws(_?v[o]:Ke),S=I(g);return S}),s.set(o,p)),p!==void 0){var h=n(p);return h===Ke?void 0:h}return Reflect.get(v,o,u)},getOwnPropertyDescriptor(v,o){var u=Reflect.getOwnPropertyDescriptor(v,o);if(u&&"value"in u){var p=s.get(o);p&&(u.value=n(p))}else if(u===void 0){var _=s.get(o),h=_==null?void 0:_.v;if(_!==void 0&&h!==Ke)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(v,o){var h;if(o===ys)return!0;var u=s.get(o),p=u!==void 0&&u.v!==Ke||Reflect.has(v,o);if(u!==void 0||Pe!==null&&(!p||(h=mn(v,o))!=null&&h.writable)){u===void 0&&(u=i(()=>{var b=p?Ws(v[o]):Ke,g=I(b);return g}),s.set(o,u));var _=n(u);if(_===Ke)return!1}return p},set(v,o,u,p){var V;var _=s.get(o),h=o in v;if(a&&o==="length")for(var b=u;b<_.v;b+=1){var g=s.get(b+"");g!==void 0?f(g,Ke):b in v&&(g=i(()=>I(Ke)),s.set(b+"",g))}if(_===void 0)(!h||(V=mn(v,o))!=null&&V.writable)&&(_=i(()=>I(void 0)),f(_,Ws(u)),s.set(o,_));else{h=_.v!==Ke;var S=i(()=>Ws(u));f(_,S)}var k=Reflect.getOwnPropertyDescriptor(v,o);if(k!=null&&k.set&&k.set.call(p,u),!h){if(a&&typeof o=="string"){var x=s.get("length"),N=Number(o);Number.isInteger(N)&&N>=x.v&&f(x,N+1)}wn(l)}return!0},ownKeys(v){n(l);var o=Reflect.ownKeys(v).filter(_=>{var h=s.get(_);return h===void 0||h.v!==Ke});for(var[u,p]of s)p.v!==Ke&&!(u in v)&&o.push(u);return o},setPrototypeOf(){Vl()}})}function Qa(e){try{if(e!==null&&typeof e=="object"&&ys in e)return e[ys]}catch{}return e}function mi(e,t){return Object.is(Qa(e),Qa(t))}var Ka,Aa,Nr,Ur,Vr;function yi(){if(Ka===void 0){Ka=window,Aa=document,Nr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,s=Text.prototype;Ur=mn(t,"firstChild").get,Vr=mn(t,"nextSibling").get,Ga(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ga(s)&&(s.__t=void 0)}}function ks(e=""){return document.createTextNode(e)}function ls(e){return Ur.call(e)}function Pn(e){return Vr.call(e)}function c(e,t){return ls(e)}function Te(e,t=!1){{var s=ls(e);return s instanceof Comment&&s.data===""?Pn(s):s}}function d(e,t=1,s=!1){let a=e;for(;t--;)a=Pn(a);return a}function wi(e){e.textContent=""}function Hr(){return!1}let Xa=!1;function bi(){Xa||(Xa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const s of e.target.elements)(t=s.__on_r)==null||t.call(s)})},{capture:!0}))}function sa(e){var t=we,s=Pe;Pt(null),Xt(null);try{return e()}finally{Pt(t),Xt(s)}}function Ba(e,t,s,a=s){e.addEventListener(t,()=>sa(s));const l=e.__on_r;l?e.__on_r=()=>{l(),a(!0)}:e.__on_r=()=>a(!0),bi()}function Jr(e){Pe===null&&(we===null&&Ll(),Fl()),Rs&&Rl()}function ki(e,t){var s=t.last;s===null?t.last=t.first=e:(s.next=e,e.prev=s,t.last=e)}function es(e,t,s){var a=Pe;a!==null&&(a.f&bt)!==0&&(e|=bt);var l={ctx:Re,deps:null,nodes:null,f:e|tt|qt,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(s)try{xn(l),l.f|=qa}catch(v){throw pt(l),v}else t!==null&&Dt(l);var r=l;if(s&&r.deps===null&&r.teardown===null&&r.nodes===null&&r.first===r.last&&(r.f&vn)===0&&(r=r.first,(e&cs)!==0&&(e&js)!==0&&r!==null&&(r.f|=js)),r!==null&&(r.parent=a,a!==null&&ki(r,a),we!==null&&(we.f&et)!==0&&(e&Ls)===0)){var i=we;(i.effects??(i.effects=[])).push(r)}return l}function Da(){return we!==null&&!Ot}function na(e){const t=es(Tn,null,!1);return Ue(t,Ye),t.teardown=e,t}function on(e){Jr();var t=Pe.f,s=!we&&(t&Nt)!==0&&(t&qa)===0;if(s){var a=Re;(a.e??(a.e=[])).push(e)}else return Gr(e)}function Gr(e){return es(Jn|wr,e,!1)}function xi(e){return Jr(),es(Tn|wr,e,!0)}function ji(e){ws.ensure();const t=es(Ls|vn,e,!0);return(s={})=>new Promise(a=>{s.outro?As(t,()=>{pt(t),a(void 0)}):(pt(t),a(void 0))})}function Wr(e){return es(Jn,e,!1)}function Si(e){return es(Ma|vn,e,!0)}function aa(e,t=0){return es(Tn|t,e,!0)}function L(e,t=[],s=[],a=[]){fi(a,t,s,l=>{es(Tn,()=>e(...l.map(n)),!0)})}function In(e,t=0){var s=es(cs|t,e,!0);return s}function Tt(e){return es(Nt|vn,e,!0)}function Yr(e){var t=e.teardown;if(t!==null){const s=Rs,a=we;Za(!0),Pt(null);try{t.call(null)}finally{Za(s),Pt(a)}}}function Qr(e,t=!1){var s=e.first;for(e.first=e.last=null;s!==null;){const l=s.ac;l!==null&&sa(()=>{l.abort(Gs)});var a=s.next;(s.f&Ls)!==0?s.parent=null:pt(s,t),s=a}}function $i(e){for(var t=e.first;t!==null;){var s=t.next;(t.f&Nt)===0&&pt(t),t=s}}function pt(e,t=!0){var s=!1;(t||(e.f&yr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(zi(e.nodes.start,e.nodes.end),s=!0),Qr(e,t&&!s),Wn(e,0),Ue(e,_s);var a=e.nodes&&e.nodes.t;if(a!==null)for(const r of a)r.stop();Yr(e);var l=e.parent;l!==null&&l.first!==null&&Kr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function zi(e,t){for(;e!==null;){var s=e===t?null:Pn(e);e.remove(),e=s}}function Kr(e){var t=e.parent,s=e.prev,a=e.next;s!==null&&(s.next=a),a!==null&&(a.prev=s),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=s))}function As(e,t,s=!0){var a=[];Xr(e,a,!0);var l=()=>{s&&pt(e),t&&t()},r=a.length;if(r>0){var i=()=>--r||l();for(var v of a)v.out(i)}else l()}function Xr(e,t,s){if((e.f&bt)===0){e.f^=bt;var a=e.nodes&&e.nodes.t;if(a!==null)for(const v of a)(v.is_global||s)&&t.push(v);for(var l=e.first;l!==null;){var r=l.next,i=(l.f&js)!==0||(l.f&Nt)!==0&&(e.f&cs)!==0;Xr(l,t,i?s:!1),l=r}}}function Oa(e){Zr(e,!0)}function Zr(e,t){if((e.f&bt)!==0){e.f^=bt,(e.f&Ye)===0&&(Ue(e,tt),Dt(e));for(var s=e.first;s!==null;){var a=s.next,l=(s.f&js)!==0||(s.f&Nt)!==0;Zr(s,l?t:!1),s=a}var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)(i.is_global||t)&&i.in()}}function el(e,t){if(e.nodes)for(var s=e.nodes.start,a=e.nodes.end;s!==null;){var l=s===a?null:Pn(s);t.append(s),s=l}}let Un=!1,Rs=!1;function Za(e){Rs=e}let we=null,Ot=!1;function Pt(e){we=e}let Pe=null;function Xt(e){Pe=e}let Mt=null;function tl(e){we!==null&&(Mt===null?Mt=[e]:Mt.push(e))}let ft=null,mt=0,zt=null;function Ci(e){zt=e}let sl=1,Cs=0,Bs=Cs;function er(e){Bs=e}function nl(){return++sl}function An(e){var t=e.f;if((t&tt)!==0)return!0;if(t&et&&(e.f&=~Ds),(t&Ft)!==0){for(var s=e.deps,a=s.length,l=0;l<a;l++){var r=s[l];if(An(r)&&Or(r),r.wv>e.wv)return!0}(t&qt)!==0&&Xe===null&&Ue(e,Ye)}return!1}function al(e,t,s=!0){var a=e.reactions;if(a!==null&&!(Mt!==null&&nn.call(Mt,e)))for(var l=0;l<a.length;l++){var r=a[l];(r.f&et)!==0?al(r,t,!1):t===r&&(s?Ue(r,tt):(r.f&Ye)!==0&&Ue(r,Ft),Dt(r))}}function rl(e){var S;var t=ft,s=mt,a=zt,l=we,r=Mt,i=Re,v=Ot,o=Bs,u=e.f;ft=null,mt=0,zt=null,we=(u&(Nt|Ls))===0?e:null,Mt=null,an(e.ctx),Ot=!1,Bs=++Cs,e.ac!==null&&(sa(()=>{e.ac.abort(Gs)}),e.ac=null);try{e.f|=pa;var p=e.fn,_=p(),h=e.deps,b=de==null?void 0:de.is_fork;if(ft!==null){var g;if(b||Wn(e,mt),h!==null&&mt>0)for(h.length=mt+ft.length,g=0;g<ft.length;g++)h[mt+g]=ft[g];else e.deps=h=ft;if(Da()&&(e.f&qt)!==0)for(g=mt;g<h.length;g++)((S=h[g]).reactions??(S.reactions=[])).push(e)}else!b&&h!==null&&mt<h.length&&(Wn(e,mt),h.length=mt);if(Mn()&&zt!==null&&!Ot&&h!==null&&(e.f&(et|Ft|tt))===0)for(g=0;g<zt.length;g++)al(zt[g],e);if(l!==null&&l!==e){if(Cs++,l.deps!==null)for(let k=0;k<s;k+=1)l.deps[k].rv=Cs;if(t!==null)for(const k of t)k.rv=Cs;zt!==null&&(a===null?a=zt:a.push(...zt))}return(e.f&ms)!==0&&(e.f^=ms),_}catch(k){return Cr(k)}finally{e.f^=pa,ft=t,mt=s,zt=a,we=l,Mt=r,an(i),Ot=v,Bs=o}}function Ei(e,t){let s=t.reactions;if(s!==null){var a=Ml.call(s,e);if(a!==-1){var l=s.length-1;l===0?s=t.reactions=null:(s[a]=s[l],s.pop())}}if(s===null&&(t.f&et)!==0&&(ft===null||!nn.call(ft,t))){var r=t;(r.f&qt)!==0&&(r.f^=qt,r.f&=~Ds),Pa(r),Dr(r),Wn(r,0)}}function Wn(e,t){var s=e.deps;if(s!==null)for(var a=t;a<s.length;a++)Ei(e,s[a])}function xn(e){var t=e.f;if((t&_s)===0){Ue(e,Ye);var s=Pe,a=Un;Pe=e,Un=!0;try{(t&(cs|mr))!==0?$i(e):Qr(e),Yr(e);var l=rl(e);e.teardown=typeof l=="function"?l:null,e.wv=sl;var r;fa&&ti&&(e.f&tt)!==0&&e.deps}finally{Un=a,Pe=s}}}async function Ti(){await Promise.resolve(),ri()}function n(e){var t=e.f,s=(t&et)!==0;if(we!==null&&!Ot){var a=Pe!==null&&(Pe.f&_s)!==0;if(!a&&(Mt===null||!nn.call(Mt,e))){var l=we.deps;if((we.f&pa)!==0)e.rv<Cs&&(e.rv=Cs,ft===null&&l!==null&&l[mt]===e?mt++:ft===null?ft=[e]:ft.push(e));else{(we.deps??(we.deps=[])).push(e);var r=e.reactions;r===null?e.reactions=[we]:nn.call(r,we)||r.push(we)}}}if(Rs&&bs.has(e))return bs.get(e);if(s){var i=e;if(Rs){var v=i.v;return((i.f&Ye)===0&&i.reactions!==null||il(i))&&(v=Ia(i)),bs.set(i,v),v}var o=(i.f&qt)===0&&!Ot&&we!==null&&(Un||(we.f&qt)!==0),u=i.deps===null;An(i)&&(o&&(i.f|=qt),Or(i)),o&&!u&&ll(i)}if(Xe!=null&&Xe.has(e))return Xe.get(e);if((e.f&ms)!==0)throw e.v;return e.v}function ll(e){if(e.deps!==null){e.f|=qt;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&et)!==0&&(t.f&qt)===0&&ll(t)}}function il(e){if(e.v===Ke)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(bs.has(t)||(t.f&et)!==0&&il(t))return!0;return!1}function Ss(e){var t=Ot;try{return Ot=!0,e()}finally{Ot=t}}function qi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ys in e)ka(e);else if(!Array.isArray(e))for(let t in e){const s=e[t];typeof s=="object"&&s&&ys in s&&ka(s)}}}function ka(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{ka(e[a],t)}catch{}const s=Ea(e);if(s!==Object.prototype&&s!==Array.prototype&&s!==Map.prototype&&s!==Set.prototype&&s!==Date.prototype){const a=gr(s);for(let l in a){const r=a[l].get;if(r)try{r.call(e)}catch{}}}}}const Mi=["touchstart","touchmove"];function Pi(e){return Mi.includes(e)}const ol=new Set,xa=new Set;function Ii(e,t,s,a={}){function l(r){if(a.capture||gn.call(t,r),!r.cancelBubble)return sa(()=>s==null?void 0:s.call(this,r))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?vs(()=>{t.addEventListener(e,l,a)}):t.addEventListener(e,l,a),l}function Rt(e,t,s,a,l){var r={capture:a,passive:l},i=Ii(e,t,s,r);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&na(()=>{t.removeEventListener(e,i,r)})}function Ut(e){for(var t=0;t<e.length;t++)ol.add(e[t]);for(var s of xa)s(e)}let tr=null;function gn(e){var k;var t=this,s=t.ownerDocument,a=e.type,l=((k=e.composedPath)==null?void 0:k.call(e))||[],r=l[0]||e.target;tr=e;var i=0,v=tr===e&&e.__root;if(v){var o=l.indexOf(v);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=l.indexOf(t);if(u===-1)return;o<=u&&(i=o)}if(r=l[i]||e.target,r!==t){hr(e,"currentTarget",{configurable:!0,get(){return r||s}});var p=we,_=Pe;Pt(null),Xt(null);try{for(var h,b=[];r!==null;){var g=r.assignedSlot||r.parentNode||r.host||null;try{var S=r["__"+a];S!=null&&(!r.disabled||e.target===r)&&S.call(r,e)}catch(x){h?b.push(x):h=x}if(e.cancelBubble||g===t||g===null)break;r=g}if(h){for(let x of b)queueMicrotask(()=>{throw x});throw h}}finally{e.__root=t,delete e.currentTarget,Pt(p),Xt(_)}}}function vl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function jn(e,t){var s=Pe;s.nodes===null&&(s.nodes={start:e,end:t,a:null,t:null})}function j(e,t){var s=(t&xr)!==0,a=(t&Kl)!==0,l,r=!e.startsWith("<!>");return()=>{l===void 0&&(l=vl(r?e:"<!>"+e),s||(l=ls(l)));var i=a||Nr?document.importNode(l,!0):l.cloneNode(!0);if(s){var v=ls(i),o=i.lastChild;jn(v,o)}else jn(i,i);return i}}function Ai(e,t,s="svg"){var a=!e.startsWith("<!>"),l=(t&xr)!==0,r=`<${s}>${a?e:"<!>"+e}</${s}>`,i;return()=>{if(!i){var v=vl(r),o=ls(v);if(l)for(i=document.createDocumentFragment();ls(o);)i.appendChild(ls(o));else i=ls(o)}var u=i.cloneNode(!0);if(l){var p=ls(u),_=u.lastChild;jn(p,_)}else jn(u,u);return u}}function ot(e,t){return Ai(e,t,"svg")}function Ze(){var e=document.createDocumentFragment(),t=document.createComment(""),s=ks();return e.append(t,s),jn(t,s),e}function m(e,t){e!==null&&e.before(t)}function z(e,t){var s=t==null?"":typeof t=="object"?t+"":t;s!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=s,e.nodeValue=s+"")}function Bi(e,t){return Di(e,t)}const Hs=new Map;function Di(e,{target:t,anchor:s,props:a={},events:l,context:r,intro:i=!0}){yi();var v=new Set,o=_=>{for(var h=0;h<_.length;h++){var b=_[h];if(!v.has(b)){v.add(b);var g=Pi(b);t.addEventListener(b,gn,{passive:g});var S=Hs.get(b);S===void 0?(document.addEventListener(b,gn,{passive:g}),Hs.set(b,1)):Hs.set(b,S+1)}}};o(Zn(ol)),xa.add(o);var u=void 0,p=ji(()=>{var _=s??t.appendChild(ks());return vi(_,{pending:()=>{}},h=>{kt({});var b=Re;r&&(b.c=r),l&&(a.$$events=l),u=e(h,a)||{},xt()}),()=>{var g;for(var h of v){t.removeEventListener(h,gn);var b=Hs.get(h);--b===0?(document.removeEventListener(h,gn),Hs.delete(h)):Hs.set(h,b)}xa.delete(o),_!==s&&((g=_.parentNode)==null||g.removeChild(_))}});return Oi.set(u,p),u}let Oi=new WeakMap;var Bt,Yt,yt,Is,Cn,En,Xn;class Ra{constructor(t,s=!0){Ht(this,"anchor");ge(this,Bt,new Map);ge(this,Yt,new Map);ge(this,yt,new Map);ge(this,Is,new Set);ge(this,Cn,!0);ge(this,En,()=>{var t=de;if(y(this,Bt).has(t)){var s=y(this,Bt).get(t),a=y(this,Yt).get(s);if(a)Oa(a),y(this,Is).delete(s);else{var l=y(this,yt).get(s);l&&(y(this,Yt).set(s,l.effect),y(this,yt).delete(s),l.fragment.lastChild.remove(),this.anchor.before(l.fragment),a=l.effect)}for(const[r,i]of y(this,Bt)){if(y(this,Bt).delete(r),r===t)break;const v=y(this,yt).get(i);v&&(pt(v.effect),y(this,yt).delete(i))}for(const[r,i]of y(this,Yt)){if(r===s||y(this,Is).has(r))continue;const v=()=>{if(Array.from(y(this,Bt).values()).includes(r)){var u=document.createDocumentFragment();el(i,u),u.append(ks()),y(this,yt).set(r,{effect:i,fragment:u})}else pt(i);y(this,Is).delete(r),y(this,Yt).delete(r)};y(this,Cn)||!a?(y(this,Is).add(r),As(i,v,!1)):v()}}});ge(this,Xn,t=>{y(this,Bt).delete(t);const s=Array.from(y(this,Bt).values());for(const[a,l]of y(this,yt))s.includes(a)||(pt(l.effect),y(this,yt).delete(a))});this.anchor=t,pe(this,Cn,s)}ensure(t,s){var a=de,l=Hr();if(s&&!y(this,Yt).has(t)&&!y(this,yt).has(t))if(l){var r=document.createDocumentFragment(),i=ks();r.append(i),y(this,yt).set(t,{effect:Tt(()=>s(i)),fragment:r})}else y(this,Yt).set(t,Tt(()=>s(this.anchor)));if(y(this,Bt).set(a,t),l){for(const[v,o]of y(this,Yt))v===t?a.unskip_effect(o):a.skip_effect(o);for(const[v,o]of y(this,yt))v===t?a.unskip_effect(o.effect):a.skip_effect(o.effect);a.oncommit(y(this,En)),a.ondiscard(y(this,Xn))}else y(this,En).call(this)}}Bt=new WeakMap,Yt=new WeakMap,yt=new WeakMap,Is=new WeakMap,Cn=new WeakMap,En=new WeakMap,Xn=new WeakMap;function A(e,t,s=!1){var a=new Ra(e),l=s?js:0;function r(i,v){a.ensure(i,v)}In(()=>{var i=!1;t((v,o=!0)=>{i=!0,r(o,v)}),i||r(!1,null)},l)}function Ge(e,t){return t}function Ri(e,t,s){for(var a=[],l=t.length,r,i=t.length,v=0;v<l;v++){let _=t[v];As(_,()=>{if(r){if(r.pending.delete(_),r.done.add(_),r.pending.size===0){var h=e.outrogroups;ja(Zn(r.done)),h.delete(r),h.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=a.length===0&&s!==null;if(o){var u=s,p=u.parentNode;wi(p),p.append(u),e.items.clear()}ja(t,!o)}else r={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(r)}function ja(e,t=!0){for(var s=0;s<e.length;s++)pt(e[s],t)}var sr;function Ne(e,t,s,a,l,r=null){var i=e,v=new Map,o=(t&kr)!==0;if(o){var u=e;i=u.appendChild(ks())}var p=null,_=Br(()=>{var x=s();return Ca(x)?x:x==null?[]:Zn(x)}),h,b=!0;function g(){k.fallback=p,Fi(k,h,i,t,a),p!==null&&(h.length===0?(p.f&os)===0?Oa(p):(p.f^=os,_n(p,null,i)):As(p,()=>{p=null}))}var S=In(()=>{h=n(_);for(var x=h.length,N=new Set,V=de,te=Hr(),ne=0;ne<x;ne+=1){var be=h[ne],$e=a(be,ne),me=b?null:v.get($e);me?(me.v&&ln(me.v,be),me.i&&ln(me.i,ne),te&&V.unskip_effect(me.e)):(me=Li(v,b?i:sr??(sr=ks()),be,$e,ne,l,t,s),b||(me.e.f|=os),v.set($e,me)),N.add($e)}if(x===0&&r&&!p&&(b?p=Tt(()=>r(i)):(p=Tt(()=>r(sr??(sr=ks()))),p.f|=os)),x>N.size&&Ol(),!b)if(te){for(const[ke,Fe]of v)N.has(ke)||V.skip_effect(Fe.e);V.oncommit(g),V.ondiscard(()=>{})}else g();n(_)}),k={effect:S,items:v,outrogroups:null,fallback:p};b=!1}function pn(e){for(;e!==null&&(e.f&Nt)===0;)e=e.next;return e}function Fi(e,t,s,a,l){var Fe,st,Ve,ee,W,fe,X,J,ye;var r=(a&Yl)!==0,i=t.length,v=e.items,o=pn(e.effect.first),u,p=null,_,h=[],b=[],g,S,k,x;if(r)for(x=0;x<i;x+=1)g=t[x],S=l(g,x),k=v.get(S).e,(k.f&os)===0&&((st=(Fe=k.nodes)==null?void 0:Fe.a)==null||st.measure(),(_??(_=new Set)).add(k));for(x=0;x<i;x+=1){if(g=t[x],S=l(g,x),k=v.get(S).e,e.outrogroups!==null)for(const P of e.outrogroups)P.pending.delete(k),P.done.delete(k);if((k.f&os)!==0)if(k.f^=os,k===o)_n(k,null,s);else{var N=p?p.next:o;k===e.effect.last&&(e.effect.last=k.prev),k.prev&&(k.prev.next=k.next),k.next&&(k.next.prev=k.prev),ds(e,p,k),ds(e,k,N),_n(k,N,s),p=k,h=[],b=[],o=pn(p.next);continue}if((k.f&bt)!==0&&(Oa(k),r&&((ee=(Ve=k.nodes)==null?void 0:Ve.a)==null||ee.unfix(),(_??(_=new Set)).delete(k))),k!==o){if(u!==void 0&&u.has(k)){if(h.length<b.length){var V=b[0],te;p=V.prev;var ne=h[0],be=h[h.length-1];for(te=0;te<h.length;te+=1)_n(h[te],V,s);for(te=0;te<b.length;te+=1)u.delete(b[te]);ds(e,ne.prev,be.next),ds(e,p,ne),ds(e,be,V),o=V,p=be,x-=1,h=[],b=[]}else u.delete(k),_n(k,o,s),ds(e,k.prev,k.next),ds(e,k,p===null?e.effect.first:p.next),ds(e,p,k),p=k;continue}for(h=[],b=[];o!==null&&o!==k;)(u??(u=new Set)).add(o),b.push(o),o=pn(o.next);if(o===null)continue}(k.f&os)===0&&h.push(k),p=k,o=pn(k.next)}if(e.outrogroups!==null){for(const P of e.outrogroups)P.pending.size===0&&(ja(Zn(P.done)),(W=e.outrogroups)==null||W.delete(P));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||u!==void 0){var $e=[];if(u!==void 0)for(k of u)(k.f&bt)===0&&$e.push(k);for(;o!==null;)(o.f&bt)===0&&o!==e.fallback&&$e.push(o),o=pn(o.next);var me=$e.length;if(me>0){var ke=(a&kr)!==0&&i===0?s:null;if(r){for(x=0;x<me;x+=1)(X=(fe=$e[x].nodes)==null?void 0:fe.a)==null||X.measure();for(x=0;x<me;x+=1)(ye=(J=$e[x].nodes)==null?void 0:J.a)==null||ye.fix()}Ri(e,$e,ke)}}r&&vs(()=>{var P,Z;if(_!==void 0)for(k of _)(Z=(P=k.nodes)==null?void 0:P.a)==null||Z.apply()})}function Li(e,t,s,a,l,r,i,v){var o=(i&Gl)!==0?(i&Ql)===0?Fr(s,!1,!1):Os(s):null,u=(i&Wl)!==0?Os(l):null;return{v:o,i:u,e:Tt(()=>(r(t,o??s,u??l,v),()=>{e.delete(a)}))}}function _n(e,t,s){if(e.nodes)for(var a=e.nodes.start,l=e.nodes.end,r=t&&(t.f&os)===0?t.nodes.start:s;a!==null;){var i=Pn(a);if(r.before(a),a===l)return;a=i}}function ds(e,t,s){t===null?e.effect.first=s:t.next=s,s===null?e.effect.last=t:s.prev=t}function cl(e,t,...s){var a=new Ra(e);In(()=>{const l=t()??null;a.ensure(l,l&&(r=>l(r,...s)))},js)}function Ni(e,t,s){var a=new Ra(e);In(()=>{var l=t()??null;a.ensure(l,l&&(r=>s(r,l)))},js)}const nr=[...` 	
\r\fÂ \v\uFEFF`];function Ui(e,t,s){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),s){for(var l in s)if(s[l])a=a?a+" "+l:l;else if(a.length)for(var r=l.length,i=0;(i=a.indexOf(l,i))>=0;){var v=i+r;(i===0||nr.includes(a[i-1]))&&(v===a.length||nr.includes(a[v]))?a=(i===0?"":a.substring(0,i))+a.substring(v+1):i=v}}return a===""?null:a}function Vi(e,t){return e==null?null:String(e)}function _e(e,t,s,a,l,r){var i=e.__className;if(i!==s||i===void 0){var v=Ui(s,a,r);v==null?e.removeAttribute("class"):e.className=v,e.__className=s}else if(r&&l!==r)for(var o in r){var u=!!r[o];(l==null||u!==!!l[o])&&e.classList.toggle(o,u)}return r}function cn(e,t,s,a){var l=e.__style;if(l!==t){var r=Vi(t);r==null?e.removeAttribute("style"):e.style.cssText=r,e.__style=t}return a}function ul(e,t,s=!1){if(e.multiple){if(t==null)return;if(!Ca(t))return Zl();for(var a of e.options)a.selected=t.includes(bn(a));return}for(a of e.options){var l=bn(a);if(mi(l,t)){a.selected=!0;return}}(!s||t!==void 0)&&(e.selectedIndex=-1)}function Hi(e){var t=new MutationObserver(()=>{ul(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),na(()=>{t.disconnect()})}function Ji(e,t,s=t){var a=new WeakSet,l=!0;Ba(e,"change",r=>{var i=r?"[selected]":":checked",v;if(e.multiple)v=[].map.call(e.querySelectorAll(i),bn);else{var o=e.querySelector(i)??e.querySelector("option:not([disabled])");v=o&&bn(o)}s(v),de!==null&&a.add(de)}),Wr(()=>{var r=t();if(e===document.activeElement){var i=Gn??de;if(a.has(i))return}if(ul(e,r,l),l&&r===void 0){var v=e.querySelector(":checked");v!==null&&(r=bn(v),s(r))}e.__value=r,l=!1}),Hi(e)}function bn(e){return"__value"in e?e.__value:e.value}const Gi=Symbol("is custom element"),Wi=Symbol("is html");function Yi(e,t){var s=dl(e);s.value===(s.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function xs(e,t,s,a){var l=dl(e);l[t]!==(l[t]=s)&&(t==="loading"&&(e[Bl]=s),s==null?e.removeAttribute(t):typeof s!="string"&&Qi(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function dl(e){return e.__attributes??(e.__attributes={[Gi]:e.nodeName.includes("-"),[Wi]:e.namespaceURI===Xl})}var ar=new Map;function Qi(e){var t=e.getAttribute("is")||e.nodeName,s=ar.get(t);if(s)return s;ar.set(t,s=[]);for(var a,l=e,r=Element.prototype;r!==l;){a=gr(l);for(var i in a)a[i].set&&s.push(i);l=Ea(l)}return s}function kn(e,t,s=t){var a=new WeakSet;Ba(e,"input",async l=>{var r=l?e.defaultValue:e.value;if(r=oa(e)?va(r):r,s(r),de!==null&&a.add(de),await Ti(),r!==(r=t())){var i=e.selectionStart,v=e.selectionEnd,o=e.value.length;if(e.value=r??"",v!==null){var u=e.value.length;i===v&&v===o&&u>o?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=i,e.selectionEnd=Math.min(v,u))}}}),Ss(t)==null&&e.value&&(s(oa(e)?va(e.value):e.value),de!==null&&a.add(de)),aa(()=>{var l=t();if(e===document.activeElement){var r=Gn??de;if(a.has(r))return}oa(e)&&l===va(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function fl(e,t,s=t){Ba(e,"change",a=>{var l=a?e.defaultChecked:e.checked;s(l)}),Ss(t)==null&&s(e.checked),aa(()=>{var a=t();e.checked=!!a})}function oa(e){var t=e.type;return t==="number"||t==="range"}function va(e){return e===""?null:+e}function rr(e,t){return e===t||(e==null?void 0:e[ys])===t}function Bn(e={},t,s,a){return Wr(()=>{var l,r;return aa(()=>{l=r,r=[],Ss(()=>{e!==s(...r)&&(t(e,...r),l&&rr(s(...l),e)&&t(null,...l))})}),()=>{vs(()=>{r&&rr(s(...r),e)&&t(null,...r)})}}),e}function Ki(e=!1){const t=Re,s=t.l.u;if(!s)return;let a=()=>qi(t.s);if(e){let l=0,r={};const i=ta(()=>{let v=!1;const o=t.s;for(const u in o)o[u]!==r[u]&&(r[u]=o[u],v=!0);return v&&l++,l});a=()=>n(i)}s.b.length&&xi(()=>{lr(t,a),Hn(s.b)}),on(()=>{const l=Ss(()=>s.m.map(Al));return()=>{for(const r of l)typeof r=="function"&&r()}}),s.a.length&&on(()=>{lr(t,a),Hn(s.a)})}function lr(e,t){if(e.l.s)for(const s of e.l.s)n(s);t()}function Fa(e,t,s){if(e==null)return t(void 0),s&&s(void 0),gs;const a=Ss(()=>e.subscribe(t,s));return a.unsubscribe?()=>a.unsubscribe():a}const Js=[];function Xi(e,t){return{subscribe:Ns(e,t).subscribe}}function Ns(e,t=gs){let s=null;const a=new Set;function l(v){if(Sr(e,v)&&(e=v,s)){const o=!Js.length;for(const u of a)u[1](),Js.push(u,e);if(o){for(let u=0;u<Js.length;u+=2)Js[u][0](Js[u+1]);Js.length=0}}}function r(v){l(v(e))}function i(v,o=gs){const u=[v,o];return a.add(u),a.size===1&&(s=t(l,r)||gs),v(e),()=>{a.delete(u),a.size===0&&s&&(s(),s=null)}}return{set:l,update:r,subscribe:i}}function La(e,t,s){const a=!Array.isArray(e),l=a?[e]:e;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return Xi(s,(i,v)=>{let o=!1;const u=[];let p=0,_=gs;const h=()=>{if(p)return;_();const g=t(a?u[0]:u,i,v);r?i(g):_=typeof g=="function"?g:gs},b=l.map((g,S)=>Fa(g,k=>{u[S]=k,p&=~(1<<S),o&&h()},()=>{p|=1<<S}));return o=!0,h(),function(){Hn(b),_(),o=!1}})}function Fs(e){let t;return Fa(e,s=>t=s)(),t}let Sa=Symbol();function Lt(e,t,s){const a=s[t]??(s[t]={store:null,source:Fr(void 0),unsubscribe:gs});if(a.store!==e&&!(Sa in s))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=gs;else{var l=!0;a.unsubscribe=Fa(e,r=>{l?a.source.v=r:f(a.source,r)}),l=!1}return e&&Sa in s?Fs(e):n(a.source)}function us(){const e={};function t(){na(()=>{for(var s in e)e[s].unsubscribe();hr(e,Sa,{enumerable:!1,value:!0})})}return[e,t]}function $a(e,t,s,a){var l=a,r=!0,i=()=>(r&&(r=!1,l=a),l),v;v=e[t],v===void 0&&a!==void 0&&(v=i());var o;return o=()=>{var u=e[t];return u===void 0?i():(r=!0,u)},o}function Dn(e){Re===null&&br(),qn&&Re.l!==null?Zi(Re).m.push(e):on(()=>{const t=Ss(e);if(typeof t=="function")return t})}function pl(e){Re===null&&br(),Dn(()=>()=>Ss(e))}function Zi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const eo="5";var pr;typeof window<"u"&&((pr=window.__svelte??(window.__svelte={})).v??(pr.v=new Set)).add(eo);const Na=Ns(window.location.hash.slice(1)||"/");window.addEventListener("hashchange",()=>{Na.set(window.location.hash.slice(1)||"/")});const Ua=La(Na,e=>e.split("?")[0]||"/"),to=La(Na,e=>{const t=e.indexOf("?");return t>=0?e.slice(t+1):""}),so=La(to,e=>Object.fromEntries(new URLSearchParams(e)));function no(e){window.location.hash="#"+e}si();let ao=0;function ro(){const{subscribe:e,update:t}=Ns([]);return{subscribe:e,add(s,a="info",l=3e3){const r={id:ao++,message:s,type:a};t(i=>[...i,r]),setTimeout(()=>{t(i=>i.filter(v=>v.id!==r.id))},l)},remove(s){t(a=>a.filter(l=>l.id!==s))}}}const hl=ro();function Ee(e,t,s){hl.add(e,t,s)}var lo=j('<div role="alert"> </div>');function io(e,t){let s=$a(t,"type",3,"info");var a=lo(),l=c(a);L(()=>{_e(a,1,`toast ${s()??""}`,"svelte-1i7wnxu"),z(l,t.message)}),m(e,a)}var oo=j('<div class="toast-container svelte-3knp8x"></div>');function vo(e){const t=()=>Lt(hl,"$toasts",s),[s,a]=us();var l=oo();Ne(l,5,t,r=>r.id,(r,i)=>{io(r,{get message(){return n(i).message},get type(){return n(i).type}})}),m(e,l),a()}function Me(){const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"http://localhost:3001":"https://yoink.coah80.com"}async function ca(e,t={}){const s=await fetch(e,t),a=s.headers.get("content-type");if(!s.ok){let l=`Request failed (${s.status})`;if(a&&a.includes("application/json"))l=(await s.json()).error||l;else{const r=await s.text();console.error("Non-JSON error response:",r.substring(0,500)),l=`Server error ${s.status} (likely VPN blocked)`}throw new Error(l)}return s.json()}function gl(e,{onMessage:t,onError:s,maxReconnectAttempts:a=10}){let l=0,r=null,i=!1;function v(){i||(r=new EventSource(`${Me()}/api/progress/${e}`),r.onmessage=u=>{try{const p=JSON.parse(u.data);l=0,t(p),(p.stage==="complete"||p.stage==="error"||p.stage==="cancelled")&&o()}catch(p){console.error("SSE parse error:",p)}},r.onerror=()=>{if(r.close(),!i)if(l<a){l++;const u=Math.min(1e3*l,5e3);s&&s({type:"reconnecting",attempt:l,max:a}),setTimeout(v,u)}else s&&s({type:"failed",message:"Connection lost - refresh page to retry"})})}function o(){i=!0,r&&(r.close(),r=null)}return v(),{close:o}}const Sn=[],co=5;function ir(e){e.parentNode&&e.parentNode.removeChild(e);const t=Sn.indexOf(e);t>-1&&Sn.splice(t,1)}function uo(){for(;Sn.length>co;){const e=Sn.shift();e&&e.parentNode&&e.parentNode.removeChild(e)}}function fo(e){const t=document.createElement("iframe");t.style.display="none",t.src=e,document.body.appendChild(t),Sn.push(t),uo(),t.onload=()=>setTimeout(()=>ir(t),5e3),setTimeout(()=>ir(t),120*1e3)}function _l(e,t){const s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}const Yn=Ns(sessionStorage.getItem("yoink_clientId")||null),Ys=new Set;let po=0,Kt=null,hn=0;const ho=3;async function go(){let e=Fs(Yn);if(!e){try{e=(await(await fetch(`${Me()}/api/connect`,{method:"POST"})).json()).clientId}catch{e="local-"+Date.now()+"-"+Math.random().toString(36).slice(2,11)}sessionStorage.setItem("yoink_clientId",e),Yn.set(e)}return e}function Va(){const e=`job-${++po}-${Date.now()}`,t=Ys.size===0;if(Ys.add(e),t&&!Kt){hn=0;const s=Fs(Yn);s&&!s.startsWith("local-")&&fetch(`${Me()}/api/heartbeat/${s}`,{method:"POST"}).catch(()=>{}),Kt=setInterval(async()=>{const a=Fs(Yn);if(!(!a||a.startsWith("local-")))try{await fetch(`${Me()}/api/heartbeat/${a}`,{method:"POST"}),hn=0}catch{hn++,hn>=ho&&(clearInterval(Kt),Kt=null,hn=0)}},15e3)}return e}function Qt(e){e?Ys.delete(e):Ys.clear(),Ys.size===0&&Kt&&(clearInterval(Kt),Kt=null)}typeof window<"u"&&window.addEventListener("beforeunload",()=>{Kt&&(clearInterval(Kt),Kt=null),Ys.clear()});const or=[{text:"yoink it, go on..."},{text:"not cobalt"},{text:"im bored"},{text:"have you yoinked it today?"},{text:"download helium browser",link:"https://helium.computer/",classes:["clickable"]},{text:"dont like it? use cliply (dont)"},{text:"the biggest yt-dlp wrapper of them all"},{text:"awesome name, right?"},{text:"get yoinked!"},{text:"funny message here"},{text:"SHOUTOUT TO COAH"},{text:"new feature: yoink!"},{text:"new feature: ai download"},{text:"welcome to yoink.tools"},{text:"feelin' yoinky?"},{text:"im parched"},{text:"stay hydrated!"},{text:"computers are cool"},{text:"missing assignments?"},{text:"procrastinate with yoink"},{text:"newgrounds.com",link:"https://newgrounds.com",classes:["clickable"]},{text:"bring back flash!"},{text:"FUCK ICE"},{text:"post this one to twitter"},{text:"google i need yoinks! NOW!!!!!"},{text:"im feeling fancy today...",classes:["fancy"]},{text:"powered by yt-dlp"},{text:"hello world!"},{text:"1000+ sites!",link:"https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md",classes:["clickable"]},{text:"yes, that site works. even the one you're thinking of."}],_o=["4tube","alphaporno","beeg","behindkink","bongacams","cam4","cammodels","camsoda","chaturbate","drtuber","empflix","eporner","erocast","eroprofile","fux","hellporno","hotmovs","iceporn","lovehomeporn","manyvids","motherless","moviefap","noodlemagazine","nuvid","peekvideos","peekvids","playvids","porn","pornbox","pornerbros","pornflip","pornhub","pornotube","pornovoisines","pornoxo","porntop","porntube","redtube","rule34video","slutload","spankbang","stripchat","sunporno","thisvid","tnaflix","tube8","txxx","xhamster","xnxx","xvideos","xxxymovies","youjizz","youporn","zenporn","xtube","erome","hentai","hclips","gotporn","fuq","ashemaletube"];function mo(e){try{const t=new URL(e).hostname.toLowerCase().replace("www.","");return _o.some(s=>t.includes(s))}catch{return!1}}const ua={quality:"1080p",codec:"h264",container:"mp4",audioFormat:"mp3",audioBitrate:"320",filenameStyle:"basic",playlistPreference:null,twitterGifs:!0,analytics:!0},Vn=["starting","downloading","processing","remuxing","sending","zipping","playlist-info"];function yo(){let e={...ua};try{const r=localStorage.getItem("yoink_settings");r&&(e={...ua,...JSON.parse(r)})}catch{}const{subscribe:t,set:s,update:a}=Ns(e);function l(r){localStorage.setItem("yoink_settings",JSON.stringify(r))}return{subscribe:t,set(r){l(r),s(r)},update(r){a(i=>{const v=r(i);return l(v),v})},setSetting(r,i){a(v=>{const o={...v,[r]:i};return l(o),o})},reset(){const r={...ua};l(r),s(r)}}}const is=yo();function wo(){let e=[];try{const o=localStorage.getItem("yoink_queue");o&&(e=JSON.parse(o).map(u=>Vn.includes(u.stage)?{...u,stage:"queued",progress:0,status:"Interrupted - tap to restart"}:u).filter(u=>u.stage!=="complete"&&u.stage!=="error"))}catch{e=[]}const{subscribe:t,set:s,update:a}=Ns(e),l=new Map,r=new Map;function i(o){localStorage.setItem("yoink_queue",JSON.stringify(o))}function v(){return Fs({subscribe:t})}return{subscribe:t,add(o){a(u=>{if(u.some(_=>_.id===o.id))return u;const p=[...u,o];return i(p),p})},remove(o){const u=l.get(o);u&&(u.close(),l.delete(o));const p=r.get(o);p&&(Qt(p),r.delete(o));const h=v().find(b=>b.id===o);h&&Vn.includes(h.stage)&&fetch(`${Me()}/api/cancel/${o}`,{method:"POST"}).catch(()=>{}),a(b=>{const g=b.filter(S=>S.id!==o);return i(g),g})},updateItem(o,u){a(p=>{const _=p.map(h=>h.id===o?{...h,...u}:h);return i(_),_})},clear(){v().forEach(u=>{const p=l.get(u.id);p&&p.close();const _=r.get(u.id);_&&Qt(_),Vn.includes(u.stage)&&fetch(`${Me()}/api/cancel/${u.id}`,{method:"POST"}).catch(()=>{})}),l.clear(),r.clear(),s([]),i([])},startDownload(o){const u=Fs(is),p=Va();r.set(o.id,p),this.updateItem(o.id,{stage:"starting",status:"starting download...",startTime:Date.now()});const _=gl(o.id,{onMessage:g=>{const S={stage:g.stage,status:g.message};if(g.progress!==void 0&&(S.progress=g.progress),g.speed!==void 0&&(S.speed=g.speed),g.eta!==void 0&&(S.eta=g.eta),g.totalVideos!==void 0&&(S.videoCount=g.totalVideos),g.currentVideo!==void 0&&(S.currentVideo=g.currentVideo),g.currentVideoTitle!==void 0&&(S.currentVideoTitle=g.currentVideoTitle),g.format!==void 0&&(S.formatDisplay=g.format),g.downloadedCount!==void 0&&(S.downloadedCount=g.downloadedCount),g.failedVideos&&(S.failedVideos=g.failedVideos),g.failedCount!==void 0&&(S.failedCount=g.failedCount),this.updateItem(o.id,S),g.stage==="complete"){S.endTime=Date.now(),this.updateItem(o.id,S),Qt(p),r.delete(o.id),l.delete(o.id);const x=v().find(ne=>ne.id===o.id),N=x!=null&&x.startTime?Math.floor((Date.now()-x.startTime)/1e3):0,V=N>=60?`${Math.floor(N/60)}m ${N%60}s`:`${N}s`,te=o.format==="images"?"Gallery download complete!":o.isPlaylist?"Playlist download complete!":`Download complete! (${V})`;Ee(te,"success"),setTimeout(()=>this.remove(o.id),5e3)}else g.stage==="error"?(Qt(p),r.delete(o.id),l.delete(o.id),Ee(g.message,"error")):g.stage==="cancelled"&&(Qt(p),r.delete(o.id),l.delete(o.id))},onError:g=>{g.type==="reconnecting"?this.updateItem(o.id,{status:`Reconnecting... (${g.attempt}/${g.max})`}):(this.updateItem(o.id,{stage:"error",status:g.message}),Qt(p),r.delete(o.id),l.delete(o.id))}});l.set(o.id,_);const h=new URLSearchParams({url:o.url,format:o.format,filename:o.title,quality:u.quality,container:u.container,audioFormat:u.audioFormat,audioBitrate:u.audioBitrate,progressId:o.id,twitterGifs:u.twitterGifs!==!1?"true":"false"});let b;o.format==="images"?b="/api/gallery/download":o.isPlaylist?b="/api/download-playlist":b="/api/download",fo(`${Me()}${b}?${h.toString()}`)},startAllQueued(){v().filter(p=>p.stage==="queued").forEach((p,_)=>{setTimeout(()=>this.startDownload(p),_*500)})},retryDownload(o){if(!v().find(g=>g.id===o))return;const _=Date.now().toString()+Math.random().toString(36).substr(2,9);this.updateItem(o,{id:_,stage:"queued",progress:0,status:"Queued for retry",logs:[],endTime:null});const b=v().find(g=>g.id===_);b&&this.startDownload(b)},async finishPlaylistEarly(o){try{await fetch(`${Me()}/api/finish-early/${o}`,{method:"POST"})}catch{Ee("Failed to finish early","error")}}}}const wt=wo();var bo=ot('<polyline points="20 6 9 17 4 12"></polyline>'),ko=ot('<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',1),xo=ot('<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',1),jo=ot('<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',1),So=ot('<path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path><path d="M9 12l2 2 4-4"></path>',1),$o=ot('<polygon points="5 3 19 12 5 21 5 3"></polygon>'),zo=j('<span class="queue-item-format svelte-151vo4w"> </span>'),Co=j('<span class="queue-item-timer svelte-151vo4w"> </span>'),Eo=j('<button class="queue-item-retry svelte-151vo4w" title="Retry"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg></button>'),To=j('<button class="queue-item-retry svelte-151vo4w" title="Start now"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></button>'),qo=j('<button class="queue-item-retry svelte-151vo4w" title="Download now (skip remaining)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg></button>'),Mo=j('<div class="queue-item-progress svelte-151vo4w"><div class="queue-item-progress-fill svelte-151vo4w"></div></div>'),Po=j('<div class="queue-item-failed-item svelte-151vo4w"><span class="queue-item-failed-num svelte-151vo4w"> </span> <span> </span></div>'),Io=j('<div class="queue-item-failed svelte-151vo4w"><div class="queue-item-failed-header svelte-151vo4w"> </div> <!></div>'),Ao=j('<div class="queue-item svelte-151vo4w"><div class="queue-item-header svelte-151vo4w"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-151vo4w"><!></svg></div> <div class="queue-item-info svelte-151vo4w"><div class="queue-item-title svelte-151vo4w"> <!> <!></div> <div> </div></div> <div class="queue-item-actions svelte-151vo4w"><!> <!> <!> <button class="queue-item-remove svelte-151vo4w" title="Remove"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div></div> <!> <!></div>');function Bo(e,t){kt(t,!0);let s=ie(()=>Vn.includes(t.item.stage)),a=ie(()=>t.item.stage==="complete"),l=ie(()=>t.item.stage==="error"),r=ie(()=>t.item.stage==="queued"),i=ie(()=>n(s)&&t.item.progress!==void 0),v=ie(()=>n(s)?"active":n(a)?"success":n(l)?"error":""),o=ie(()=>{if(!t.item.startTime||!n(s)&&!n(a))return"";const M=n(a)&&t.item.endTime?t.item.endTime:Date.now(),w=Math.floor((M-t.item.startTime)/1e3),B=Math.floor(w/60);return B>0?`${B}m ${w%60}s`:`${w}s`}),u=ie(()=>{if(t.item.isPlaylist&&t.item.currentVideo&&t.item.videoCount)return`${t.item.currentVideo}/${t.item.videoCount} - ${t.item.currentVideoTitle||t.item.status}`;let M=t.item.status||"waiting...";if(n(s)&&(t.item.speed||t.item.eta)){const w=[];t.item.speed&&w.push(t.item.speed),t.item.eta&&w.push(`~${t.item.eta} left`),w.length&&(M+=` Â· ${w.join(" Â· ")}`)}return M});var p=Ao(),_=c(p),h=c(_);let b;var g=c(h),S=c(g);{var k=M=>{var w=bo();m(M,w)},x=M=>{var w=Ze(),B=Te(w);{var U=H=>{var Q=ko();m(H,Q)},D=H=>{var Q=Ze(),qe=Te(Q);{var oe=le=>{var Se=xo();m(le,Se)},ze=le=>{var Se=Ze(),Be=Te(Se);{var He=vt=>{var gt=jo();m(vt,gt)},ht=vt=>{var gt=Ze(),nt=Te(gt);{var _t=at=>{var jt=So();m(at,jt)},ct=at=>{var jt=$o();m(at,jt)};A(nt,at=>{n(s)?at(_t):at(ct,!1)},!0)}m(vt,gt)};A(Be,vt=>{t.item.format==="audio"?vt(He):vt(ht,!1)},!0)}m(le,Se)};A(qe,le=>{t.item.isPlaylist?le(oe):le(ze,!1)},!0)}m(H,Q)};A(B,H=>{n(l)?H(U):H(D,!1)},!0)}m(M,w)};A(S,M=>{n(a)?M(k):M(x,!1)})}var N=d(h,2),V=c(N),te=c(V),ne=d(te);{var be=M=>{var w=zo(),B=c(w);L(()=>z(B,t.item.formatDisplay)),m(M,w)};A(ne,M=>{t.item.isPlaylist&&t.item.formatDisplay&&M(be)})}var $e=d(ne,2);{var me=M=>{var w=Co(),B=c(w);L(()=>z(B,n(o))),m(M,w)};A($e,M=>{n(o)&&M(me)})}var ke=d(V,2),Fe=c(ke),st=d(N,2),Ve=c(st);{var ee=M=>{var w=Eo();w.__click=B=>{B.stopPropagation(),wt.retryDownload(t.item.id)},m(M,w)};A(Ve,M=>{n(l)&&t.item.url&&M(ee)})}var W=d(Ve,2);{var fe=M=>{var w=To();w.__click=B=>{B.stopPropagation(),wt.startDownload(t.item)},m(M,w)};A(W,M=>{n(r)&&M(fe)})}var X=d(W,2);{var J=M=>{var w=qo();w.__click=B=>{B.stopPropagation(),wt.finishPlaylistEarly(t.item.id)},m(M,w)};A(X,M=>{t.item.isPlaylist&&n(s)&&t.item.currentVideo>0&&M(J)})}var ye=d(X,2);ye.__click=M=>{M.stopPropagation(),wt.remove(t.item.id)};var P=d(_,2);{var Z=M=>{var w=Mo(),B=c(w);L(()=>cn(B,`width: ${(t.item.progress||0)??""}%`)),m(M,w)};A(P,M=>{n(i)&&M(Z)})}var Y=d(P,2);{var he=M=>{var w=Io(),B=c(w),U=c(B),D=d(B,2);Ne(D,17,()=>t.item.failedVideos,Ge,(H,Q)=>{var qe=Po(),oe=c(qe),ze=c(oe),le=d(oe,2),Se=c(le);L(()=>{z(ze,`#${n(Q).num??""}`),z(Se,`${(n(Q).title||"Video")??""} - ${(n(Q).reason||"Download failed")??""}`)}),m(H,qe)}),L(()=>z(U,`failed videos (${(t.item.failedCount||t.item.failedVideos.length)??""})`)),m(M,w)};A(Y,M=>{var w;t.item.isPlaylist&&((w=t.item.failedVideos)==null?void 0:w.length)>0&&M(he)})}L(()=>{b=_e(h,1,"queue-item-icon svelte-151vo4w",null,b,{spinning:n(s)}),z(te,`${t.item.title??""} `),_e(ke,1,`queue-item-status ${n(v)??""}`,"svelte-151vo4w"),z(Fe,n(u))}),m(e,p),xt()}Ut(["click"]);var Do=j('<button class="queue-clear svelte-i3r5ty">clear all</button>'),Oo=j('<div class="queue-empty svelte-i3r5ty">no downloads yet</div>'),Ro=j('<div class="queue-dropdown-header svelte-i3r5ty"><span class="queue-dropdown-title svelte-i3r5ty">downloads</span> <div class="queue-header-actions svelte-i3r5ty"><button class="queue-start-all svelte-i3r5ty" title="Start all queued"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-i3r5ty"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></button> <!></div></div> <div class="queue-list svelte-i3r5ty"><!></div>',1);function ml(e,t){kt(t,!0);const s=()=>Lt(wt,"$queue",a),[a,l]=us();let r=ie(s),i=ie(()=>n(r).length>0);var v=Ro(),o=Te(v),u=d(c(o),2),p=c(u);p.__click=()=>wt.startAllQueued();var _=d(p,2);{var h=x=>{var N=Do();N.__click=()=>{wt.clear(),Ee("Queue cleared","info")},m(x,N)};A(_,x=>{n(i)&&x(h)})}var b=d(o,2),g=c(b);{var S=x=>{var N=Ze(),V=Te(N);Ne(V,17,()=>n(r),te=>te.id,(te,ne)=>{Bo(te,{get item(){return n(ne)}})}),m(x,N)},k=x=>{var N=Oo();m(x,N)};A(g,x=>{n(i)?x(S):x(k,!1)})}m(e,v),xt(),l()}Ut(["click"]);var Fo=ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" class="svelte-1xkxv2n"></path><polyline points="7 10 12 15 17 10" class="svelte-1xkxv2n"></polyline><line x1="12" y1="15" x2="12" y2="3" class="svelte-1xkxv2n"></line></svg>'),Lo=ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><polyline points="17 1 21 5 17 9" class="svelte-1xkxv2n"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14" class="svelte-1xkxv2n"></path><polyline points="7 23 3 19 7 15" class="svelte-1xkxv2n"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3" class="svelte-1xkxv2n"></path></svg>'),No=ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><polyline points="4 14 10 14 10 20" class="svelte-1xkxv2n"></polyline><polyline points="20 10 14 10 14 4" class="svelte-1xkxv2n"></polyline><line x1="14" y1="10" x2="21" y2="3" class="svelte-1xkxv2n"></line><line x1="3" y1="21" x2="10" y2="14" class="svelte-1xkxv2n"></line></svg>'),Uo=ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><circle cx="12" cy="12" r="3" class="svelte-1xkxv2n"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" class="svelte-1xkxv2n"></path></svg>'),Vo=j('<a><div class="nav-icon svelte-1xkxv2n"><!></div> <span class="nav-label svelte-1xkxv2n"> </span></a>'),Ho=j('<span class="nav-badge svelte-1xkxv2n"> </span>'),Jo=j('<div class="queue-sheet-overlay svelte-1xkxv2n"></div> <div><div class="sheet-handle svelte-1xkxv2n"></div> <!></div>',1),Go=j('<nav class="bottom-nav svelte-1xkxv2n"><!> <button><div class="nav-icon svelte-1xkxv2n"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><line x1="8" y1="6" x2="21" y2="6" class="svelte-1xkxv2n"></line><line x1="8" y1="12" x2="21" y2="12" class="svelte-1xkxv2n"></line><line x1="8" y1="18" x2="21" y2="18" class="svelte-1xkxv2n"></line><line x1="3" y1="6" x2="3.01" y2="6" class="svelte-1xkxv2n"></line><line x1="3" y1="12" x2="3.01" y2="12" class="svelte-1xkxv2n"></line><line x1="3" y1="18" x2="3.01" y2="18" class="svelte-1xkxv2n"></line></svg> <!></div> <span class="nav-label svelte-1xkxv2n">queue</span></button></nav> <!>',1);function Wo(e,t){kt(t,!0);const s=()=>Lt(wt,"$queue",l),a=()=>Lt(Ua,"$path",l),[l,r]=us();let i=I(!1),v,o=I(0),u=I(!1),p=0,_=0,h=ie(s),b=ie(()=>n(h).length),g=ie(a),S=ie(()=>n(h).filter(X=>["starting","downloading","processing","zipping","sending"].includes(X.stage)).length);function k(X){X.preventDefault(),X.stopPropagation(),f(i,!n(i)),f(o,0)}function x(){f(i,!1),f(o,0)}function N(X){const J=v;J&&(J.scrollTop>0&&X.target.closest(".queue-sheet")&&!X.target.closest(".sheet-handle")||(p=X.touches[0].clientY,_=Date.now(),f(u,!0)))}function V(X){if(!n(u))return;const J=X.touches[0].clientY-p;J>0?(f(o,J),X.preventDefault()):f(o,0)}function te(){if(!n(u))return;f(u,!1);const X=n(o)/(Date.now()-_);n(o)>80||X>.5?x():f(o,0)}const ne=[{href:"/",label:"download",icon:"download"},{href:"/convert",label:"convert",icon:"convert"},{href:"/compress",label:"compress",icon:"compress"},{href:"/settings",label:"settings",icon:"settings"}];var be=Go();Rt("keydown",Aa,X=>{X.key==="Escape"&&n(i)&&x()});var $e=Te(be),me=c($e);Ne(me,17,()=>ne,Ge,(X,J)=>{var ye=Vo();let P;var Z=c(ye),Y=c(Z);{var he=U=>{var D=Fo();m(U,D)},M=U=>{var D=Ze(),H=Te(D);{var Q=oe=>{var ze=Lo();m(oe,ze)},qe=oe=>{var ze=Ze(),le=Te(ze);{var Se=He=>{var ht=No();m(He,ht)},Be=He=>{var ht=Ze(),vt=Te(ht);{var gt=nt=>{var _t=Uo();m(nt,_t)};A(vt,nt=>{n(J).icon==="settings"&&nt(gt)},!0)}m(He,ht)};A(le,He=>{n(J).icon==="compress"?He(Se):He(Be,!1)},!0)}m(oe,ze)};A(H,oe=>{n(J).icon==="convert"?oe(Q):oe(qe,!1)},!0)}m(U,D)};A(Y,U=>{n(J).icon==="download"?U(he):U(M,!1)})}var w=d(Z,2),B=c(w);L(()=>{P=_e(ye,1,"bottom-nav-item svelte-1xkxv2n",null,P,{active:n(g)===n(J).href}),xs(ye,"href",`#${n(J).href??""}`),z(B,n(J).label)}),m(X,ye)});var ke=d(me,2);let Fe;ke.__click=k;var st=c(ke),Ve=d(c(st),2);{var ee=X=>{var J=Ho(),ye=c(J);L(()=>z(ye,n(b))),m(X,J)};A(Ve,X=>{n(b)>0&&X(ee)})}var W=d($e,2);{var fe=X=>{var J=Jo(),ye=Te(J);ye.__click=x;var P=d(ye,2);let Z;P.__touchstart=N,P.__touchmove=V,P.__touchend=te;var Y=d(c(P),2);ml(Y,{}),Bn(P,he=>v=he,()=>v),L(()=>{Z=_e(P,1,"queue-sheet svelte-1xkxv2n",null,Z,{swiping:n(u)}),cn(P,n(o)>0?`transform: translateY(${n(o)}px)`:"")}),m(X,J)};A(W,X=>{n(i)&&X(fe)})}L(()=>Fe=_e(ke,1,"bottom-nav-item queue-item svelte-1xkxv2n",null,Fe,{active:n(i),"has-active":n(S)>0})),m(e,be),xt(),r()}Ut(["click","touchstart","touchmove","touchend"]);function yl(){return Fs(is).analytics!==!1}function wl(){let e=localStorage.getItem("yoink_trackingId");return e||(e="tid-"+Date.now()+"-"+Math.random().toString(36).slice(2,18),localStorage.setItem("yoink_trackingId",e)),e}function Yo(){localStorage.removeItem("yoink_trackingId"),localStorage.removeItem("yoink_last_daily_report")}async function Qo(){const e=localStorage.getItem("yoink_trackingId");if(!e)return{deleted:!1};try{const s=await(await fetch(`${Me()}/api/analytics/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trackingId:e})})).json();return s.deleted&&Yo(),s}catch(t){return console.error("Failed to delete analytics data:",t),{deleted:!1,error:t.message}}}async function Ko(e){if(yl())try{await fetch(`${Me()}/api/analytics/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"pageview",page:e,trackingId:wl()})})}catch{}}async function Xo(){if(!yl())return;const e=new Date().toISOString().split("T")[0];if(localStorage.getItem("yoink_last_daily_report")!==e)try{await fetch(`${Me()}/api/analytics/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"dailyUser",trackingId:wl()})}),localStorage.setItem("yoink_last_daily_report",e)}catch{}}const Qn=Ns(null);let bl;async function vr(){try{const t=await(await fetch(`${Me()}/api/banner`)).json();Qn.set(t.banner)}catch{Qn.set(null)}}function Zo(){vr(),bl=setInterval(vr,6e4)}function ev(){clearInterval(bl)}var tv=j("<a><!></a>");function hs(e,t){const s=()=>Lt(Ua,"$path",a),[a,l]=us();let r=ie(()=>s()===t.href);var i=tv();let v;var o=c(i);cl(o,()=>t.children),L(()=>{v=_e(i,1,"nav-link svelte-5q5w88",null,v,{active:n(r)}),xs(i,"href",`#${t.href??""}`)}),m(e,i),l()}var sv=j('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> <span>download</span>',1),nv=j('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg> <span>convert</span>',1),av=j('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg> <span>compress</span>',1),rv=j('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg> <span>settings</span>',1),lv=j('<header class="svelte-4b3o1e"><div class="header-left svelte-4b3o1e"><a href="#/" class="logo-link svelte-4b3o1e"><span class="logo-text svelte-4b3o1e">yoink</span> <span class="logo-tld svelte-4b3o1e">.tools</span></a></div> <div class="header-right svelte-4b3o1e"><!> <nav class="nav-links svelte-4b3o1e"><!> <!> <!> <!></nav></div></header>');function iv(e,t){var s=lv(),a=d(c(s),2),l=c(a);{var r=_=>{var h=Ze(),b=Te(h);cl(b,()=>t.extraContent),m(_,h)};A(l,_=>{t.extraContent&&_(r)})}var i=d(l,2),v=c(i);hs(v,{href:"/",children:(_,h)=>{var b=sv();m(_,b)}});var o=d(v,2);hs(o,{href:"/convert",children:(_,h)=>{var b=nv();m(_,b)}});var u=d(o,2);hs(u,{href:"/compress",children:(_,h)=>{var b=av();m(_,b)}});var p=d(u,2);hs(p,{href:"/settings",children:(_,h)=>{var b=rv();m(_,b)}}),m(e,s)}var ov=j('<footer class="svelte-ww03jg"><div class="footer-left svelte-ww03jg"><div>this is a <a href="https://github.com/yt-dlp/yt-dlp" target="_blank" rel="noopener" class="svelte-ww03jg">yt-dlp</a> wrapper</div> <div>inspired by <a href="https://cobalt.tools" target="_blank" rel="noopener" class="svelte-ww03jg">cobalt</a>, love u wukko</div> <div>youtube powered by <a href="https://patriick.dev/" target="_blank" rel="noopener" class="svelte-ww03jg">patrick</a> at <a href="https://cobalt.meowing.de" target="_blank" rel="noopener" class="svelte-ww03jg">cobalt.meowing.de</a></div> <div class="legal svelte-ww03jg">by using this site you agree to our <a href="#/privacy" class="svelte-ww03jg">privacy policy</a></div></div> <div class="footer-right svelte-ww03jg"><a href="https://github.com/coah80/yoink" target="_blank" rel="noopener" class="svelte-ww03jg">github</a> <span>Â·</span> <a href="https://coah80.com" target="_blank" rel="noopener" class="svelte-ww03jg">coah80.com</a> <span>Â·</span> <a href="#/privacy" class="svelte-ww03jg">privacy</a></div></footer>');function vv(e){var t=ov();m(e,t)}var cv=j('<span class="queue-badge svelte-1picwiz"> </span>'),uv=j('<div class="queue-dropdown svelte-1picwiz"><!></div>'),dv=j('<div class="queue-menu svelte-1picwiz"><button class="queue-toggle svelte-1picwiz"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1picwiz"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg> queue <!></button> <!></div>');function fv(e,t){kt(t,!0);const s=()=>Lt(wt,"$queue",a),[a,l]=us();let r=I(!1),i,v=ie(s),o=ie(()=>n(v).length);function u(x){x.stopPropagation(),f(r,!n(r))}function p(x){i&&!i.contains(x.target)&&f(r,!1)}on(()=>(document.addEventListener("click",p),()=>document.removeEventListener("click",p)));var _=dv(),h=c(_);h.__click=u;var b=d(c(h),2);{var g=x=>{var N=cv(),V=c(N);L(()=>z(V,n(o))),m(x,N)};A(b,x=>{n(o)>0&&x(g)})}var S=d(h,2);{var k=x=>{var N=uv(),V=c(N);ml(V,{}),m(x,N)};A(S,x=>{n(r)&&x(k)})}Bn(_,x=>i=x,()=>i),m(e,_),xt(),l()}Ut(["click"]);var pv=j('<div class="spinner svelte-1ea6fjo" role="status" aria-label="Loading"></div>');function kl(e){var t=pv();m(e,t)}function xl(e){if(e===0||!Number.isFinite(e)||e<0)return"0 B";const t=1024,s=["B","KB","MB","GB","TB"],a=Math.min(Math.max(Math.floor(Math.log(e)/Math.log(t)),0),s.length-1);return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+s[a]}function cr(e){try{const t=new URL(e);if(t.hostname==="youtu.be"){const s=t.pathname.slice(1).split("?")[0],a=t.searchParams.get("list");return`https://www.youtube.com/watch?v=${s}${a?`&list=${a}`:""}`}if(t.hostname.includes("youtube.com")){if(t.pathname.startsWith("/shorts/"))return`https://www.youtube.com/watch?v=${t.pathname.replace("/shorts/","").split("?")[0]}`;if(t.searchParams.get("v")){const s=t.searchParams.get("list");return`https://www.youtube.com/watch?v=${t.searchParams.get("v")}${s?`&list=${s}`:""}`}if(t.pathname==="/playlist"&&t.searchParams.get("list"))return`https://www.youtube.com/playlist?list=${t.searchParams.get("list")}`}return e}catch{return e}}function ur(e){try{const t=new URL(e).hostname;return t==="youtu.be"||t.includes("youtube.com")}catch{return!1}}function dr(e){try{return new URL(e).searchParams.has("list")}catch{return!1}}function fr(){return Date.now().toString()+Math.random().toString(36).substr(2,9)}var hv=j("<p> </p>"),gv=j('<button class="clear-btn svelte-et6md" type="button" title="Clear"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="18" y1="6" x2="6" y2="18" class="svelte-et6md"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-et6md"></line></svg></button>'),_v=j('<button class="paste-btn svelte-et6md" type="button" title="Paste from clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" class="svelte-et6md"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" class="svelte-et6md"></path></svg></button>'),mv=ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" class="svelte-et6md"></polygon></svg>'),yv=ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18" class="svelte-et6md"></rect><line x1="7" y1="2" x2="7" y2="22" class="svelte-et6md"></line><line x1="17" y1="2" x2="17" y2="22" class="svelte-et6md"></line><line x1="2" y1="12" x2="22" y2="12" class="svelte-et6md"></line><line x1="2" y1="7" x2="7" y2="7" class="svelte-et6md"></line><line x1="2" y1="17" x2="7" y2="17" class="svelte-et6md"></line><line x1="17" y1="17" x2="22" y2="17" class="svelte-et6md"></line><line x1="17" y1="7" x2="22" y2="7" class="svelte-et6md"></line></svg>'),wv=ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><path d="M9 18V5l12-2v13" class="svelte-et6md"></path><circle cx="6" cy="18" r="3" class="svelte-et6md"></circle><circle cx="18" cy="16" r="3" class="svelte-et6md"></circle></svg>'),bv=ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><rect x="3" y="3" width="18" height="18" rx="2" ry="2" class="svelte-et6md"></rect><circle cx="8.5" cy="8.5" r="1.5" class="svelte-et6md"></circle><polyline points="21 15 16 10 5 21" class="svelte-et6md"></polyline></svg>'),kv=j('<button><!> <span class="svelte-et6md"> </span></button>'),xv=j('<div class="yoink-dropdown svelte-et6md"><button class="yoink-dropdown-item svelte-et6md" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="12" y1="5" x2="12" y2="19" class="svelte-et6md"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-et6md"></line></svg> add to queue</button> <button class="yoink-dropdown-item svelte-et6md" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="8" y1="6" x2="21" y2="6" class="svelte-et6md"></line><line x1="8" y1="12" x2="21" y2="12" class="svelte-et6md"></line><line x1="8" y1="18" x2="21" y2="18" class="svelte-et6md"></line><line x1="3" y1="6" x2="3.01" y2="6" class="svelte-et6md"></line><line x1="3" y1="12" x2="3.01" y2="12" class="svelte-et6md"></line><line x1="3" y1="18" x2="3.01" y2="18" class="svelte-et6md"></line></svg> batch add urls</button></div>'),jv=j("<div><!> </div>"),Sv=j('<div class="modal-overlay svelte-et6md"><div class="modal svelte-et6md"><div class="modal-title svelte-et6md">playlist detected!</div> <div class="modal-subtitle svelte-et6md">do you want to download just this video, or the whole playlist?</div> <div class="modal-buttons svelte-et6md"><button class="modal-btn svelte-et6md"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><polygon points="5 3 19 12 5 21 5 3" class="svelte-et6md"></polygon></svg> video</button> <button class="modal-btn primary svelte-et6md"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="8" y1="6" x2="21" y2="6" class="svelte-et6md"></line><line x1="8" y1="12" x2="21" y2="12" class="svelte-et6md"></line><line x1="8" y1="18" x2="21" y2="18" class="svelte-et6md"></line><line x1="3" y1="6" x2="3.01" y2="6" class="svelte-et6md"></line><line x1="3" y1="12" x2="3.01" y2="12" class="svelte-et6md"></line><line x1="3" y1="18" x2="3.01" y2="18" class="svelte-et6md"></line></svg> playlist</button></div> <label class="modal-toggle svelte-et6md"><input type="checkbox" class="svelte-et6md"/> <span class="modal-toggle-switch svelte-et6md"></span> <span class="modal-toggle-label svelte-et6md">remember this choice</span></label> <div class="modal-hint svelte-et6md">this can be changed in <a href="#/settings" class="svelte-et6md">settings</a>!</div></div></div>'),$v=j('<div class="modal-overlay svelte-et6md"><div class="modal batch-modal svelte-et6md"><div class="modal-title svelte-et6md">batch add urls</div> <div class="modal-subtitle svelte-et6md">paste multiple URLs, one per line</div> <textarea class="batch-textarea svelte-et6md"></textarea> <div class="batch-count svelte-et6md"><span class="svelte-et6md"> </span> urls detected</div> <div class="modal-buttons svelte-et6md"><button class="modal-btn svelte-et6md">cancel</button> <button class="modal-btn primary svelte-et6md"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="12" y1="5" x2="12" y2="19" class="svelte-et6md"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-et6md"></line></svg> add to queue</button></div></div></div>'),zv=j('<!> <main class="svelte-et6md"><div class="branding svelte-et6md"><h1 class="svelte-et6md">yoink<span class="brand-tld svelte-et6md">.tools</span></h1> <!></div> <div class="input-container svelte-et6md"><div class="url-input-wrapper svelte-et6md"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" class="svelte-et6md"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" class="svelte-et6md"></path></svg> <input type="text" class="url-input svelte-et6md" placeholder="paste the link here..." autocomplete="off" spellcheck="false"/> <!></div> <div class="format-section svelte-et6md"><div class="segmented-control svelte-et6md"></div> <div><button class="yoink-btn svelte-et6md" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" class="svelte-et6md"></path><polyline points="7 10 12 15 17 10" class="svelte-et6md"></polyline><line x1="12" y1="15" x2="12" y2="3" class="svelte-et6md"></line></svg> </button> <button class="yoink-dropdown-toggle svelte-et6md" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><polyline points="6 9 12 15 18 9" class="svelte-et6md"></polyline></svg></button> <!></div></div> <!></div></main> <!> <!> <!>',1);function Cv(e,t){kt(t,!0);const s=()=>Lt(is,"$settings",a),[a,l]=us();let r=I(""),i=I("auto"),v=I(!1),o=I(null),u=I(""),p=I(!1),_=I(!1),h=I(!1),b=I(""),g=I(null),S=I(null),k,x=ie(()=>n(b).split(`
`).filter(C=>{const q=C.trim();if(!q)return!1;try{return new URL(q),!0}catch{return!1}}).length);const N=[{id:"auto",label:"auto",icon:"bolt"},{id:"video",label:"video",icon:"video"},{id:"audio",label:"audio",icon:"audio"},{id:"images",label:"images",icon:"image"}];function V(){f(S,or[Math.floor(Math.random()*or.length)],!0)}function te(){var C;(C=n(S))!=null&&C.link&&window.open(n(S).link,"_blank")}function ne(){let C=sessionStorage.getItem("yoink_shared_url");if(!C&&window.location.pathname==="/share"){const q=new URLSearchParams(window.location.search),re=(q.get("url")||q.get("text")||"").match(/https?:\/\/[^\s]+/);re&&(C=re[0].replace(/[.,!?;:)\]}>]+$/,"")),history.replaceState(null,"","/#/")}C&&(sessionStorage.removeItem("yoink_shared_url"),f(r,C,!0),setTimeout(()=>ee(),150))}on(()=>{V(),ne()});async function be(){try{const C=await navigator.clipboard.readText();C&&(f(r,C.trim(),!0),k==null||k.focus())}catch{Ee("Could not read clipboard","error")}}function $e(C,q){f(o,C,!0),f(u,q,!0)}function me(){f(o,null),f(u,"")}function ke(){return new Promise(C=>{f(g,C,!0),f(p,!0)})}function Fe(C,q){q&&is.setSetting("playlistPreference",C),n(g)&&n(g)(C),f(g,null),f(p,!1)}function st(){n(g)&&n(g)(null),f(g,null),f(p,!1)}async function Ve(C,q=!1){const ae=cr(C),re=n(i)==="auto"?"video":n(i);if(re==="images"&&ur(ae))return Ee("YouTube doesn't support image downloads","error"),null;const $=fr(),E=s();let T=!1;if(re!=="images"&&dr(ae))if(E.playlistPreference==="video")T=!1;else if(E.playlistPreference==="playlist")T=!0;else{const R=await ke();if(R===null)return null;T=R==="playlist"}let G="Loading...";try{if(re==="images"){const R=await fetch(`${Me()}/api/gallery/metadata?url=${encodeURIComponent(ae)}`),K=R.headers.get("content-type");R.ok&&(K!=null&&K.includes("application/json"))?G=(await R.json()).title||"Gallery":G=ae.substring(0,50)}else{const R=await fetch(`${Me()}/api/metadata?url=${encodeURIComponent(ae)}&playlist=${T}`),K=R.headers.get("content-type");if(R.ok&&(K!=null&&K.includes("application/json"))){const ce=await R.json();if(G=ce.title||"Unknown",ce.usingCookies&&Ee("Using intervaled requests to stay under the radar (this may be slower)","warning",5e3),ce.clipNote){const F=ce.clipNote.toLowerCase().includes("warning")||ce.originalDuration>600;Ee(ce.clipNote,F?"warning":"info",6e3)}}else if(!R.ok&&(K!=null&&K.includes("application/json"))){const ce=await R.json();if(ce.clipUnsupported)return Ee("Could not parse YouTube clip. Try using the full video URL instead.","error",8e3),null;throw new Error(ce.error||"Metadata fetch failed")}else G=ae.substring(0,50)}}catch{G=ae.substring(0,50)}const O={id:$,title:G,url:ae,format:re,stage:q?"starting":"queued",status:q?"initializing...":"in queue",progress:0,isPlaylist:T,formatDisplay:re==="images"?"images":re==="audio"?E.audioFormat:`${E.quality} ${E.container}`,startTime:q?Date.now():null,failedVideos:[]};return wt.add(O),q&&wt.startDownload(O),O}async function ee(){const C=n(r).trim();if(!C){Ee("Please enter a URL","error");return}const q=cr(C);try{new URL(q)}catch{Ee("Please enter a valid URL","error");return}if(mo(q)&&f(S,{text:"okay dude are you just gonna download porn"},!0),n(i)==="images"&&ur(q)){Ee("YouTube doesn't support image downloads â use video or audio","error");return}f(v,!0);const ae=n(i)==="auto"?"video":n(i),re=s();let $=!1;if(ae!=="images"&&dr(q))if(re.playlistPreference==="video")$=!1;else if(re.playlistPreference==="playlist")$=!0;else{const T=await ke();if(T===null){f(v,!1);return}$=T==="playlist"}const E=fr();try{$e("loading",ae==="images"?"fetching gallery info...":"fetching video info...");let T;if(ae==="images"){const F=await fetch(`${Me()}/api/gallery/metadata?url=${encodeURIComponent(q)}`),ve=F.headers.get("content-type");if(!F.ok){let se="Failed to fetch gallery info";if(ve!=null&&ve.includes("application/json"))se=(await F.json()).error||se;else{const xe=await F.text();se=xe.includes("Cloudflare")||xe.includes("403")?"Access denied (VPN blocked?)":`Server error: ${F.status}`}throw new Error(se)}T=await F.json(),T.title=T.title||"Gallery"}else{const F=await fetch(`${Me()}/api/metadata?url=${encodeURIComponent(q)}&playlist=${$}`),ve=F.headers.get("content-type");if(!F.ok){let se="Failed to fetch metadata";if(ve!=null&&ve.includes("application/json")){const xe=await F.json();if(xe.clipUnsupported){$e("error","Could not parse YouTube clip"),Ee("Could not parse YouTube clip. Try using the full video URL instead.","error",8e3),f(v,!1);return}se=xe.error||se}else{const xe=await F.text();se=`Server error ${F.status} (likely VPN blocked)`}throw new Error(se)}T=await F.json()}const G=T.title,O=T.isPlaylist&&$,R=ae==="images",K=T.videoCount||T.imageCount||0;T.usingCookies&&Ee("Using intervaled requests to stay under the radar (this may be slower)","warning",5e3);const ce={id:E,title:G,url:q,format:ae,stage:"starting",status:"initializing...",progress:0,isPlaylist:O,isGallery:R,videoCount:K,currentVideo:0,currentVideoTitle:"",formatDisplay:ae==="images"?"images":ae==="audio"?re.audioFormat:`${re.quality} ${re.container}`,failedVideos:[],startTime:Date.now()};wt.add(ce),wt.startDownload(ce),f(r,""),me()}catch(T){$e("error",T.message||"Download failed"),Ee(T.message||"Download failed","error")}finally{f(v,!1)}}function W(C){C.key==="Enter"&&ee()}async function fe(){f(h,!1);const C=n(r).trim();if(!C){Ee("Please enter a URL","error");return}try{new URL(C)}catch{Ee("Please enter a valid URL","error");return}await Ve(C),f(r,"")}function X(){f(h,!1),f(b,""),f(_,!0)}async function J(){const C=n(b).split(`
`).map(q=>q.trim()).filter(q=>{try{return new URL(q),!0}catch{return!1}});if(C.length===0){Ee("No valid URLs found","error");return}f(_,!1),Ee(`Adding ${C.length} URLs to queue...`,"info");for(const q of C)await Ve(q,!1);Ee(`${C.length} items added to queue`,"success")}let ye=I(!1);var P=zv();Rt("click",Aa,C=>{C.target.closest(".yoink-btn-wrapper")||f(h,!1)});var Z=Te(P);iv(Z,{extraContent:q=>{fv(q,{})}});var Y=d(Z,2),he=c(Y),M=d(c(he),2);{var w=C=>{var q=hv();let ae;q.__click=te;var re=c(q);L($=>{ae=_e(q,1,"splash svelte-et6md",null,ae,$),cn(q,n(S).link?"cursor: pointer;":""),z(re,n(S).text)},[()=>{var $,E,T;return{fancy:($=n(S).classes)==null?void 0:$.includes("fancy"),clickable:(E=n(S).classes)==null?void 0:E.includes("clickable"),rainbow:(T=n(S).classes)==null?void 0:T.includes("rainbow")}}]),m(C,q)};A(M,C=>{n(S)&&C(w)})}var B=d(he,2),U=c(B),D=d(c(U),2);D.__keydown=W,Bn(D,C=>k=C,()=>k);var H=d(D,2);{var Q=C=>{var q=gv();q.__click=()=>{f(r,""),k==null||k.focus()},m(C,q)},qe=C=>{var q=_v();q.__click=be,m(C,q)};A(H,C=>{n(r)?C(Q):C(qe,!1)})}var oe=d(U,2),ze=c(oe);Ne(ze,21,()=>N,Ge,(C,q)=>{var ae=kv();let re;ae.__click=()=>f(i,n(q).id,!0);var $=c(ae);{var E=R=>{var K=mv();m(R,K)},T=R=>{var K=Ze(),ce=Te(K);{var F=se=>{var xe=yv();m(se,xe)},ve=se=>{var xe=Ze(),De=Te(xe);{var ue=Ie=>{var Ae=wv();m(Ie,Ae)},Ce=Ie=>{var Ae=Ze(),Je=Te(Ae);{var je=Oe=>{var We=bv();m(Oe,We)};A(Je,Oe=>{n(q).icon==="image"&&Oe(je)},!0)}m(Ie,Ae)};A(De,Ie=>{n(q).icon==="audio"?Ie(ue):Ie(Ce,!1)},!0)}m(se,xe)};A(ce,se=>{n(q).icon==="video"?se(F):se(ve,!1)},!0)}m(R,K)};A($,R=>{n(q).icon==="bolt"?R(E):R(T,!1)})}var G=d($,2),O=c(G);L(()=>{re=_e(ae,1,"segment svelte-et6md",null,re,{active:n(i)===n(q).id}),z(O,n(q).label)}),m(C,ae)});var le=d(ze,2);let Se;var Be=c(le);Be.__click=ee;var He=d(c(Be)),ht=d(Be,2);ht.__click=C=>{C.stopPropagation(),f(h,!n(h))};var vt=d(ht,2);{var gt=C=>{var q=xv(),ae=c(q);ae.__click=fe;var re=d(ae,2);re.__click=X,m(C,q)};A(vt,C=>{n(h)&&C(gt)})}var nt=d(oe,2);{var _t=C=>{var q=jv(),ae=c(q);{var re=E=>{kl(E)};A(ae,E=>{n(o)==="loading"&&E(re)})}var $=d(ae);L(()=>{_e(q,1,`status ${n(o)??""}`,"svelte-et6md"),z($,` ${n(u)??""}`)}),m(C,q)};A(nt,C=>{n(o)&&C(_t)})}var ct=d(Y,2);vv(ct);var at=d(ct,2);{var jt=C=>{var q=Sv();q.__click=O=>{O.target===O.currentTarget&&st()};var ae=c(q),re=d(c(ae),4),$=c(re);$.__click=()=>Fe("video",n(ye));var E=d($,2);E.__click=()=>Fe("playlist",n(ye));var T=d(re,2),G=c(T);fl(G,()=>n(ye),O=>f(ye,O)),m(C,q)};A(at,C=>{n(p)&&C(jt)})}var St=d(at,2);{var $t=C=>{var q=$v();q.__click=K=>{K.target===K.currentTarget&&f(_,!1)};var ae=c(q),re=d(c(ae),4);xs(re,"placeholder",`https://youtube.com/watch?v=...
https://youtube.com/watch?v=...
https://youtube.com/watch?v=...`);var $=d(re,2),E=c($),T=c(E),G=d($,2),O=c(G);O.__click=()=>f(_,!1);var R=d(O,2);R.__click=J,L(()=>z(T,n(x))),kn(re,()=>n(b),K=>f(b,K)),m(C,q)};A(St,C=>{n(_)&&C($t)})}L(()=>{Se=_e(le,1,"yoink-btn-wrapper svelte-et6md",null,Se,{open:n(h)}),Be.disabled=n(v),z(He,` ${n(v)?"loading...":"yoink"}`)}),Rt("focus",D,me),kn(D,()=>n(r),C=>f(r,C)),m(e,P),xt(),l()}Ut(["click","keydown"]);var Ev=j('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> <span>Download</span>',1),Tv=j('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg> <span>Convert</span>',1),qv=j('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg> <span>Compress</span>',1),Mv=j('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg> <span>Settings</span>',1),Pv=j('<header class="svelte-67r2h0"><div class="header-center svelte-67r2h0"><a href="#/" class="logo-link svelte-67r2h0"><span class="logo-text svelte-67r2h0">yoink</span> <span class="logo-tld svelte-67r2h0">.tools</span></a></div> <nav class="header-right svelte-67r2h0"><!> <!> <!> <!></nav></header>');function un(e){var t=Pv(),s=d(c(t),2),a=c(s);hs(a,{href:"/",children:(v,o)=>{var u=Ev();m(v,u)}});var l=d(a,2);hs(l,{href:"/convert",children:(v,o)=>{var u=Tv();m(v,u)}});var r=d(l,2);hs(r,{href:"/compress",children:(v,o)=>{var u=qv();m(v,u)}});var i=d(r,2);hs(i,{href:"/settings",children:(v,o)=>{var u=Mv();m(v,u)}}),m(e,t)}var Iv=j('<footer class="svelte-1dij6pu"><a href="#/" class="svelte-1dij6pu">yoink.tools</a> - powered by <a href="https://github.com/yt-dlp/yt-dlp" target="_blank" rel="noopener" class="svelte-1dij6pu">yt-dlp</a> Â· <a href="#/privacy" class="svelte-1dij6pu">privacy</a></footer>');function On(e){var t=Iv();m(e,t)}var Av=j("<button><span> </span></button>"),Bv=j("<button> </button>"),Dv=j("<button> </button>"),Ov=j("<button> </button>"),Rv=j(`<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">video</h2> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">video quality</div> <div class="quality-grid svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">if preferred quality isn't available, the next best option will be used. 1080p is recommended for most uses.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">preferred codec</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">h264: best compatibility, max 1080p. av1: best quality & efficiency, supports 8k & HDR. vp9: same quality as av1 but ~2x larger.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">file container</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">mp4 has the best compatibility. webm is great for web. mkv supports more features but has limited playback support.</p></div></section>`),Fv=j("<button> </button>"),Lv=j("<button> </button>"),Nv=j('<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">audio</h2> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">audio format</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">mp3: universal compatibility. m4a: better quality at same size. opus: best compression. flac/wav: lossless quality.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">audio bitrate</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">higher bitrate = better quality but larger file size. 320kbps is CD-quality for most people.</p></div></section>'),Uv=j("<button> </button>"),Vv=j("<button> </button>"),Hv=j('<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">downloads</h2> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">filename style</div> <div class="segmented-control svelte-1ozf5k3"></div> <div class="filename-preview svelte-1ozf5k3"><code class="svelte-1ozf5k3"> </code></div></div> <div class="settings-card svelte-1ozf5k3"><div class="toggle-row svelte-1ozf5k3"><div class="toggle-info svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">twitter/x gifs as gif</div> <p class="setting-description svelte-1ozf5k3">automatically convert twitter/x "gifs" (which are actually videos) to real gif files. turn off to keep them as mp4.</p></div> <button></button></div></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">playlist behavior</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">when a link contains a playlist, should we download just the video or the entire playlist? "ask me" will show a popup each time.</p></div></section>'),Jv=j('<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">advanced</h2> <div class="settings-card svelte-1ozf5k3"><div class="toggle-row svelte-1ozf5k3"><div class="toggle-info svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">allow h265 codec</div> <p class="setting-description svelte-1ozf5k3">enables downloading h265/HEVC videos for platforms like TikTok. higher quality but may have compatibility issues with some players.</p></div> <button></button></div></div> <div class="settings-card svelte-1ozf5k3"><div class="toggle-row svelte-1ozf5k3"><div class="toggle-info svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">embed metadata</div> <p class="setting-description svelte-1ozf5k3">include title, artist, and other metadata in downloaded files.</p></div> <button></button></div></div> <div class="divider svelte-1ozf5k3"></div> <button class="reset-btn svelte-1ozf5k3">reset all settings</button></section>'),Gv=j(`<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">privacy</h2> <div class="settings-card svelte-1ozf5k3"><div class="toggle-row svelte-1ozf5k3"><div class="toggle-info svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">allow anonymous analytics</div> <p class="setting-description svelte-1ozf5k3">help improve yoink by sharing anonymous usage stats like download format preferences. no personal data or URLs are collected.</p></div> <button></button></div></div> <div class="settings-card highlight svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">your data, your choice</div> <p class="setting-description svelte-1ozf5k3">if you turn off analytics above, <strong class="svelte-1ozf5k3">all data collected from you will be permanently deleted</strong>. no questions asked. if you don't want to be tracked, you shouldn't be - and that means wiping everything.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">what i collect</div> <p class="setting-description svelte-1ozf5k3">when enabled: which file formats are popular, how many downloads happen daily, and general country data (from IP, not stored). i do <strong class="svelte-1ozf5k3">not</strong> collect: URLs you download, video titles, your IP address, or any identifying information.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">why?</div> <p class="setting-description svelte-1ozf5k3">honestly, just for fun! it's cool to see how people use the tool. if you'd rather not participate, flip the toggle above.</p> <p class="setting-description svelte-1ozf5k3"><a href="#/privacy" class="svelte-1ozf5k3">read the full privacy policy</a></p></div></section>`),Wv=j('<!> <main class="svelte-1ozf5k3"><div class="page-header svelte-1ozf5k3"><h1 class="svelte-1ozf5k3">settings</h1> <p class="svelte-1ozf5k3">customize your download experience</p></div> <nav class="settings-nav svelte-1ozf5k3"></nav> <!> <!> <!> <!> <!></main> <!>',1);function Yv(e,t){kt(t,!0);const s=()=>Lt(is,"$settings",a),[a,l]=us();let r=I("video"),i=ie(s);const v=[{id:"video",label:"video"},{id:"audio",label:"audio"},{id:"downloads",label:"downloads"},{id:"advanced",label:"advanced"},{id:"privacy",label:"privacy"}],o=["best","4k","1440p","1080p","720p","480p","360p"],u={best:"8k+","4k":"4k","1440p":"1440p","1080p":"1080p","720p":"720p","480p":"480p","360p":"360p"},p=[{value:"h264",label:"h264 + aac"},{value:"av1",label:"av1 + opus"},{value:"vp9",label:"vp9 + opus"}],_=[{value:"mp4",label:"mp4"},{value:"webm",label:"webm"},{value:"mkv",label:"mkv"}],h=[{value:"mp3",label:"mp3"},{value:"m4a",label:"m4a"},{value:"opus",label:"opus"},{value:"flac",label:"flac"},{value:"wav",label:"wav"}],b=[{value:"320",label:"320 kbps"},{value:"256",label:"256 kbps"},{value:"192",label:"192 kbps"},{value:"128",label:"128 kbps"}],g=[{value:"classic",label:"classic"},{value:"basic",label:"basic"},{value:"pretty",label:"pretty"},{value:"nerdy",label:"nerdy"}],S=[{value:"ask",label:"ask me"},{value:"video",label:"just video"},{value:"playlist",label:"full playlist"}];let k=ie(()=>{const P=n(i).container||"mp4",Z={classic:`Video Title (${n(i).quality}).${P}`,basic:`Video Title.${P}`,pretty:`Video Title - Author (${n(i).quality}, ${n(i).codec}).${P}`,nerdy:`Video_Title_${n(i).quality}_${n(i).codec}_aac.${P}`};return Z[n(i).filenameStyle]||Z.basic});function x(P,Z){is.setSetting(P,Z)}function N(){confirm("Reset all settings to defaults?")&&(is.reset(),Ee("Settings reset!","success"))}async function V(){n(i).analytics!==!1?confirm(`This will delete ALL your tracking data from the server!

When you opt out, all collected data is permanently deleted.

Are you sure?`)&&(is.setSetting("analytics",!1),(await Qo()).deleted?Ee("Analytics disabled & data deleted","success"):Ee("Analytics disabled","info")):(is.setSetting("analytics",!0),Ee("Analytics enabled - thanks!","success"))}var te=Wv(),ne=Te(te);un(ne);var be=d(ne,2),$e=d(c(be),2);Ne($e,21,()=>v,Ge,(P,Z)=>{var Y=Av();let he;Y.__click=()=>f(r,n(Z).id,!0);var M=c(Y),w=c(M);L(()=>{he=_e(Y,1,"settings-nav-item svelte-1ozf5k3",null,he,{active:n(r)===n(Z).id}),z(w,n(Z).label)}),m(P,Y)});var me=d($e,2);{var ke=P=>{var Z=Rv(),Y=d(c(Z),2),he=d(c(Y),2);Ne(he,21,()=>o,Ge,(D,H)=>{var Q=Bv();let qe;Q.__click=()=>x("quality",n(H));var oe=c(Q);L(()=>{qe=_e(Q,1,"quality-option svelte-1ozf5k3",null,qe,{active:n(i).quality===n(H)}),z(oe,u[n(H)])}),m(D,Q)});var M=d(Y,2),w=d(c(M),2);Ne(w,21,()=>p,Ge,(D,H)=>{var Q=Dv();let qe;Q.__click=()=>x("codec",n(H).value);var oe=c(Q);L(()=>{qe=_e(Q,1,"segment svelte-1ozf5k3",null,qe,{active:n(i).codec===n(H).value}),z(oe,n(H).label)}),m(D,Q)});var B=d(M,2),U=d(c(B),2);Ne(U,21,()=>_,Ge,(D,H)=>{var Q=Ov();let qe;Q.__click=()=>x("container",n(H).value);var oe=c(Q);L(()=>{qe=_e(Q,1,"segment svelte-1ozf5k3",null,qe,{active:n(i).container===n(H).value}),z(oe,n(H).label)}),m(D,Q)}),m(P,Z)};A(me,P=>{n(r)==="video"&&P(ke)})}var Fe=d(me,2);{var st=P=>{var Z=Nv(),Y=d(c(Z),2),he=d(c(Y),2);Ne(he,21,()=>h,Ge,(B,U)=>{var D=Fv();let H;D.__click=()=>x("audioFormat",n(U).value);var Q=c(D);L(()=>{H=_e(D,1,"segment svelte-1ozf5k3",null,H,{active:n(i).audioFormat===n(U).value}),z(Q,n(U).label)}),m(B,D)});var M=d(Y,2),w=d(c(M),2);Ne(w,21,()=>b,Ge,(B,U)=>{var D=Lv();let H;D.__click=()=>x("audioBitrate",n(U).value);var Q=c(D);L(()=>{H=_e(D,1,"segment svelte-1ozf5k3",null,H,{active:n(i).audioBitrate===n(U).value}),z(Q,n(U).label)}),m(B,D)}),m(P,Z)};A(Fe,P=>{n(r)==="audio"&&P(st)})}var Ve=d(Fe,2);{var ee=P=>{var Z=Hv(),Y=d(c(Z),2),he=d(c(Y),2);Ne(he,21,()=>g,Ge,(ze,le)=>{var Se=Uv();let Be;Se.__click=()=>x("filenameStyle",n(le).value);var He=c(Se);L(()=>{Be=_e(Se,1,"segment svelte-1ozf5k3",null,Be,{active:n(i).filenameStyle===n(le).value}),z(He,n(le).label)}),m(ze,Se)});var M=d(he,2),w=c(M),B=c(w),U=d(Y,2),D=c(U),H=d(c(D),2);let Q;H.__click=()=>x("twitterGifs",!(!n(i).twitterGifs||n(i).twitterGifs===void 0));var qe=d(U,2),oe=d(c(qe),2);Ne(oe,21,()=>S,Ge,(ze,le)=>{var Se=Vv();let Be;Se.__click=()=>x("playlistPreference",n(le).value==="ask"?null:n(le).value);var He=c(Se);L(()=>{Be=_e(Se,1,"segment svelte-1ozf5k3",null,Be,{active:(n(i).playlistPreference===null?"ask":n(i).playlistPreference)===n(le).value}),z(He,n(le).label)}),m(ze,Se)}),L(()=>{z(B,n(k)),Q=_e(H,1,"toggle svelte-1ozf5k3",null,Q,{active:n(i).twitterGifs!==!1})}),m(P,Z)};A(Ve,P=>{n(r)==="downloads"&&P(ee)})}var W=d(Ve,2);{var fe=P=>{var Z=Jv(),Y=d(c(Z),2),he=c(Y),M=d(c(he),2);let w;M.__click=()=>x("h265",!n(i).h265);var B=d(Y,2),U=c(B),D=d(c(U),2);let H;D.__click=()=>x("metadata",n(i).metadata===!1);var Q=d(B,4);Q.__click=N,L(()=>{w=_e(M,1,"toggle svelte-1ozf5k3",null,w,{active:n(i).h265}),H=_e(D,1,"toggle svelte-1ozf5k3",null,H,{active:n(i).metadata!==!1})}),m(P,Z)};A(W,P=>{n(r)==="advanced"&&P(fe)})}var X=d(W,2);{var J=P=>{var Z=Gv(),Y=d(c(Z),2),he=c(Y),M=d(c(he),2);let w;M.__click=V,L(()=>w=_e(M,1,"toggle svelte-1ozf5k3",null,w,{active:n(i).analytics!==!1})),m(P,Z)};A(X,P=>{n(r)==="privacy"&&P(J)})}var ye=d(be,2);On(ye),m(e,te),xt(),l()}Ut(["click"]);var Qv=j('<span class="progress-label svelte-1untuf7"> </span>'),Kv=j('<div class="progress-wrapper svelte-1untuf7"><!> <div class="progress-track svelte-1untuf7" role="progressbar"><div class="progress-fill svelte-1untuf7"></div></div></div>');function jl(e,t){let s=$a(t,"percent",3,0),a=$a(t,"label",3,""),l=ie(()=>Math.min(100,Math.max(0,s())));var r=Kv(),i=c(r);{var v=p=>{var _=Qv(),h=c(_);L(()=>z(h,a())),m(p,_)};A(i,p=>{a()&&p(v)})}var o=d(i,2);xs(o,"aria-valuemin",0),xs(o,"aria-valuemax",100);var u=c(o);L(()=>{xs(o,"aria-valuenow",n(l)),cn(u,`width: ${n(l)??""}%`)}),m(e,r)}const da=50*1024*1024;async function Sl(e,t){const s=Me(),a=Math.ceil(e.size/da),l=await fetch(`${s}/api/upload/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:e.name,fileSize:e.size,totalChunks:a})});if(!l.ok){let v="Failed to initialize upload";try{v=(await l.json()).error||v}catch{v=await l.text().catch(()=>v)}throw new Error(v)}const{uploadId:r}=await l.json();for(let v=0;v<a;v++){const o=v*da,u=Math.min(o+da,e.size),p=e.slice(o,u),_=new FormData;_.append("chunk",p);const h=await fetch(`${s}/api/upload/chunk/${r}/${v}`,{method:"POST",body:_});if(!h.ok){let g=`Failed to upload chunk ${v+1}`;try{g=(await h.json()).error||g}catch{g=await h.text().catch(()=>g)}throw new Error(g)}const b=(v+1)/a*100;t(b)}const i=await fetch(`${s}/api/upload/complete/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!i.ok){let v="Failed to complete upload";try{v=(await i.json()).error||v}catch{v=await i.text().catch(()=>v)}throw new Error(v)}return await i.json()}var Xv=j('<button type="button"><svg class="drop-zone-icon svelte-17hyuhr" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg> <p class="drop-zone-text svelte-17hyuhr">drop a file here or click to browse</p> <p class="drop-zone-hint svelte-17hyuhr">supports video and audio files (max 15GB)</p> <input type="file" accept="video/*,audio/*" style="display: none;"/></button>'),Zv=ot('<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',1),ec=ot('<polygon points="5 3 19 12 5 21 5 3"></polygon>'),tc=j("<button> </button>"),sc=j('<div class="file-info svelte-17hyuhr"><div class="file-header svelte-17hyuhr"><div class="file-icon svelte-17hyuhr"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-17hyuhr"><!></svg></div> <div class="file-details svelte-17hyuhr"><div class="file-name svelte-17hyuhr"> </div> <div class="file-size svelte-17hyuhr"> </div></div> <button class="file-remove svelte-17hyuhr"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="convert-options svelte-17hyuhr"><div class="option-label svelte-17hyuhr">convert to</div> <div class="segmented-control svelte-17hyuhr"></div></div> <button class="convert-btn svelte-17hyuhr"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-17hyuhr"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg> </button></div>'),nc=j('<div class="progress-container svelte-17hyuhr"><!></div>'),ac=j("<div> </div>"),rc=j('<!> <main class="svelte-17hyuhr"><div class="page-header svelte-17hyuhr"><h1 class="svelte-17hyuhr">convert</h1> <p class="svelte-17hyuhr">change video and audio file formats</p></div> <div class="converter svelte-17hyuhr"><!> <!> <!></div></main> <!>',1);function lc(e,t){kt(t,!0);let s=I(null),a=I("mp4"),l=I(!1),r=I(0),i=I(""),v=I(null),o=I(""),u=I(!1),p;const _=[{value:"mp4",label:"mp4"},{value:"webm",label:"webm"},{value:"mp3",label:"mp3"},{value:"m4a",label:"m4a"},{value:"wav",label:"wav"}];function h(ee){return ee.type.startsWith("audio/")||["mp3","m4a","wav","flac","ogg","opus"].some(W=>ee.name.toLowerCase().endsWith("."+W))}function b(ee){if(!ee)return;const W=15*1024*1024*1024;if(ee.size>W){f(v,"error"),f(o,"File too large. Maximum size is 15GB.");return}f(s,ee,!0),f(v,null),f(o,"")}function g(){f(s,null),f(r,0),f(i,""),f(v,null),f(o,""),p&&(p.value="")}async function S(ee){let W="";try{W=await(await ee.blob()).text()}catch{W=await ee.text().catch(()=>"")}try{return JSON.parse(W).error||`Request failed with status ${ee.status}`}catch{return W||`Request failed with status ${ee.status}`}}async function k(){if(!n(s)||n(l))return;f(l,!0),f(r,0),f(i,"Uploading..."),f(v,null),f(o,"");const ee=n(s).size>90*1024*1024;let W=null;try{W=Va();let fe;if(ee){const{filePath:P,fileName:Z}=await Sl(n(s),w=>{f(r,w,!0),f(i,"Uploading...")});f(r,0),f(i,"Converting...");const Y=await fetch(`${Me()}/api/convert-chunked`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:P,fileName:Z,format:n(a)})});if(!Y.ok)throw new Error(await S(Y));const{jobId:he}=await Y.json();let M=0;for(;;){if(M>=300)throw new Error("Conversion timed out after 10 minutes");M++,await new Promise(H=>setTimeout(H,2e3));const w=new AbortController,B=setTimeout(()=>w.abort(),1e4);let U;try{U=await fetch(`${Me()}/api/job/${he}/status`,{signal:w.signal})}finally{clearTimeout(B)}if(!U.ok)throw U.status===404?new Error("Job not found or expired"):new Error("Failed to check job status");const D=await U.json();if(D.status==="error")throw new Error(D.error||"Conversion failed");if(f(r,D.progress||0,!0),f(i,D.message||"processing...",!0),D.status==="complete")break}fe=await fetch(`${Me()}/api/job/${he}/download`)}else fe=await new Promise((P,Z)=>{const Y=new XMLHttpRequest;Y.open("POST",`${Me()}/api/convert`),Y.upload.onprogress=M=>{if(M.lengthComputable){const w=Math.round(M.loaded/M.total*90);f(r,w,!0),f(i,`uploading... ${w}%`)}},Y.onload=()=>{f(r,95),f(i,"processing..."),P(new Response(Y.response,{status:Y.status,statusText:Y.statusText,headers:{"Content-Disposition":Y.getResponseHeader("Content-Disposition")||""}}))},Y.onerror=()=>Z(new Error("Network error during upload")),Y.responseType="blob";const he=new FormData;he.append("file",n(s)),he.append("format",n(a)),Y.send(he)});if(!fe.ok)throw new Error(await S(fe));f(r,100),f(i,"complete!");const X=fe.headers.get("Content-Disposition");let J=n(s).name.replace(/\.[^.]+$/,"")+"."+n(a);if(X){const P=X.match(/filename="?([^"]+)"?/);P&&(J=P[1])}const ye=await fe.blob();_l(ye,J),f(v,"success"),f(o,"conversion complete! download started."),W&&Qt(W)}catch(fe){f(v,"error"),f(o,fe.message||"conversion failed",!0),f(r,0),f(i,""),W&&Qt(W)}finally{f(l,!1)}}var x=rc(),N=Te(x);un(N);var V=d(N,2),te=d(c(V),2),ne=c(te);{var be=ee=>{var W=Xv();let fe;W.__click=()=>p==null?void 0:p.click();var X=d(c(W),6);X.__change=J=>{var ye;b((ye=J.target.files)==null?void 0:ye[0]),J.target.value=""},Bn(X,J=>p=J,()=>p),L(()=>fe=_e(W,1,"drop-zone svelte-17hyuhr",null,fe,{dragover:n(u)})),Rt("dragover",W,J=>{J.preventDefault(),f(u,!0)}),Rt("dragleave",W,J=>{J.preventDefault(),f(u,!1)}),Rt("drop",W,J=>{var ye,P;J.preventDefault(),f(u,!1),b((P=(ye=J.dataTransfer)==null?void 0:ye.files)==null?void 0:P[0])}),m(ee,W)},$e=ee=>{var W=sc(),fe=c(W),X=c(fe),J=c(X),ye=c(J);{var P=oe=>{var ze=Zv();m(oe,ze)},Z=oe=>{var ze=ec();m(oe,ze)};A(ye,oe=>{h(n(s))?oe(P):oe(Z,!1)})}var Y=d(X,2),he=c(Y),M=c(he),w=d(he,2),B=c(w),U=d(Y,2);U.__click=g;var D=d(fe,2),H=d(c(D),2);Ne(H,21,()=>_,Ge,(oe,ze)=>{var le=tc();let Se;le.__click=()=>f(a,n(ze).value,!0);var Be=c(le);L(()=>{Se=_e(le,1,"segment svelte-17hyuhr",null,Se,{active:n(a)===n(ze).value}),z(Be,n(ze).label)}),m(oe,le)});var Q=d(D,2);Q.__click=k;var qe=d(c(Q));L(oe=>{xs(he,"title",n(s).name),z(M,n(s).name),z(B,oe),Q.disabled=n(l),z(qe,` ${n(l)?"converting...":"convert"}`)},[()=>xl(n(s).size)]),m(ee,W)};A(ne,ee=>{n(s)?ee($e,!1):ee(be)})}var me=d(ne,2);{var ke=ee=>{var W=nc(),fe=c(W);jl(fe,{get percent(){return n(r)},get label(){return n(i)}}),m(ee,W)};A(me,ee=>{n(l)&&ee(ke)})}var Fe=d(me,2);{var st=ee=>{var W=ac(),fe=c(W);L(()=>{_e(W,1,`status ${n(v)??""}`,"svelte-17hyuhr"),z(fe,n(o))}),m(ee,W)};A(Fe,ee=>{n(v)&&ee(st)})}var Ve=d(V,2);On(Ve),m(e,x),xt()}Ut(["click","change"]);Ut(["click","keydown"]);var ic=j('<button type="button"><svg class="drop-zone-icon svelte-15o2uhu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg> <p class="drop-zone-text svelte-15o2uhu">drop a video here or click to browse</p> <p class="drop-zone-hint svelte-15o2uhu">supports mp4, webm, mov, mkv, avi (max 15GB)</p> <input type="file" accept="video/*" style="display: none;"/></button>'),oc=j('<div class="file-info svelte-15o2uhu"><div class="file-header svelte-15o2uhu"><div class="file-icon svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-15o2uhu"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg></div> <div class="file-details svelte-15o2uhu"><div class="file-name svelte-15o2uhu"> </div> <div class="file-size svelte-15o2uhu"> </div></div> <button class="file-remove svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="file-meta svelte-15o2uhu"><span> </span> <span> </span></div></div>'),vc=j('<button><div class="size-option-value svelte-15o2uhu"> </div> <div class="size-option-label svelte-15o2uhu"> </div></button>'),cc=j('<button><div class="size-option-value svelte-15o2uhu"> </div> <div class="size-option-label svelte-15o2uhu"> </div></button>'),uc=j('<div class="progress-container svelte-15o2uhu"><div class="progress-header svelte-15o2uhu"><span class="progress-status svelte-15o2uhu"> </span> <span class="progress-percent svelte-15o2uhu"> </span></div> <!> <div class="progress-details svelte-15o2uhu"> </div></div>'),dc=j('<div class="result-container svelte-15o2uhu"><div class="result-header svelte-15o2uhu"><div class="result-icon svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-15o2uhu"><polyline points="20 6 9 17 4 12"></polyline></svg></div> <div class="result-title svelte-15o2uhu">compression complete!</div></div> <div class="result-stats svelte-15o2uhu"><div class="result-stat svelte-15o2uhu"><div class="result-stat-value svelte-15o2uhu"> </div> <div class="result-stat-label svelte-15o2uhu">original</div></div> <div class="result-stat svelte-15o2uhu"><div class="result-stat-value arrow svelte-15o2uhu">-></div> <div class="result-stat-label svelte-15o2uhu"></div></div> <div class="result-stat svelte-15o2uhu"><div class="result-stat-value success svelte-15o2uhu"> </div> <div class="result-stat-label svelte-15o2uhu">compressed</div></div> <div class="result-stat svelte-15o2uhu"><div class="result-stat-value success svelte-15o2uhu"> </div> <div class="result-stat-label svelte-15o2uhu">saved</div></div></div> <button class="result-btn svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-15o2uhu"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg> compress another</button></div>'),fc=j('<div class="quality-overlay svelte-15o2uhu"><div class="quality-modal svelte-15o2uhu"><div class="quality-modal-title svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> quality warning</div> <div class="quality-gauge svelte-15o2uhu"><div class="quality-gauge-bg svelte-15o2uhu"></div> <div class="quality-gauge-mask svelte-15o2uhu"></div> <div class="quality-gauge-needle svelte-15o2uhu"></div> <div class="quality-gauge-center svelte-15o2uhu"></div> <div class="quality-gauge-value svelte-15o2uhu"><span> </span> <span class="quality-gauge-unit svelte-15o2uhu">kbps</span></div></div> <div class="quality-modal-message svelte-15o2uhu">Your video is <strong class="svelte-15o2uhu"> </strong> long. At this size, the estimated bitrate is very low and the output <strong class="svelte-15o2uhu">may look blocky or blurry</strong>. <br/><br/> For better results, try a <strong class="svelte-15o2uhu">shorter clip</strong> or a <strong class="svelte-15o2uhu">larger target size</strong>.</div> <div class="quality-modal-buttons svelte-15o2uhu"><button class="quality-modal-btn cancel svelte-15o2uhu">cancel</button> <button class="quality-modal-btn proceed svelte-15o2uhu">compress anyway</button></div></div></div>'),pc=j('<!> <main class="svelte-15o2uhu"><div class="page-header svelte-15o2uhu"><h1 class="svelte-15o2uhu">compress</h1> <p class="svelte-15o2uhu">shrink videos for discord, email, or anywhere!</p></div> <div class="compress-container svelte-15o2uhu"><!> <div class="size-section svelte-15o2uhu"><div class="size-label svelte-15o2uhu">target size</div> <div class="size-description svelte-15o2uhu">choose a size limit or enter a custom size</div> <div class="size-grid svelte-15o2uhu"></div> <div class="custom-size-row svelte-15o2uhu"><input type="number" class="custom-size-input svelte-15o2uhu" placeholder="custom" min="1" max="4096"/> <span class="custom-size-suffix svelte-15o2uhu">MB</span></div> <div class="estimate svelte-15o2uhu"><span class="estimate-label svelte-15o2uhu">estimated quality</span> <span> </span></div></div> <div class="size-section svelte-15o2uhu"><div class="size-label svelte-15o2uhu">encoding preset</div> <div class="size-description svelte-15o2uhu">quality = better compression, slower | fast = quicker encoding</div> <div class="preset-grid svelte-15o2uhu"></div> <label class="checkbox-row svelte-15o2uhu"><input type="checkbox" class="svelte-15o2uhu"/> <span class="svelte-15o2uhu">downscale for better quality (reduces blockiness)</span></label></div> <button class="compress-btn svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-15o2uhu"><polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg> </button> <!> <!></div></main> <!> <!>',1);function hc(e,t){kt(t,!0);let s=I(null),a=I(0),l=I(0),r=I(0),i=I(50),v=I(47),o=I(""),u=I(!1),p=I("balanced"),_=I(!1),h=I(!1),b=I(0),g=I(""),S=I(""),k=I(!1),x=I(""),N=I(""),V=I(""),te=I(!1),ne=I(!1),be;const $e=[{size:8,actual:7.5,label:"MB free"},{size:10,actual:9.5,label:"MB"},{size:50,actual:47,label:"MB basic"},{size:100,actual:95,label:"MB"},{size:500,actual:475,label:"MB nitro"}],me=[{id:"fast",label:"fast",sublabel:"quick encode"},{id:"balanced",label:"balanced",sublabel:"recommended"},{id:"quality",label:"quality",sublabel:"best results"}];let ke=ie(()=>{if(!n(s)||!n(a))return 0;const $=n(v)*1024*1024,E=128*1024,T=$-E/8*n(a);return Math.floor(T*8/n(a)/1024)}),Fe=ie(()=>!n(s)||!n(a)?"select a file to see estimate":n(s).size/(1024*1024)<=n(v)?`already under ${n(i)}MB!`:n(ke)<500?`~${n(ke)} kbps video - very low quality (may be blocky)`:n(ke)<1e3?`~${n(ke)} kbps video - low quality`:n(ke)<2500?`~${n(ke)} kbps video - medium quality`:n(ke)<5e3?`~${n(ke)} kbps video - good quality`:`~${n(ke)} kbps video - excellent quality`),st=ie(()=>n(s)&&n(a)&&n(ke)<500&&n(s).size/(1024*1024)>n(v)),Ve=ie(()=>-90+Math.min(n(ke),2e3)/2e3*180),ee=ie(()=>{if(!n(a))return"--:--";const $=Math.floor(n(a)/60),E=Math.floor(n(a)%60);return`${$}:${E.toString().padStart(2,"0")}`}),W=ie(()=>!n(l)||!n(r)?"unknown":`${n(l)}x${n(r)}`);function fe($){return new Promise(E=>{const T=document.createElement("video");T.preload="metadata",T.onloadedmetadata=()=>{URL.revokeObjectURL(T.src),E({duration:T.duration,width:T.videoWidth,height:T.videoHeight})},T.onerror=()=>{E({duration:0,width:0,height:0})},T.src=URL.createObjectURL($)})}async function X($){if(!$)return;if(!$.type.startsWith("video/")){Ee("Please select a video file","error");return}const E=15*1024*1024*1024;if($.size>E){Ee("File too large. Maximum size is 15GB.","error");return}f(s,$,!0),f(k,!1);const T=await fe($);f(a,T.duration,!0),f(l,T.width,!0),f(r,T.height,!0)}function J(){f(s,null),f(a,0),f(l,0),f(r,0),f(b,0),f(g,""),f(S,""),f(k,!1),f(o,""),f(u,!1),be&&(be.value="")}function ye($){f(i,$.size,!0),f(v,$.actual,!0),f(u,!1),f(o,"")}function P($){f(o,$,!0);const E=parseInt($);E&&E>0&&(f(i,E,!0),f(v,E*.95),f(u,!0))}function Z(){(!n(o)||parseInt(n(o))<=0)&&n(u)&&(f(i,50),f(v,47),f(u,!1))}function Y(){if(!n(s))return;if(n(s).size/(1024*1024)<=n(v)){Ee(`File is already under ${n(i)}MB!`,"success");return}n(ke)<500?f(ne,!0):he()}async function he(){if(!n(s)||n(h))return;if(f(ne,!1),n(s).size/(1024*1024)<=n(v)){Ee(`File is already under ${n(i)}MB!`,"success");return}f(h,!0),f(b,0),f(g,"uploading..."),f(S,"sending file to server..."),f(k,!1);const E=Date.now().toString()+Math.random().toString(36).substr(2,9),T=n(s).size>90*1024*1024;let G=null,O=null;try{G=Va(),O=gl(E,{onMessage:ue=>{ue.stage==="compressing"&&(f(g,"compressing..."),ue.progress!==void 0&&f(b,ue.progress,!0),ue.message&&f(S,ue.message,!0))},onError:()=>{}});let R;if(T){f(g,"uploading..."),f(S,"large file detected, uploading in chunks...");const ue=await Sl(n(s),Le=>{f(b,Le,!0),f(S,"uploading chunks...")}),{filePath:Ce,fileName:Ie}=ue;f(b,0),f(g,"compressing..."),f(S,"starting compression...");const Ae=await fetch(`${Me()}/api/compress-chunked`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:Ce,fileName:Ie,targetSize:n(v).toString(),duration:n(a).toString(),progressId:E,preset:n(p),downscale:n(_)})});if(!Ae.ok){const Le=await Ae.json();throw new Error(Le.error||"Failed to start compression")}const{jobId:Je}=await Ae.json(),je=Date.now(),Oe=1800*1e3;let We=0;for(;Date.now()-je<=Oe;){await new Promise(Le=>setTimeout(Le,2e3));try{const Le=new AbortController,Vt=setTimeout(()=>Le.abort(),1e4);let rt;try{rt=await fetch(`${Me()}/api/job/${Je}/status`,{signal:Le.signal})}finally{clearTimeout(Vt)}if(!rt.ok)throw new Error(`Server returned ${rt.status}`);const lt=await rt.json();if(We=0,lt.status==="error")throw new Error(lt.error||"Compression failed");if(lt.progress!==void 0&&f(b,lt.progress,!0),lt.message&&f(S,lt.message,!0),lt.status==="complete")break}catch(Le){if(We++,We>=3)throw new Error(`Failed to check job status after 3 attempts: ${Le.message}`)}}if(Date.now()-je>Oe)throw new Error("Job timed out after 30 minutes.");R=await fetch(`${Me()}/api/job/${Je}/download`)}else{const ue=new FormData;ue.append("file",n(s)),ue.append("targetSize",n(v).toString()),ue.append("duration",n(a).toString()),ue.append("progressId",E),ue.append("preset",n(p)),ue.append("downscale",n(_)),R=await fetch(`${Me()}/api/compress`,{method:"POST",body:ue})}if(O&&O.close(),!R.ok){const ue=await R.json();throw new Error(ue.error||"Compression failed")}const K=await R.blob(),ce=K.size,F=(n(s).size/(1024*1024)).toFixed(1),ve=(ce/(1024*1024)).toFixed(1),se=Math.round((1-ce/n(s).size)*100);f(x,`${F} MB`),f(N,`${ve} MB`),f(V,`${se}%`),f(k,!0);const xe=n(s).name.lastIndexOf("."),De=xe>0?n(s).name.slice(0,xe):n(s).name;_l(K,`${De}_compressed.mp4`),Ee("Compression complete!","success"),G&&Qt(G)}catch(R){Ee(R.message||"Compression failed","error"),O&&O.close(),G&&Qt(G)}finally{f(h,!1),f(b,0),f(g,""),f(S,"")}}var M=pc(),w=Te(M);un(w);var B=d(w,2),U=d(c(B),2),D=c(U);{var H=$=>{var E=ic();let T;E.__click=()=>be==null?void 0:be.click();var G=d(c(E),6);G.__change=O=>{var R;X((R=O.target.files)==null?void 0:R[0]),O.target.value=""},Bn(G,O=>be=O,()=>be),L(()=>T=_e(E,1,"drop-zone svelte-15o2uhu",null,T,{dragover:n(te)})),Rt("dragover",E,O=>{O.preventDefault(),f(te,!0)}),Rt("dragleave",E,O=>{O.preventDefault(),f(te,!1)}),Rt("drop",E,O=>{var R,K;O.preventDefault(),f(te,!1),X((K=(R=O.dataTransfer)==null?void 0:R.files)==null?void 0:K[0])}),m($,E)},Q=$=>{var E=oc(),T=c(E),G=d(c(T),2),O=c(G),R=c(O),K=d(O,2),ce=c(K),F=d(G,2);F.__click=J;var ve=d(T,2),se=c(ve),xe=c(se),De=d(se,2),ue=c(De);L(Ce=>{xs(O,"title",n(s).name),z(R,n(s).name),z(ce,Ce),z(xe,`duration: ${(n(a)?n(ee):"unknown")??""}`),z(ue,`resolution: ${n(W)??""}`)},[()=>xl(n(s).size)]),m($,E)};A(D,$=>{n(s)?$(Q,!1):$(H)})}var qe=d(D,2),oe=d(c(qe),4);Ne(oe,21,()=>$e,Ge,($,E)=>{var T=vc();let G;T.__click=()=>ye(n(E));var O=c(T),R=c(O),K=d(O,2),ce=c(K);L(()=>{G=_e(T,1,"size-option svelte-15o2uhu",null,G,{active:!n(u)&&n(i)===n(E).size}),z(R,n(E).size),z(ce,n(E).label)}),m($,T)});var ze=d(oe,2),le=c(ze);le.__input=$=>P($.target.value);var Se=d(ze,2),Be=d(c(Se),2);let He;var ht=c(Be),vt=d(qe,2),gt=d(c(vt),4);Ne(gt,21,()=>me,Ge,($,E)=>{var T=cc();let G;T.__click=()=>f(p,n(E).id,!0);var O=c(T),R=c(O),K=d(O,2),ce=c(K);L(()=>{G=_e(T,1,"size-option svelte-15o2uhu",null,G,{active:n(p)===n(E).id}),z(R,n(E).label),z(ce,n(E).sublabel)}),m($,T)});var nt=d(gt,2),_t=c(nt),ct=d(vt,2);ct.__click=Y;var at=d(c(ct)),jt=d(ct,2);{var St=$=>{var E=uc(),T=c(E),G=c(T),O=c(G),R=d(G,2),K=c(R),ce=d(T,2);jl(ce,{get percent(){return n(b)}});var F=d(ce,2),ve=c(F);L(se=>{z(O,n(g)),z(K,`${se??""}%`),z(ve,n(S))},[()=>Math.round(n(b))]),m($,E)};A(jt,$=>{n(h)&&$(St)})}var $t=d(jt,2);{var C=$=>{var E=dc(),T=d(c(E),2),G=c(T),O=c(G),R=c(O),K=d(G,4),ce=c(K),F=c(ce),ve=d(K,2),se=c(ve),xe=c(se),De=d(T,2);De.__click=J,L(()=>{z(R,n(x)),z(F,n(N)),z(xe,n(V))}),m($,E)};A($t,$=>{n(k)&&$(C)})}var q=d(B,2);{var ae=$=>{var E=fc();E.__click=Ce=>{Ce.target===Ce.currentTarget&&f(ne,!1)};var T=c(E),G=d(c(T),2),O=d(c(G),4),R=d(O,4),K=c(R),ce=c(K),F=d(G,2),ve=d(c(F)),se=c(ve),xe=d(F,2),De=c(xe);De.__click=()=>f(ne,!1);var ue=d(De,2);ue.__click=he,L(()=>{cn(O,`transform: translateX(-50%) rotate(${n(Ve)??""}deg);`),z(ce,n(ke)),z(se,n(ee))}),m($,E)};A(q,$=>{n(ne)&&$(ae)})}var re=d(q,2);On(re),L(()=>{Yi(le,n(o)),He=_e(Be,1,"estimate-value svelte-15o2uhu",null,He,{"estimate-warning":n(st)}),z(ht,n(Fe)),ct.disabled=!n(s)||n(h),z(at,` ${n(h)?"compressing...":"compress video"}`)}),Rt("blur",le,Z),fl(_t,()=>n(_),$=>f(_,$)),m(e,M),xt()}Ut(["click","change","input"]);var gc=j(`<!> <main class="svelte-13tj7i"><div class="page-header svelte-13tj7i"><h1 class="svelte-13tj7i">privacy policy</h1> <p class="svelte-13tj7i">the human-readable version</p></div> <div class="tldr-box svelte-13tj7i"><h3 class="svelte-13tj7i">tl;dr</h3> <p class="svelte-13tj7i">i collect minimal anonymous stats, never your URLs or personal info. you can opt out anytime in <a href="#/settings" class="svelte-13tj7i">settings</a>.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">about</h2> <p class="svelte-13tj7i">hey, im just one person who hasn't even graduated high school yet. i made yoink.tools in my free time because i felt inspired by cool websites like <a href="https://cobalt.tools" target="_blank" rel="noopener" class="svelte-13tj7i">cobalt.tools</a> and <a href="https://vert.sh" target="_blank" rel="noopener" class="svelte-13tj7i">vert.sh</a>, and i wanted an all-in-one website combining all the awesome frickin aspects of them. im not a company, i dont have investors, and i dont want anything from you.</p> <p class="svelte-13tj7i">this privacy policy is written in plain english because legal jargon is annoying.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">what i collect</h2> <p class="svelte-13tj7i">when you have analytics enabled (on by default), i collect:</p> <ul class="svelte-13tj7i"><li class="svelte-13tj7i"><strong class="svelte-13tj7i">format preferences</strong> - which file formats are popular (mp4, mp3, etc.)</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">download counts</strong> - how many downloads, conversions, and compressions happen</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">country data</strong> - derived from your IP address, but i dont store the IP itself</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">daily visitor counts</strong> - how many unique visitors per day</li></ul> <p class="svelte-13tj7i">that's it.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">what i DON'T collect</h2> <p class="svelte-13tj7i">i never, ever collect:</p> <ul class="svelte-13tj7i"><li class="svelte-13tj7i"><strong class="svelte-13tj7i">URLs you download</strong> - your browsing is your business</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">video titles or content</strong> - nope</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">your IP address</strong> - i use it to get country, then forget it</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">cookies for tracking</strong> - only settings are stored locally</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">anything identifying you personally</strong> - i literally cant tell users apart</li></ul></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">why collect anything?</h2> <p class="svelte-13tj7i">its useful to see what features people use so i can prioritize what to work on next. no monetization, no selling data, no ads.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">opting out</h2> <p class="svelte-13tj7i">dont want to be part of the stats? head to <a href="#/settings" class="svelte-13tj7i">settings</a>, click the privacy tab, and flip the toggle.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">where data is stored</h2> <p class="svelte-13tj7i">analytics data is stored on my server in a JSON file. your settings (quality preferences, etc.) are stored in your browser's localStorage and never leave your device.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">questions?</h2> <p class="svelte-13tj7i">if you have questions or concerns, hit me up at <a href="https://coah80.com" target="_blank" rel="noopener" class="svelte-13tj7i">coah80.com</a> or check out the project on <a href="https://github.com/coah80/yoink" target="_blank" rel="noopener" class="svelte-13tj7i">github</a>.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">updates</h2> <p class="svelte-13tj7i">if i change this policy, ill update it here. no sneaky changes. last updated: <strong class="svelte-13tj7i">January 2026</strong>.</p></div></main> <!>`,1);function _c(e){var t=gc(),s=Te(t);un(s);var a=d(s,4);On(a),m(e,t)}var mc=j('<div class="spinner-wrap svelte-121vd2i"><!></div> <h1 class="svelte-121vd2i">downloading...</h1> <p class="svelte-121vd2i">your download should start automatically</p>',1),yc=j('<h1 class="success svelte-121vd2i">done</h1> <p class="svelte-121vd2i">download started successfully</p>',1),wc=j('<h1 class="error svelte-121vd2i">download failed</h1> <p class="svelte-121vd2i">this file is no longer available</p>',1),bc=j('<main class="svelte-121vd2i"><div class="download-container svelte-121vd2i"><!> <div> </div></div></main>');function kc(e,t){kt(t,!0);const s=()=>Lt(so,"$query",a),[a,l]=us();let r=I("loading"),i=I("preparing download..."),v=ie(()=>s().token||"");Dn(()=>{const k=window.location.hash.includes("?")?"":window.location.hash.replace("#/download","").replace(/^\//,""),x=n(v)||k;if(!x){f(r,"error"),f(i,"no download token provided");return}const N=`${Me()}/api/bot/download/${x}`;f(i,"starting download..."),fetch(N,{method:"HEAD"}).then(V=>{if(V.ok)f(i,"download started"),window.location.href=N,setTimeout(()=>{f(r,"success"),f(i,"you can close this page now")},2e3);else throw new Error("Download not available")}).catch(()=>{f(r,"error"),f(i,"the download link has expired (5 minute limit)")})});var o=bc(),u=c(o),p=c(u);{var _=k=>{var x=mc(),N=Te(x),V=c(N);kl(V),m(k,x)},h=k=>{var x=Ze(),N=Te(x);{var V=ne=>{var be=yc();m(ne,be)},te=ne=>{var be=wc();m(ne,be)};A(N,ne=>{n(r)==="success"?ne(V):ne(te,!1)},!0)}m(k,x)};A(p,k=>{n(r)==="loading"?k(_):k(h,!1)})}var b=d(p,2);let g;var S=c(b);L(()=>{g=_e(b,1,"status svelte-121vd2i",null,g,{error:n(r)==="error",success:n(r)==="success"}),z(S,n(i))}),m(e,o),xt(),l()}var xc=j('<main class="svelte-zxc657"><p>Redirecting...</p></main>');function jc(e,t){kt(t,!1),Dn(()=>{const a=new URLSearchParams(window.location.search),r=(a.get("url")||a.get("text")||"").match(/https?:\/\/[^\s]+/);let i=r?r[0]:"";if(i=i.replace(/[.,!?;:)\]}>]+$/,""),i)try{const v=new URL(i);(v.protocol==="http:"||v.protocol==="https:")&&sessionStorage.setItem("yoink_shared_url",i)}catch{}no("/")}),Ki();var s=xc();m(e,s),xt()}var Sc=j('<p class="error svelte-1jknolv"> </p>'),$c=j('<div class="login-container svelte-1jknolv"><div class="login-card svelte-1jknolv"><h1 class="svelte-1jknolv">admin</h1> <p class="login-sub svelte-1jknolv">yoink.tools dashboard</p> <form class="svelte-1jknolv"><input type="password" placeholder="password" autocomplete="current-password" class="svelte-1jknolv"/> <button type="submit" class="svelte-1jknolv"> </button> <!></form></div></div>'),zc=j('<div class="job-pill svelte-1jknolv"><span class="job-type svelte-1jknolv"> </span> <span class="job-count svelte-1jknolv"> </span></div>'),Cc=j('<div class="jobs-bar svelte-1jknolv"><h3 class="svelte-1jknolv">active jobs</h3> <div class="jobs-row svelte-1jknolv"></div></div>'),Ec=j('<div class="bar-col svelte-1jknolv"><span class="bar-value svelte-1jknolv"> </span> <div class="bar svelte-1jknolv"></div> <span class="bar-label svelte-1jknolv"> </span></div>'),Tc=j('<div class="chart-section svelte-1jknolv"><h3 class="svelte-1jknolv"> </h3> <div class="bar-chart svelte-1jknolv"></div></div>'),qc=j('<div class="stats-grid svelte-1jknolv"><div class="stat-card svelte-1jknolv"><span class="stat-value svelte-1jknolv"> </span> <span class="stat-label svelte-1jknolv">downloads</span></div> <div class="stat-card svelte-1jknolv"><span class="stat-value svelte-1jknolv"> </span> <span class="stat-label svelte-1jknolv">converts</span></div> <div class="stat-card svelte-1jknolv"><span class="stat-value svelte-1jknolv"> </span> <span class="stat-label svelte-1jknolv">compresses</span></div> <div class="stat-card svelte-1jknolv"><span class="stat-value svelte-1jknolv"> </span> <span class="stat-label svelte-1jknolv">users today</span></div> <div class="stat-card svelte-1jknolv"><span class="stat-value svelte-1jknolv"> </span> <span class="stat-label svelte-1jknolv">connected</span></div> <div class="stat-card svelte-1jknolv"><span class="stat-value svelte-1jknolv"> </span> <span class="stat-label svelte-1jknolv">peak users (24h)</span></div></div> <!> <!>',1),Mc=j('<p class="empty svelte-1jknolv">no data yet</p>'),Pc=j('<div class="list-row svelte-1jknolv"><span class="list-name svelte-1jknolv"> </span> <span class="list-count svelte-1jknolv"> </span></div>'),Ic=j('<p class="empty svelte-1jknolv">no data yet</p>'),Ac=j('<div class="list-row svelte-1jknolv"><span class="list-name svelte-1jknolv"> </span> <span class="list-count svelte-1jknolv"> </span></div>'),Bc=j('<p class="empty svelte-1jknolv">no data yet</p>'),Dc=j('<div class="list-row svelte-1jknolv"><span class="list-name svelte-1jknolv"> </span> <span class="list-count svelte-1jknolv"> </span></div>'),Oc=j('<div class="analytics-grid svelte-1jknolv"><div class="list-card svelte-1jknolv"><h3 class="svelte-1jknolv">top sites</h3> <!> <!></div> <div class="list-card svelte-1jknolv"><h3 class="svelte-1jknolv">top formats</h3> <!> <!></div> <div class="list-card svelte-1jknolv"><h3 class="svelte-1jknolv">top countries</h3> <!> <!></div></div>'),Rc=j('<small class="svelte-1jknolv"> </small>'),Fc=j('<small class="auto-tag svelte-1jknolv">auto-generated</small>'),Lc=j('<div><div class="banner-preview svelte-1jknolv"><strong class="svelte-1jknolv"> </strong> <p class="svelte-1jknolv"> </p> <!> <!></div> <button class="clear-btn svelte-1jknolv">clear</button></div>'),Nc=j('<p class="no-banner svelte-1jknolv">no active banner</p>'),Uc=j('<div class="banner-section svelte-1jknolv"><!> <div class="banner-form svelte-1jknolv"><h3 class="svelte-1jknolv">set banner</h3> <input type="text" placeholder="banner message..." class="svelte-1jknolv"/> <div class="banner-options svelte-1jknolv"><select class="svelte-1jknolv"><option>info</option><option>warning</option><option>error</option><option>maintenance</option></select> <input type="number" placeholder="expires in (min)" min="1" class="svelte-1jknolv"/> <button class="svelte-1jknolv">set banner</button></div> <div class="quick-banners svelte-1jknolv"><button class="svelte-1jknolv">maintenance</button> <button class="svelte-1jknolv">high traffic</button> <button class="svelte-1jknolv">yt blocked</button></div></div></div>'),Vc=j('<div class="server-grid svelte-1jknolv"><div class="server-card svelte-1jknolv"><h3 class="svelte-1jknolv">uptime</h3> <span class="big-value svelte-1jknolv"> </span></div> <div class="server-card svelte-1jknolv"><h3 class="svelte-1jknolv">memory</h3> <div class="mem-row svelte-1jknolv"><span> </span> <span> </span></div></div> <div class="server-card svelte-1jknolv"><h3 class="svelte-1jknolv">system</h3> <div class="mem-row svelte-1jknolv"><span> </span> <span> </span> <span> </span></div></div> <div class="server-card svelte-1jknolv"><h3 class="svelte-1jknolv">connections</h3> <div class="mem-row svelte-1jknolv"><span> </span> <span> </span> <span> </span> <span> </span></div></div></div>'),Hc=j('<p class="empty svelte-1jknolv">loading server status...</p>'),Jc=j('<div class="dashboard svelte-1jknolv"><div class="dash-header svelte-1jknolv"><h1 class="svelte-1jknolv">dashboard</h1> <button class="logout-btn svelte-1jknolv">logout</button></div> <div class="tabs svelte-1jknolv"><button>overview</button> <button>analytics</button> <button>banner</button> <button>server</button></div> <!></div>'),Gc=j('<!> <main class="svelte-1jknolv"><!></main> <!>',1);function Wc(e,t){kt(t,!0);let s=I(Ws(localStorage.getItem("yoink_admin_token")||"")),a=I(!1),l=I(""),r=I(""),i=I(!1),v=I(null),o=I(null),u=I(null),p=I(""),_=I("info"),h=I(""),b,g=I("overview");function S(w,B={}){return ca(`${Me()}${w}`,{...B,headers:{...B.headers,"x-admin-token":n(s)}})}async function k(w,B={}){return S(w,{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":n(s)},body:JSON.stringify(B)})}async function x(){f(r,""),f(i,!0);try{const w=await ca(`${Me()}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n(l)})});f(s,w.token,!0),localStorage.setItem("yoink_admin_token",n(s)),f(a,!0),f(l,""),te()}catch(w){f(r,w.message||"login failed",!0)}f(i,!1)}async function N(){try{await k("/api/admin/logout")}catch{}f(s,""),f(a,!1),localStorage.removeItem("yoink_admin_token")}async function V(){if(n(s))try{await S("/api/admin/verify"),f(a,!0),te()}catch{f(s,""),localStorage.removeItem("yoink_admin_token")}}async function te(){var w,B;if(n(a))try{const[U,D,H]=await Promise.all([S("/api/admin/analytics"),S("/api/admin/status"),ca(`${Me()}/api/banner`)]);f(v,U,!0),f(o,D,!0),f(u,H.banner,!0)}catch(U){((w=U.message)!=null&&w.includes("401")||(B=U.message)!=null&&B.includes("Unauthorized"))&&N()}}async function ne(){if(n(p).trim())try{const w=await k("/api/admin/banner",{message:n(p).trim(),type:n(_),expiresIn:n(h)?parseInt(n(h)):null});f(u,w.banner,!0),f(p,""),f(h,"")}catch{}}async function be(){try{await S("/api/admin/banner",{method:"DELETE",headers:{"x-admin-token":n(s)}}),f(u,null)}catch{}}function $e(w){const B=Math.floor(w/86400),U=Math.floor(w%86400/3600),D=Math.floor(w%3600/60);return B>0?`${B}d ${U}h ${D}m`:U>0?`${U}h ${D}m`:`${D}m`}function me(w){return w>=1e6?(w/1e6).toFixed(1)+"M":w>=1e3?(w/1e3).toFixed(1)+"K":String(w)}function ke(w,B=8){return w?Object.entries(w).sort((U,D)=>D[1]-U[1]).slice(0,B):[]}function Fe(w,B=14){return w?Object.entries(w).sort((D,H)=>D[0].localeCompare(H[0])).slice(-B):[]}Dn(()=>{V(),b=setInterval(te,15e3)}),pl(()=>{clearInterval(b)});let st=ie(()=>()=>{var B;if(!((B=n(v))!=null&&B.dailyUsers))return 0;const w=new Date().toISOString().split("T")[0];return n(v).dailyUsers[w]||0}),Ve=ie(()=>{var w;return ke((w=n(v))==null?void 0:w.sites)}),ee=ie(()=>{var w;return ke((w=n(v))==null?void 0:w.formats)}),W=ie(()=>{var w;return ke((w=n(v))==null?void 0:w.countries)}),fe=ie(()=>{var w;return Fe((w=n(v))==null?void 0:w.dailyUsers)}),X=ie(()=>n(fe).length?Math.max(...n(fe).map(w=>w[1]),1):1);var J=Gc(),ye=Te(J);un(ye);var P=d(ye,2),Z=c(P);{var Y=w=>{var B=$c(),U=c(B),D=d(c(U),4),H=c(D),Q=d(H,2),qe=c(Q),oe=d(Q,2);{var ze=le=>{var Se=Sc(),Be=c(Se);L(()=>z(Be,n(r))),m(le,Se)};A(oe,le=>{n(r)&&le(ze)})}L(()=>{H.disabled=n(i),Q.disabled=n(i)||!n(l),z(qe,n(i)?"logging in...":"login")}),Rt("submit",D,le=>{le.preventDefault(),x()}),kn(H,()=>n(l),le=>f(l,le)),m(w,B)},he=w=>{var B=Jc(),U=c(B),D=d(c(U),2);D.__click=N;var H=d(U,2),Q=c(H);Q.__click=()=>f(g,"overview");let qe;var oe=d(Q,2);oe.__click=()=>f(g,"analytics");let ze;var le=d(oe,2);le.__click=()=>f(g,"banner");let Se;var Be=d(le,2);Be.__click=()=>f(g,"server");let He;var ht=d(H,2);{var vt=nt=>{var _t=qc(),ct=Te(_t),at=c(ct),jt=c(at),St=c(jt),$t=d(at,2),C=c($t),q=c(C),ae=d($t,2),re=c(ae),$=c(re),E=d(ae,2),T=c(E),G=c(T),O=d(E,2),R=c(O),K=c(R),ce=d(O,2),F=c(ce),ve=c(F),se=d(ct,2);{var xe=Ce=>{var Ie=Cc(),Ae=d(c(Ie),2);Ne(Ae,21,()=>Object.entries(n(o).activeJobs),Ge,(Je,je)=>{var Oe=ie(()=>fn(n(je),2));let We=()=>n(Oe)[0],Le=()=>n(Oe)[1];var Vt=zc(),rt=c(Vt),lt=c(rt),ts=d(rt,2),$s=c(ts);L(()=>{z(lt,We()),z($s,`${Le()??""}/${n(o).jobLimits[We()]??""}`)}),m(Je,Vt)}),m(Ce,Ie)};A(se,Ce=>{n(o)&&Ce(xe)})}var De=d(se,2);{var ue=Ce=>{var Ie=Tc(),Ae=c(Ie),Je=c(Ae),je=d(Ae,2);Ne(je,21,()=>n(fe),Ge,(Oe,We)=>{var Le=ie(()=>fn(n(We),2));let Vt=()=>n(Le)[0],rt=()=>n(Le)[1];var lt=Ec(),ts=c(lt),$s=c(ts),Us=d(ts,2),dn=d(Us,2),Vs=c(dn);L((It,ss)=>{z($s,rt()),cn(Us,`height: ${It??""}%`),z(Vs,ss)},[()=>Math.max(rt()/n(X)*100,4),()=>Vt().slice(5)]),m(Oe,lt)}),L(()=>z(Je,`daily users (last ${n(fe).length??""} days)`)),m(Ce,Ie)};A(De,Ce=>{n(fe).length>0&&Ce(ue)})}L((Ce,Ie,Ae,Je)=>{var je,Oe,We;z(St,Ce),z(q,Ie),z($,Ae),z(G,Je),z(K,((je=n(o))==null?void 0:je.connectedClients)??"â"),z(ve,((We=(Oe=n(v))==null?void 0:Oe.peakUsers)==null?void 0:We.count)??"â")},[()=>n(v)?me(n(v).totalDownloads):"â",()=>n(v)?me(n(v).totalConverts):"â",()=>n(v)?me(n(v).totalCompresses):"â",()=>n(st)()]),m(nt,_t)},gt=nt=>{var _t=Ze(),ct=Te(_t);{var at=St=>{var $t=Oc(),C=c($t),q=d(c(C),2);{var ae=F=>{var ve=Mc();m(F,ve)};A(q,F=>{n(Ve).length===0&&F(ae)})}var re=d(q,2);Ne(re,17,()=>n(Ve),Ge,(F,ve)=>{var se=ie(()=>fn(n(ve),2));let xe=()=>n(se)[0],De=()=>n(se)[1];var ue=Pc(),Ce=c(ue),Ie=c(Ce),Ae=d(Ce,2),Je=c(Ae);L(je=>{z(Ie,xe()),z(Je,je)},[()=>me(De())]),m(F,ue)});var $=d(C,2),E=d(c($),2);{var T=F=>{var ve=Ic();m(F,ve)};A(E,F=>{n(ee).length===0&&F(T)})}var G=d(E,2);Ne(G,17,()=>n(ee),Ge,(F,ve)=>{var se=ie(()=>fn(n(ve),2));let xe=()=>n(se)[0],De=()=>n(se)[1];var ue=Ac(),Ce=c(ue),Ie=c(Ce),Ae=d(Ce,2),Je=c(Ae);L(je=>{z(Ie,xe()),z(Je,je)},[()=>me(De())]),m(F,ue)});var O=d($,2),R=d(c(O),2);{var K=F=>{var ve=Bc();m(F,ve)};A(R,F=>{n(W).length===0&&F(K)})}var ce=d(R,2);Ne(ce,17,()=>n(W),Ge,(F,ve)=>{var se=ie(()=>fn(n(ve),2));let xe=()=>n(se)[0],De=()=>n(se)[1];var ue=Dc(),Ce=c(ue),Ie=c(Ce),Ae=d(Ce,2),Je=c(Ae);L(je=>{z(Ie,xe()),z(Je,je)},[()=>me(De())]),m(F,ue)}),m(St,$t)},jt=St=>{var $t=Ze(),C=Te($t);{var q=re=>{var $=Uc(),E=c($);{var T=je=>{var Oe=Lc(),We=c(Oe),Le=c(We),Vt=c(Le),rt=d(Le,2),lt=c(rt),ts=d(rt,2);{var $s=It=>{var ss=Rc(),ra=c(ss);L(Rn=>z(ra,`expires: ${Rn??""}`),[()=>new Date(n(u).expiresAt).toLocaleString()]),m(It,ss)};A(ts,It=>{n(u).expiresAt&&It($s)})}var Us=d(ts,2);{var dn=It=>{var ss=Fc();m(It,ss)};A(Us,It=>{n(u).auto&&It(dn)})}var Vs=d(We,2);Vs.__click=be,L(()=>{_e(Oe,1,`current-banner banner-${n(u).type??""}`,"svelte-1jknolv"),z(Vt,`active banner (${n(u).type??""}):`),z(lt,n(u).message)}),m(je,Oe)},G=je=>{var Oe=Nc();m(je,Oe)};A(E,je=>{n(u)?je(T):je(G,!1)})}var O=d(E,2),R=d(c(O),2),K=d(R,2),ce=c(K),F=c(ce);F.value=F.__value="info";var ve=d(F);ve.value=ve.__value="warning";var se=d(ve);se.value=se.__value="error";var xe=d(se);xe.value=xe.__value="maintenance";var De=d(ce,2),ue=d(De,2);ue.__click=ne;var Ce=d(K,2),Ie=c(Ce);Ie.__click=()=>{f(p,"scheduled maintenance â downloads may be interrupted."),f(_,"maintenance")};var Ae=d(Ie,2);Ae.__click=()=>{f(p,"high traffic â downloads may be slower than usual."),f(_,"warning")};var Je=d(Ae,2);Je.__click=()=>{f(p,"youtube is currently blocking some requests â try again later."),f(_,"error")},L(je=>ue.disabled=je,[()=>!n(p).trim()]),kn(R,()=>n(p),je=>f(p,je)),Ji(ce,()=>n(_),je=>f(_,je)),kn(De,()=>n(h),je=>f(h,je)),m(re,$)},ae=re=>{var $=Ze(),E=Te($);{var T=G=>{var O=Ze(),R=Te(O);{var K=F=>{var ve=Vc(),se=c(ve),xe=d(c(se),2),De=c(xe),ue=d(se,2),Ce=d(c(ue),2),Ie=c(Ce),Ae=c(Ie),Je=d(Ie,2),je=c(Je),Oe=d(ue,2),We=d(c(Oe),2),Le=c(We),Vt=c(Le),rt=d(Le,2),lt=c(rt),ts=d(rt,2),$s=c(ts),Us=d(Oe,2),dn=d(c(Us),2),Vs=c(dn),It=c(Vs),ss=d(Vs,2),ra=c(ss),Rn=d(ss,2),$l=c(Rn),zl=d(Rn,2),Cl=c(zl);L((la,El)=>{z(De,la),z(Ae,`rss: ${n(o).memory.rss??""} MB`),z(je,`heap: ${n(o).memory.heapUsed??""}/${n(o).memory.heapTotal??""} MB`),z(Vt,n(o).system.platform),z(lt,`ram: ${n(o).system.freeMem??""}/${n(o).system.totalMem??""} MB free`),z($s,`load: ${El??""}`),z(It,`clients: ${n(o).connectedClients??""}`),z(ra,`streams: ${n(o).activeStreams??""}`),z($l,`processes: ${n(o).activeProcesses??""}`),z(Cl,`bot downloads: ${n(o).botDownloads??""}`)},[()=>$e(n(o).uptime),()=>n(o).system.loadAvg.map(la=>la.toFixed(2)).join(", ")]),m(F,ve)},ce=F=>{var ve=Hc();m(F,ve)};A(R,F=>{n(o)?F(K):F(ce,!1)})}m(G,O)};A(E,G=>{n(g)==="server"&&G(T)},!0)}m(re,$)};A(C,re=>{n(g)==="banner"?re(q):re(ae,!1)},!0)}m(St,$t)};A(ct,St=>{n(g)==="analytics"?St(at):St(jt,!1)},!0)}m(nt,_t)};A(ht,nt=>{n(g)==="overview"?nt(vt):nt(gt,!1)})}L(()=>{qe=_e(Q,1,"svelte-1jknolv",null,qe,{active:n(g)==="overview"}),ze=_e(oe,1,"svelte-1jknolv",null,ze,{active:n(g)==="analytics"}),Se=_e(le,1,"svelte-1jknolv",null,Se,{active:n(g)==="banner"}),He=_e(Be,1,"svelte-1jknolv",null,He,{active:n(g)==="server"})}),m(w,B)};A(Z,w=>{n(a)?w(he,!1):w(Y)})}var M=d(P,2);On(M),m(e,J),xt()}Ut(["click"]);var Yc=j(`<!> <main class="svelte-kbj945"><div class="not-found svelte-kbj945"><h1 class="svelte-kbj945">404</h1> <p class="svelte-kbj945">this page doesn't exist</p> <a href="#/" class="back-link svelte-kbj945">go back home</a></div></main>`,1);function Qc(e){var t=Yc(),s=Te(t);un(s),m(e,t)}var Kc=j('<div><span class="banner-msg svelte-1n46o8q"> </span> <button class="banner-dismiss svelte-1n46o8q"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div>'),Xc=j("<!> <!> <!> <!>",1);function Zc(e,t){kt(t,!0);const s=()=>Lt(Ua,"$path",l),a=()=>Lt(Qn,"$banner",l),[l,r]=us(),i={"/":Cv,"/settings":Yv,"/convert":lc,"/compress":hc,"/privacy":_c,"/download":kc,"/share":jc,"/admin":Wc};let v=ie(s),o=ie(()=>i[n(v)]||Qc),u=ie(()=>n(v)==="/admin"),p=ie(a);on(()=>{Ko(n(v))});function _(){Qn.set(null)}Dn(()=>{go(),Xo(),Zo(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(()=>{})}),pl(()=>{ev()});var h=Xc(),b=Te(h);{var g=V=>{var te=Kc(),ne=c(te),be=c(ne),$e=d(ne,2);$e.__click=_,L(()=>{_e(te,1,`site-banner banner-${n(p).type??""}`,"svelte-1n46o8q"),z(be,n(p).message)}),m(V,te)};A(b,V=>{n(p)&&!n(u)&&V(g)})}var S=d(b,2);Ni(S,()=>n(o),(V,te)=>{te(V,{})});var k=d(S,2);{var x=V=>{Wo(V,{})};A(k,V=>{n(u)||V(x)})}var N=d(k,2);vo(N),m(e,h),xt(),r()}Ut(["click"]);Bi(Zc,{target:document.getElementById("app")});
