var il=Object.defineProperty;var Er=e=>{throw TypeError(e)};var ll=(e,t,s)=>t in e?il(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ct=(e,t,s)=>ll(e,typeof t!="symbol"?t+"":t,s),Un=(e,t,s)=>t.has(e)||Er("Cannot "+s);var _=(e,t,s)=>(Un(e,t,"read from private field"),s?s.call(e):t.get(e)),te=(e,t,s)=>t.has(e)?Er("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ee=(e,t,s,n)=>(Un(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),He=(e,t,s)=>(Un(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();const Jn=!1;var Qr=Array.isArray,al=Array.prototype.indexOf,Vs=Array.prototype.includes,Rn=Array.from,Kr=Object.defineProperty,nn=Object.getOwnPropertyDescriptor,Xr=Object.getOwnPropertyDescriptors,ol=Object.prototype,cl=Array.prototype,ur=Object.getPrototypeOf,Tr=Object.isExtensible;const ns=()=>{};function ul(e){return e()}function qn(e){for(var t=0;t<e.length;t++)e[t]()}function Zr(){var e,t,s=new Promise((n,i)=>{e=n,t=i});return{promise:s,resolve:e,reject:t}}const Ue=2,Pn=4,hn=8,ei=1<<24,Wt=16,yt=32,Cs=64,vr=128,ut=512,Re=1024,Ve=2048,wt=4096,it=8192,rs=16384,dr=32768,us=65536,$r=1<<17,ti=1<<18,Ys=1<<19,si=1<<20,Ht=1<<25,xs=32768,Yn=1<<21,fr=1<<22,is=1<<23,As=Symbol("$state"),vl=Symbol(""),Is=new class extends Error{constructor(){super(...arguments);Ct(this,"name","StaleReactionError");Ct(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function dl(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function fl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function hl(e,t,s){throw new Error("https://svelte.dev/e/each_key_duplicate")}function pl(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function gl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ml(e){throw new Error("https://svelte.dev/e/effect_orphan")}function _l(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function wl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function yl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function bl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function kl(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const xl=1,Sl=2,ni=4,zl=8,jl=16,ri=1,Cl=2,Oe=Symbol(),El="http://www.w3.org/1999/xhtml";function Tl(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ii(e){return e===this.v}function li(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ai(e){return!li(e,this.v)}let pn=!1,$l=!1;function ql(){pn=!0}let Ie=null;function Hs(e){Ie=e}function ft(e,t=!1,s){Ie={p:Ie,i:!1,c:null,e:null,s:e,x:null,l:pn&&!t?{s:null,u:null,$:[]}:null}}function ht(e){var t=Ie,s=t.e;if(s!==null){t.e=null;for(var n of s)Ti(n)}return t.i=!0,Ie=t.p,{}}function gn(){return!pn||Ie!==null&&Ie.l===null}let fs=[];function oi(){var e=fs;fs=[],qn(e)}function Gt(e){if(fs.length===0&&!rn){var t=fs;queueMicrotask(()=>{t===fs&&oi()})}fs.push(e)}function Pl(){for(;fs.length>0;)oi()}function ci(e){var t=xe;if(t===null)return le.f|=is,e;if((t.f&dr)===0){if((t.f&vr)===0)throw e;t.b.error(e)}else Gs(e,t)}function Gs(e,t){for(;t!==null;){if((t.f&vr)!==0)try{t.b.error(e);return}catch(s){e=s}t=t.parent}throw e}const Ml=-7169;function Me(e,t){e.f=e.f&Ml|t}function hr(e){(e.f&ut)!==0||e.deps===null?Me(e,Re):Me(e,wt)}function ui(e){if(e!==null)for(const t of e)(t.f&Ue)===0||(t.f&xs)===0||(t.f^=xs,ui(t.deps))}function vi(e,t,s){(e.f&Ve)!==0?t.add(e):(e.f&wt)!==0&&s.add(e),ui(e.deps),Me(e,Re)}const jn=new Set;let se=null,Qn=null,Ne=null,Xe=[],Bn=null,Kn=!1,rn=!1;var Rs,Bs,ps,Ls,un,vn,gs,Ot,Os,Rt,Xn,Zn,di;const Cr=class Cr{constructor(){te(this,Rt);Ct(this,"committed",!1);Ct(this,"current",new Map);Ct(this,"previous",new Map);te(this,Rs,new Set);te(this,Bs,new Set);te(this,ps,0);te(this,Ls,0);te(this,un,null);te(this,vn,new Set);te(this,gs,new Set);te(this,Ot,new Map);Ct(this,"is_fork",!1);te(this,Os,!1)}is_deferred(){return this.is_fork||_(this,Ls)>0}skip_effect(t){_(this,Ot).has(t)||_(this,Ot).set(t,{d:[],m:[]})}unskip_effect(t){var s=_(this,Ot).get(t);if(s){_(this,Ot).delete(t);for(var n of s.d)Me(n,Ve),mt(n);for(n of s.m)Me(n,wt),mt(n)}}process(t){var i;Xe=[],this.apply();var s=[],n=[];for(const r of t)He(this,Rt,Xn).call(this,r,s,n);if(this.is_deferred()){He(this,Rt,Zn).call(this,n),He(this,Rt,Zn).call(this,s);for(const[r,a]of _(this,Ot))gi(r,a)}else{for(const r of _(this,Rs))r();_(this,Rs).clear(),_(this,ps)===0&&He(this,Rt,di).call(this),Qn=this,se=null,qr(n),qr(s),Qn=null,(i=_(this,un))==null||i.resolve()}Ne=null}capture(t,s){s!==Oe&&!this.previous.has(t)&&this.previous.set(t,s),(t.f&is)===0&&(this.current.set(t,t.v),Ne==null||Ne.set(t,t.v))}activate(){se=this,this.apply()}deactivate(){se===this&&(se=null,Ne=null)}flush(){if(this.activate(),Xe.length>0){if(fi(),se!==null&&se!==this)return}else _(this,ps)===0&&this.process([]);this.deactivate()}discard(){for(const t of _(this,Bs))t(this);_(this,Bs).clear()}increment(t){ee(this,ps,_(this,ps)+1),t&&ee(this,Ls,_(this,Ls)+1)}decrement(t){ee(this,ps,_(this,ps)-1),t&&ee(this,Ls,_(this,Ls)-1),!_(this,Os)&&(ee(this,Os,!0),Gt(()=>{ee(this,Os,!1),this.is_deferred()?Xe.length>0&&this.flush():this.revive()}))}revive(){for(const t of _(this,vn))_(this,gs).delete(t),Me(t,Ve),mt(t);for(const t of _(this,gs))Me(t,wt),mt(t);this.flush()}oncommit(t){_(this,Rs).add(t)}ondiscard(t){_(this,Bs).add(t)}settled(){return(_(this,un)??ee(this,un,Zr())).promise}static ensure(){if(se===null){const t=se=new Cr;jn.add(se),rn||Gt(()=>{se===t&&t.flush()})}return se}apply(){}};Rs=new WeakMap,Bs=new WeakMap,ps=new WeakMap,Ls=new WeakMap,un=new WeakMap,vn=new WeakMap,gs=new WeakMap,Ot=new WeakMap,Os=new WeakMap,Rt=new WeakSet,Xn=function(t,s,n){t.f^=Re;for(var i=t.first,r=null;i!==null;){var a=i.f,c=(a&(yt|Cs))!==0,o=c&&(a&Re)!==0,u=o||(a&it)!==0||_(this,Ot).has(i);if(!u&&i.fn!==null){c?i.f^=Re:r!==null&&(a&(Pn|hn|ei))!==0?r.b.defer_effect(i):(a&Pn)!==0?s.push(i):wn(i)&&((a&Wt)!==0&&_(this,gs).add(i),an(i));var v=i.first;if(v!==null){i=v;continue}}var g=i.parent;for(i=i.next;i===null&&g!==null;)g===r&&(r=null),i=g.next,g=g.parent}},Zn=function(t){for(var s=0;s<t.length;s+=1)vi(t[s],_(this,vn),_(this,gs))},di=function(){var i;if(jn.size>1){this.previous.clear();var t=Ne,s=!0;for(const r of jn){if(r===this){s=!1;continue}const a=[];for(const[o,u]of this.current){if(r.current.has(o))if(s&&u!==r.current.get(o))r.current.set(o,u);else continue;a.push(o)}if(a.length===0)continue;const c=[...r.current.keys()].filter(o=>!this.current.has(o));if(c.length>0){var n=Xe;Xe=[];const o=new Set,u=new Map;for(const v of a)hi(v,c,o,u);if(Xe.length>0){se=r,r.apply();for(const v of Xe)He(i=r,Rt,Xn).call(i,v,[],[]);r.deactivate()}Xe=n}}se=null,Ne=t}this.committed=!0,jn.delete(this)};let ls=Cr;function Il(e){var t=rn;rn=!0;try{for(var s;;){if(Pl(),Xe.length===0&&(se==null||se.flush(),Xe.length===0))return Bn=null,s;fi()}}finally{rn=t}}function fi(){Kn=!0;var e=null;try{for(var t=0;Xe.length>0;){var s=ls.ensure();if(t++>1e3){var n,i;Al()}s.process(Xe),as.clear()}}finally{Xe=[],Kn=!1,Bn=null}}function Al(){try{_l()}catch(e){Gs(e,Bn)}}let pt=null;function qr(e){var t=e.length;if(t!==0){for(var s=0;s<t;){var n=e[s++];if((n.f&(rs|it))===0&&wn(n)&&(pt=new Set,an(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null&&n.ac===null?Pi(n):n.fn=null),(pt==null?void 0:pt.size)>0)){as.clear();for(const i of pt){if((i.f&(rs|it))!==0)continue;const r=[i];let a=i.parent;for(;a!==null;)pt.has(a)&&(pt.delete(a),r.push(a)),a=a.parent;for(let c=r.length-1;c>=0;c--){const o=r[c];(o.f&(rs|it))===0&&an(o)}}pt.clear()}}pt=null}}function hi(e,t,s,n){if(!s.has(e)&&(s.add(e),e.reactions!==null))for(const i of e.reactions){const r=i.f;(r&Ue)!==0?hi(i,t,s,n):(r&(fr|Wt))!==0&&(r&Ve)===0&&pi(i,t,n)&&(Me(i,Ve),mt(i))}}function pi(e,t,s){const n=s.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const i of e.deps){if(Vs.call(t,i))return!0;if((i.f&Ue)!==0&&pi(i,t,s))return s.set(i,!0),!0}return s.set(e,!1),!1}function mt(e){for(var t=Bn=e;t.parent!==null;){t=t.parent;var s=t.f;if(Kn&&t===xe&&(s&Wt)!==0&&(s&ti)===0)return;if((s&(Cs|yt))!==0){if((s&Re)===0)return;t.f^=Re}}Xe.push(t)}function gi(e,t){if(!((e.f&yt)!==0&&(e.f&Re)!==0)){(e.f&Ve)!==0?t.d.push(e):(e.f&wt)!==0&&t.m.push(e),Me(e,Re);for(var s=e.first;s!==null;)gi(s,t),s=s.next}}function Dl(e){let t=0,s=Ss(0),n;return()=>{mr()&&(l(s),Fn(()=>(t===0&&(n=Es(()=>e(()=>ln(s)))),t+=1,()=>{Gt(()=>{t-=1,t===0&&(n==null||n(),n=void 0,ln(s))})})))}}var Rl=us|Ys|vr;function Bl(e,t,s){new Ll(e,t,s)}var at,cr,Et,ms,Tt,ot,Ke,$t,Ft,es,_s,ts,Fs,ws,Ns,Us,Nt,An,Be,Ol,Fl,er,Cn,En,tr;class Ll{constructor(t,s,n){te(this,Be);Ct(this,"parent");Ct(this,"is_pending",!1);te(this,at);te(this,cr,null);te(this,Et);te(this,ms);te(this,Tt);te(this,ot,null);te(this,Ke,null);te(this,$t,null);te(this,Ft,null);te(this,es,null);te(this,_s,0);te(this,ts,0);te(this,Fs,!1);te(this,ws,!1);te(this,Ns,new Set);te(this,Us,new Set);te(this,Nt,null);te(this,An,Dl(()=>(ee(this,Nt,Ss(_(this,_s))),()=>{ee(this,Nt,null)})));ee(this,at,t),ee(this,Et,s),ee(this,ms,n),this.parent=xe.b,this.is_pending=!!_(this,Et).pending,ee(this,Tt,_n(()=>{xe.b=this;{var i=He(this,Be,er).call(this);try{ee(this,ot,ct(()=>n(i)))}catch(r){this.error(r)}_(this,ts)>0?He(this,Be,En).call(this):this.is_pending=!1}return()=>{var r;(r=_(this,es))==null||r.remove()}},Rl))}defer_effect(t){vi(t,_(this,Ns),_(this,Us))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!_(this,Et).pending}update_pending_count(t){He(this,Be,tr).call(this,t),ee(this,_s,_(this,_s)+t),!(!_(this,Nt)||_(this,Fs))&&(ee(this,Fs,!0),Gt(()=>{ee(this,Fs,!1),_(this,Nt)&&Ws(_(this,Nt),_(this,_s))}))}get_effect_pending(){return _(this,An).call(this),l(_(this,Nt))}error(t){var s=_(this,Et).onerror;let n=_(this,Et).failed;if(_(this,ws)||!s&&!n)throw t;_(this,ot)&&(tt(_(this,ot)),ee(this,ot,null)),_(this,Ke)&&(tt(_(this,Ke)),ee(this,Ke,null)),_(this,$t)&&(tt(_(this,$t)),ee(this,$t,null));var i=!1,r=!1;const a=()=>{if(i){Tl();return}i=!0,r&&kl(),ls.ensure(),ee(this,_s,0),_(this,$t)!==null&&bs(_(this,$t),()=>{ee(this,$t,null)}),this.is_pending=this.has_pending_snippet(),ee(this,ot,He(this,Be,Cn).call(this,()=>(ee(this,ws,!1),ct(()=>_(this,ms).call(this,_(this,at)))))),_(this,ts)>0?He(this,Be,En).call(this):this.is_pending=!1};Gt(()=>{try{r=!0,s==null||s(t,a),r=!1}catch(c){Gs(c,_(this,Tt)&&_(this,Tt).parent)}n&&ee(this,$t,He(this,Be,Cn).call(this,()=>{ls.ensure(),ee(this,ws,!0);try{return ct(()=>{n(_(this,at),()=>t,()=>a)})}catch(c){return Gs(c,_(this,Tt).parent),null}finally{ee(this,ws,!1)}}))})}}at=new WeakMap,cr=new WeakMap,Et=new WeakMap,ms=new WeakMap,Tt=new WeakMap,ot=new WeakMap,Ke=new WeakMap,$t=new WeakMap,Ft=new WeakMap,es=new WeakMap,_s=new WeakMap,ts=new WeakMap,Fs=new WeakMap,ws=new WeakMap,Ns=new WeakMap,Us=new WeakMap,Nt=new WeakMap,An=new WeakMap,Be=new WeakSet,Ol=function(){try{ee(this,ot,ct(()=>_(this,ms).call(this,_(this,at))))}catch(t){this.error(t)}},Fl=function(){const t=_(this,Et).pending;t&&(ee(this,Ke,ct(()=>t(_(this,at)))),Gt(()=>{var s=He(this,Be,er).call(this);ee(this,ot,He(this,Be,Cn).call(this,()=>(ls.ensure(),ct(()=>_(this,ms).call(this,s))))),_(this,ts)>0?He(this,Be,En).call(this):(bs(_(this,Ke),()=>{ee(this,Ke,null)}),this.is_pending=!1)}))},er=function(){var t=_(this,at);return this.is_pending&&(ee(this,es,os()),_(this,at).before(_(this,es)),t=_(this,es)),t},Cn=function(t){var s=xe,n=le,i=Ie;At(_(this,Tt)),dt(_(this,Tt)),Hs(_(this,Tt).ctx);try{return t()}catch(r){return ci(r),null}finally{At(s),dt(n),Hs(i)}},En=function(){const t=_(this,Et).pending;_(this,ot)!==null&&(ee(this,Ft,document.createDocumentFragment()),_(this,Ft).append(_(this,es)),Ai(_(this,ot),_(this,Ft))),_(this,Ke)===null&&ee(this,Ke,ct(()=>t(_(this,at))))},tr=function(t){var s;if(!this.has_pending_snippet()){this.parent&&He(s=this.parent,Be,tr).call(s,t);return}if(ee(this,ts,_(this,ts)+t),_(this,ts)===0){this.is_pending=!1;for(const n of _(this,Ns))Me(n,Ve),mt(n);for(const n of _(this,Us))Me(n,wt),mt(n);_(this,Ns).clear(),_(this,Us).clear(),_(this,Ke)&&bs(_(this,Ke),()=>{ee(this,Ke,null)}),_(this,Ft)&&(_(this,at).before(_(this,Ft)),ee(this,Ft,null))}};function Nl(e,t,s,n){const i=gn()?Ln:mi;var r=e.filter(h=>!h.settled);if(s.length===0&&r.length===0){n(t.map(i));return}var a=se,c=xe,o=Ul(),u=r.length===1?r[0].promise:r.length>1?Promise.all(r.map(h=>h.promise)):null;function v(h){o();try{n(h)}catch(w){(c.f&rs)===0&&Gs(w,c)}a==null||a.deactivate(),sr()}if(s.length===0){u.then(()=>v(t.map(i)));return}function g(){o(),Promise.all(s.map(h=>Vl(h))).then(h=>v([...t.map(i),...h])).catch(h=>Gs(h,c))}u?u.then(g):g()}function Ul(){var e=xe,t=le,s=Ie,n=se;return function(r=!0){At(e),dt(t),Hs(s),r&&(n==null||n.activate())}}function sr(){At(null),dt(null),Hs(null)}function Ln(e){var t=Ue|Ve,s=le!==null&&(le.f&Ue)!==0?le:null;return xe!==null&&(xe.f|=Ys),{ctx:Ie,deps:null,effects:null,equals:ii,f:t,fn:e,reactions:null,rv:0,v:Oe,wv:0,parent:s??xe,ac:null}}function Vl(e,t,s){let n=xe;n===null&&fl();var i=n.b,r=void 0,a=Ss(Oe),c=!le,o=new Map;return ea(()=>{var w;var u=Zr();r=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{v===se&&v.committed&&v.deactivate(),sr()})}catch(m){u.reject(m),sr()}var v=se;if(c){var g=i.is_rendered();i.update_pending_count(1),v.increment(g),(w=o.get(v))==null||w.reject(Is),o.delete(v),o.set(v,u)}const h=(m,S=void 0)=>{if(v.activate(),S)S!==Is&&(a.f|=is,Ws(a,S));else{(a.f&is)!==0&&(a.f^=is),Ws(a,m);for(const[b,k]of o){if(o.delete(b),b===v)break;k.reject(Is)}}c&&(i.update_pending_count(-1),v.decrement(g))};u.promise.then(h,m=>h(null,m||"unknown"))}),_r(()=>{for(const u of o.values())u.reject(Is)}),new Promise(u=>{function v(g){function h(){g===r?u(a):v(r)}g.then(h,h)}v(r)})}function ye(e){const t=Ln(e);return Di(t),t}function mi(e){const t=Ln(e);return t.equals=ai,t}function _i(e){var t=e.effects;if(t!==null){e.effects=null;for(var s=0;s<t.length;s+=1)tt(t[s])}}function Hl(e){for(var t=e.parent;t!==null;){if((t.f&Ue)===0)return(t.f&rs)===0?t:null;t=t.parent}return null}function pr(e){var t,s=xe;At(Hl(e));try{e.f&=~xs,_i(e),t=Oi(e)}finally{At(s)}return t}function wi(e){var t=pr(e);if(!e.equals(t)&&(e.wv=Bi(),(!(se!=null&&se.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){Me(e,Re);return}zs||(Ne!==null?(mr()||se!=null&&se.is_fork)&&Ne.set(e,t):hr(e))}let nr=new Set;const as=new Map;let yi=!1;function Ss(e,t){var s={f:0,v:e,reactions:null,equals:ii,rv:0,wv:0};return s}function I(e,t){const s=Ss(e);return Di(s),s}function bi(e,t=!1,s=!0){var i;const n=Ss(e);return t||(n.equals=ai),pn&&s&&Ie!==null&&Ie.l!==null&&((i=Ie.l).s??(i.s=[])).push(n),n}function f(e,t,s=!1){le!==null&&(!_t||(le.f&$r)!==0)&&gn()&&(le.f&(Ue|Wt|fr|$r))!==0&&(vt===null||!Vs.call(vt,e))&&bl();let n=s?en(t):t;return Ws(e,n)}function Ws(e,t){if(!e.equals(t)){var s=e.v;zs?as.set(e,t):as.set(e,s),e.v=t;var n=ls.ensure();if(n.capture(e,s),(e.f&Ue)!==0){const i=e;(e.f&Ve)!==0&&pr(i),hr(i)}e.wv=Bi(),ki(e,Ve),gn()&&xe!==null&&(xe.f&Re)!==0&&(xe.f&(yt|Cs))===0&&(lt===null?na([e]):lt.push(e)),!n.is_fork&&nr.size>0&&!yi&&Gl()}return t}function Gl(){yi=!1;for(const e of nr)(e.f&Re)!==0&&Me(e,wt),wn(e)&&an(e);nr.clear()}function ln(e){f(e,e.v+1)}function ki(e,t){var s=e.reactions;if(s!==null)for(var n=gn(),i=s.length,r=0;r<i;r++){var a=s[r],c=a.f;if(!(!n&&a===xe)){var o=(c&Ve)===0;if(o&&Me(a,t),(c&Ue)!==0){var u=a;Ne==null||Ne.delete(u),(c&xs)===0&&(c&ut&&(a.f|=xs),ki(u,wt))}else o&&((c&Wt)!==0&&pt!==null&&pt.add(a),mt(a))}}}function en(e){if(typeof e!="object"||e===null||As in e)return e;const t=ur(e);if(t!==ol&&t!==cl)return e;var s=new Map,n=Qr(e),i=I(0),r=ks,a=c=>{if(ks===r)return c();var o=le,u=ks;dt(null),Ar(r);var v=c();return dt(o),Ar(u),v};return n&&s.set("length",I(e.length)),new Proxy(e,{defineProperty(c,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&wl();var v=s.get(o);return v===void 0?v=a(()=>{var g=I(u.value);return s.set(o,g),g}):f(v,u.value,!0),!0},deleteProperty(c,o){var u=s.get(o);if(u===void 0){if(o in c){const v=a(()=>I(Oe));s.set(o,v),ln(i)}}else f(u,Oe),ln(i);return!0},get(c,o,u){var w;if(o===As)return e;var v=s.get(o),g=o in c;if(v===void 0&&(!g||(w=nn(c,o))!=null&&w.writable)&&(v=a(()=>{var m=en(g?c[o]:Oe),S=I(m);return S}),s.set(o,v)),v!==void 0){var h=l(v);return h===Oe?void 0:h}return Reflect.get(c,o,u)},getOwnPropertyDescriptor(c,o){var u=Reflect.getOwnPropertyDescriptor(c,o);if(u&&"value"in u){var v=s.get(o);v&&(u.value=l(v))}else if(u===void 0){var g=s.get(o),h=g==null?void 0:g.v;if(g!==void 0&&h!==Oe)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(c,o){var h;if(o===As)return!0;var u=s.get(o),v=u!==void 0&&u.v!==Oe||Reflect.has(c,o);if(u!==void 0||xe!==null&&(!v||(h=nn(c,o))!=null&&h.writable)){u===void 0&&(u=a(()=>{var w=v?en(c[o]):Oe,m=I(w);return m}),s.set(o,u));var g=l(u);if(g===Oe)return!1}return v},set(c,o,u,v){var J;var g=s.get(o),h=o in c;if(n&&o==="length")for(var w=u;w<g.v;w+=1){var m=s.get(w+"");m!==void 0?f(m,Oe):w in c&&(m=a(()=>I(Oe)),s.set(w+"",m))}if(g===void 0)(!h||(J=nn(c,o))!=null&&J.writable)&&(g=a(()=>I(void 0)),f(g,en(u)),s.set(o,g));else{h=g.v!==Oe;var S=a(()=>en(u));f(g,S)}var b=Reflect.getOwnPropertyDescriptor(c,o);if(b!=null&&b.set&&b.set.call(v,u),!h){if(n&&typeof o=="string"){var k=s.get("length"),R=Number(o);Number.isInteger(R)&&R>=k.v&&f(k,R+1)}ln(i)}return!0},ownKeys(c){l(i);var o=Reflect.ownKeys(c).filter(g=>{var h=s.get(g);return h===void 0||h.v!==Oe});for(var[u,v]of s)v.v!==Oe&&!(u in c)&&o.push(u);return o},setPrototypeOf(){yl()}})}var Pr,gr,xi,Si,zi;function Wl(){if(Pr===void 0){Pr=window,gr=document,xi=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,s=Text.prototype;Si=nn(t,"firstChild").get,zi=nn(t,"nextSibling").get,Tr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Tr(s)&&(s.__t=void 0)}}function os(e=""){return document.createTextNode(e)}function Ut(e){return Si.call(e)}function mn(e){return zi.call(e)}function d(e,t){return Ut(e)}function Te(e,t=!1){{var s=Ut(e);return s instanceof Comment&&s.data===""?mn(s):s}}function p(e,t=1,s=!1){let n=e;for(;t--;)n=mn(n);return n}function Jl(e){e.textContent=""}function ji(){return!1}let Mr=!1;function Yl(){Mr||(Mr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const s of e.target.elements)(t=s.__on_r)==null||t.call(s)})},{capture:!0}))}function On(e){var t=le,s=xe;dt(null),At(null);try{return e()}finally{dt(t),At(s)}}function Ci(e,t,s,n=s){e.addEventListener(t,()=>On(s));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),Yl()}function Ei(e){xe===null&&(le===null&&ml(),gl()),zs&&pl()}function Ql(e,t){var s=t.last;s===null?t.last=t.first=e:(s.next=e,e.prev=s,t.last=e)}function Bt(e,t,s){var n=xe;n!==null&&(n.f&it)!==0&&(e|=it);var i={ctx:Ie,deps:null,nodes:null,f:e|Ve|ut,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(s)try{an(i),i.f|=dr}catch(c){throw tt(i),c}else t!==null&&mt(i);var r=i;if(s&&r.deps===null&&r.teardown===null&&r.nodes===null&&r.first===r.last&&(r.f&Ys)===0&&(r=r.first,(e&Wt)!==0&&(e&us)!==0&&r!==null&&(r.f|=us)),r!==null&&(r.parent=n,n!==null&&Ql(r,n),le!==null&&(le.f&Ue)!==0&&(e&Cs)===0)){var a=le;(a.effects??(a.effects=[])).push(r)}return i}function mr(){return le!==null&&!_t}function _r(e){const t=Bt(hn,null,!1);return Me(t,Re),t.teardown=e,t}function Js(e){Ei();var t=xe.f,s=!le&&(t&yt)!==0&&(t&dr)===0;if(s){var n=Ie;(n.e??(n.e=[])).push(e)}else return Ti(e)}function Ti(e){return Bt(Pn|si,e,!1)}function Kl(e){return Ei(),Bt(hn|si,e,!0)}function Xl(e){ls.ensure();const t=Bt(Cs|Ys,e,!0);return(s={})=>new Promise(n=>{s.outro?bs(t,()=>{tt(t),n(void 0)}):(tt(t),n(void 0))})}function Zl(e){return Bt(Pn,e,!1)}function ea(e){return Bt(fr|Ys,e,!0)}function Fn(e,t=0){return Bt(hn|t,e,!0)}function H(e,t=[],s=[],n=[]){Nl(n,t,s,i=>{Bt(hn,()=>e(...i.map(l)),!0)})}function _n(e,t=0){var s=Bt(Wt|t,e,!0);return s}function ct(e){return Bt(yt|Ys,e,!0)}function $i(e){var t=e.teardown;if(t!==null){const s=zs,n=le;Ir(!0),dt(null);try{t.call(null)}finally{Ir(s),dt(n)}}}function qi(e,t=!1){var s=e.first;for(e.first=e.last=null;s!==null;){const i=s.ac;i!==null&&On(()=>{i.abort(Is)});var n=s.next;(s.f&Cs)!==0?s.parent=null:tt(s,t),s=n}}function ta(e){for(var t=e.first;t!==null;){var s=t.next;(t.f&yt)===0&&tt(t),t=s}}function tt(e,t=!0){var s=!1;(t||(e.f&ti)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(sa(e.nodes.start,e.nodes.end),s=!0),qi(e,t&&!s),Mn(e,0),Me(e,rs);var n=e.nodes&&e.nodes.t;if(n!==null)for(const r of n)r.stop();$i(e);var i=e.parent;i!==null&&i.first!==null&&Pi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function sa(e,t){for(;e!==null;){var s=e===t?null:mn(e);e.remove(),e=s}}function Pi(e){var t=e.parent,s=e.prev,n=e.next;s!==null&&(s.next=n),n!==null&&(n.prev=s),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=s))}function bs(e,t,s=!0){var n=[];Mi(e,n,!0);var i=()=>{s&&tt(e),t&&t()},r=n.length;if(r>0){var a=()=>--r||i();for(var c of n)c.out(a)}else i()}function Mi(e,t,s){if((e.f&it)===0){e.f^=it;var n=e.nodes&&e.nodes.t;if(n!==null)for(const c of n)(c.is_global||s)&&t.push(c);for(var i=e.first;i!==null;){var r=i.next,a=(i.f&us)!==0||(i.f&yt)!==0&&(e.f&Wt)!==0;Mi(i,t,a?s:!1),i=r}}}function wr(e){Ii(e,!0)}function Ii(e,t){if((e.f&it)!==0){e.f^=it,(e.f&Re)===0&&(Me(e,Ve),mt(e));for(var s=e.first;s!==null;){var n=s.next,i=(s.f&us)!==0||(s.f&yt)!==0;Ii(s,i?t:!1),s=n}var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||t)&&a.in()}}function Ai(e,t){if(e.nodes)for(var s=e.nodes.start,n=e.nodes.end;s!==null;){var i=s===n?null:mn(s);t.append(s),s=i}}let Tn=!1,zs=!1;function Ir(e){zs=e}let le=null,_t=!1;function dt(e){le=e}let xe=null;function At(e){xe=e}let vt=null;function Di(e){le!==null&&(vt===null?vt=[e]:vt.push(e))}let Ze=null,st=0,lt=null;function na(e){lt=e}let Ri=1,hs=0,ks=hs;function Ar(e){ks=e}function Bi(){return++Ri}function wn(e){var t=e.f;if((t&Ve)!==0)return!0;if(t&Ue&&(e.f&=~xs),(t&wt)!==0){for(var s=e.deps,n=s.length,i=0;i<n;i++){var r=s[i];if(wn(r)&&wi(r),r.wv>e.wv)return!0}(t&ut)!==0&&Ne===null&&Me(e,Re)}return!1}function Li(e,t,s=!0){var n=e.reactions;if(n!==null&&!(vt!==null&&Vs.call(vt,e)))for(var i=0;i<n.length;i++){var r=n[i];(r.f&Ue)!==0?Li(r,t,!1):t===r&&(s?Me(r,Ve):(r.f&Re)!==0&&Me(r,wt),mt(r))}}function Oi(e){var S;var t=Ze,s=st,n=lt,i=le,r=vt,a=Ie,c=_t,o=ks,u=e.f;Ze=null,st=0,lt=null,le=(u&(yt|Cs))===0?e:null,vt=null,Hs(e.ctx),_t=!1,ks=++hs,e.ac!==null&&(On(()=>{e.ac.abort(Is)}),e.ac=null);try{e.f|=Yn;var v=e.fn,g=v(),h=e.deps,w=se==null?void 0:se.is_fork;if(Ze!==null){var m;if(w||Mn(e,st),h!==null&&st>0)for(h.length=st+Ze.length,m=0;m<Ze.length;m++)h[st+m]=Ze[m];else e.deps=h=Ze;if(mr()&&(e.f&ut)!==0)for(m=st;m<h.length;m++)((S=h[m]).reactions??(S.reactions=[])).push(e)}else!w&&h!==null&&st<h.length&&(Mn(e,st),h.length=st);if(gn()&&lt!==null&&!_t&&h!==null&&(e.f&(Ue|wt|Ve))===0)for(m=0;m<lt.length;m++)Li(lt[m],e);if(i!==null&&i!==e){if(hs++,i.deps!==null)for(let b=0;b<s;b+=1)i.deps[b].rv=hs;if(t!==null)for(const b of t)b.rv=hs;lt!==null&&(n===null?n=lt:n.push(...lt))}return(e.f&is)!==0&&(e.f^=is),g}catch(b){return ci(b)}finally{e.f^=Yn,Ze=t,st=s,lt=n,le=i,vt=r,Hs(a),_t=c,ks=o}}function ra(e,t){let s=t.reactions;if(s!==null){var n=al.call(s,e);if(n!==-1){var i=s.length-1;i===0?s=t.reactions=null:(s[n]=s[i],s.pop())}}if(s===null&&(t.f&Ue)!==0&&(Ze===null||!Vs.call(Ze,t))){var r=t;(r.f&ut)!==0&&(r.f^=ut,r.f&=~xs),hr(r),_i(r),Mn(r,0)}}function Mn(e,t){var s=e.deps;if(s!==null)for(var n=t;n<s.length;n++)ra(e,s[n])}function an(e){var t=e.f;if((t&rs)===0){Me(e,Re);var s=xe,n=Tn;xe=e,Tn=!0;try{(t&(Wt|ei))!==0?ta(e):qi(e),$i(e);var i=Oi(e);e.teardown=typeof i=="function"?i:null,e.wv=Ri;var r;Jn&&$l&&(e.f&Ve)!==0&&e.deps}finally{Tn=n,xe=s}}}async function ia(){await Promise.resolve(),Il()}function l(e){var t=e.f,s=(t&Ue)!==0;if(le!==null&&!_t){var n=xe!==null&&(xe.f&rs)!==0;if(!n&&(vt===null||!Vs.call(vt,e))){var i=le.deps;if((le.f&Yn)!==0)e.rv<hs&&(e.rv=hs,Ze===null&&i!==null&&i[st]===e?st++:Ze===null?Ze=[e]:Ze.push(e));else{(le.deps??(le.deps=[])).push(e);var r=e.reactions;r===null?e.reactions=[le]:Vs.call(r,le)||r.push(le)}}}if(zs&&as.has(e))return as.get(e);if(s){var a=e;if(zs){var c=a.v;return((a.f&Re)===0&&a.reactions!==null||Ni(a))&&(c=pr(a)),as.set(a,c),c}var o=(a.f&ut)===0&&!_t&&le!==null&&(Tn||(le.f&ut)!==0),u=a.deps===null;wn(a)&&(o&&(a.f|=ut),wi(a)),o&&!u&&Fi(a)}if(Ne!=null&&Ne.has(e))return Ne.get(e);if((e.f&is)!==0)throw e.v;return e.v}function Fi(e){if(e.deps!==null){e.f|=ut;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&Ue)!==0&&(t.f&ut)===0&&Fi(t)}}function Ni(e){if(e.v===Oe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(as.has(t)||(t.f&Ue)!==0&&Ni(t))return!0;return!1}function Es(e){var t=_t;try{return _t=!0,e()}finally{_t=t}}function la(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(As in e)rr(e);else if(!Array.isArray(e))for(let t in e){const s=e[t];typeof s=="object"&&s&&As in s&&rr(s)}}}function rr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{rr(e[n],t)}catch{}const s=ur(e);if(s!==Object.prototype&&s!==Array.prototype&&s!==Map.prototype&&s!==Set.prototype&&s!==Date.prototype){const n=Xr(s);for(let i in n){const r=n[i].get;if(r)try{r.call(e)}catch{}}}}}const aa=["touchstart","touchmove"];function oa(e){return aa.includes(e)}const Ui=new Set,ir=new Set;function ca(e,t,s,n={}){function i(r){if(n.capture||tn.call(t,r),!r.cancelBubble)return On(()=>s==null?void 0:s.call(this,r))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Gt(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function Mt(e,t,s,n,i){var r={capture:n,passive:i},a=ca(e,t,s,r);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&_r(()=>{t.removeEventListener(e,a,r)})}function Jt(e){for(var t=0;t<e.length;t++)Ui.add(e[t]);for(var s of ir)s(e)}let Dr=null;function tn(e){var b;var t=this,s=t.ownerDocument,n=e.type,i=((b=e.composedPath)==null?void 0:b.call(e))||[],r=i[0]||e.target;Dr=e;var a=0,c=Dr===e&&e.__root;if(c){var o=i.indexOf(c);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;o<=u&&(a=o)}if(r=i[a]||e.target,r!==t){Kr(e,"currentTarget",{configurable:!0,get(){return r||s}});var v=le,g=xe;dt(null),At(null);try{for(var h,w=[];r!==null;){var m=r.assignedSlot||r.parentNode||r.host||null;try{var S=r["__"+n];S!=null&&(!r.disabled||e.target===r)&&S.call(r,e)}catch(k){h?w.push(k):h=k}if(e.cancelBubble||m===t||m===null)break;r=m}if(h){for(let k of w)queueMicrotask(()=>{throw k});throw h}}finally{e.__root=t,delete e.currentTarget,dt(v),At(g)}}}function Vi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function on(e,t){var s=xe;s.nodes===null&&(s.nodes={start:e,end:t,a:null,t:null})}function x(e,t){var s=(t&ri)!==0,n=(t&Cl)!==0,i,r=!e.startsWith("<!>");return()=>{i===void 0&&(i=Vi(r?e:"<!>"+e),s||(i=Ut(i)));var a=n||xi?document.importNode(i,!0):i.cloneNode(!0);if(s){var c=Ut(a),o=a.lastChild;on(c,o)}else on(a,a);return a}}function ua(e,t,s="svg"){var n=!e.startsWith("<!>"),i=(t&ri)!==0,r=`<${s}>${n?e:"<!>"+e}</${s}>`,a;return()=>{if(!a){var c=Vi(r),o=Ut(c);if(i)for(a=document.createDocumentFragment();Ut(o);)a.appendChild(Ut(o));else a=Ut(o)}var u=a.cloneNode(!0);if(i){var v=Ut(u),g=u.lastChild;on(v,g)}else on(u,u);return u}}function Ge(e,t){return ua(e,t,"svg")}function rt(){var e=document.createDocumentFragment(),t=document.createComment(""),s=os();return e.append(t,s),on(t,s),e}function y(e,t){e!==null&&e.before(t)}function A(e,t){var s=t==null?"":typeof t=="object"?t+"":t;s!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=s,e.nodeValue=s+"")}function va(e,t){return da(e,t)}const Ps=new Map;function da(e,{target:t,anchor:s,props:n={},events:i,context:r,intro:a=!0}){Wl();var c=new Set,o=g=>{for(var h=0;h<g.length;h++){var w=g[h];if(!c.has(w)){c.add(w);var m=oa(w);t.addEventListener(w,tn,{passive:m});var S=Ps.get(w);S===void 0?(document.addEventListener(w,tn,{passive:m}),Ps.set(w,1)):Ps.set(w,S+1)}}};o(Rn(Ui)),ir.add(o);var u=void 0,v=Xl(()=>{var g=s??t.appendChild(os());return Bl(g,{pending:()=>{}},h=>{ft({});var w=Ie;r&&(w.c=r),i&&(n.$$events=i),u=e(h,n)||{},ht()}),()=>{var m;for(var h of c){t.removeEventListener(h,tn);var w=Ps.get(h);--w===0?(document.removeEventListener(h,tn),Ps.delete(h)):Ps.set(h,w)}ir.delete(o),g!==s&&((m=g.parentNode)==null||m.removeChild(g))}});return fa.set(u,v),u}let fa=new WeakMap;var gt,qt,nt,ys,dn,fn,Dn;class yr{constructor(t,s=!0){Ct(this,"anchor");te(this,gt,new Map);te(this,qt,new Map);te(this,nt,new Map);te(this,ys,new Set);te(this,dn,!0);te(this,fn,()=>{var t=se;if(_(this,gt).has(t)){var s=_(this,gt).get(t),n=_(this,qt).get(s);if(n)wr(n),_(this,ys).delete(s);else{var i=_(this,nt).get(s);i&&(_(this,qt).set(s,i.effect),_(this,nt).delete(s),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),n=i.effect)}for(const[r,a]of _(this,gt)){if(_(this,gt).delete(r),r===t)break;const c=_(this,nt).get(a);c&&(tt(c.effect),_(this,nt).delete(a))}for(const[r,a]of _(this,qt)){if(r===s||_(this,ys).has(r))continue;const c=()=>{if(Array.from(_(this,gt).values()).includes(r)){var u=document.createDocumentFragment();Ai(a,u),u.append(os()),_(this,nt).set(r,{effect:a,fragment:u})}else tt(a);_(this,ys).delete(r),_(this,qt).delete(r)};_(this,dn)||!n?(_(this,ys).add(r),bs(a,c,!1)):c()}}});te(this,Dn,t=>{_(this,gt).delete(t);const s=Array.from(_(this,gt).values());for(const[n,i]of _(this,nt))s.includes(n)||(tt(i.effect),_(this,nt).delete(n))});this.anchor=t,ee(this,dn,s)}ensure(t,s){var n=se,i=ji();if(s&&!_(this,qt).has(t)&&!_(this,nt).has(t))if(i){var r=document.createDocumentFragment(),a=os();r.append(a),_(this,nt).set(t,{effect:ct(()=>s(a)),fragment:r})}else _(this,qt).set(t,ct(()=>s(this.anchor)));if(_(this,gt).set(n,t),i){for(const[c,o]of _(this,qt))c===t?n.unskip_effect(o):n.skip_effect(o);for(const[c,o]of _(this,nt))c===t?n.unskip_effect(o.effect):n.skip_effect(o.effect);n.oncommit(_(this,fn)),n.ondiscard(_(this,Dn))}else _(this,fn).call(this)}}gt=new WeakMap,qt=new WeakMap,nt=new WeakMap,ys=new WeakMap,dn=new WeakMap,fn=new WeakMap,Dn=new WeakMap;function D(e,t,s=!1){var n=new yr(e),i=s?us:0;function r(a,c){n.ensure(a,c)}_n(()=>{var a=!1;t((c,o=!0)=>{a=!0,r(o,c)}),a||r(!1,null)},i)}function We(e,t){return t}function ha(e,t,s){for(var n=[],i=t.length,r,a=t.length,c=0;c<i;c++){let g=t[c];bs(g,()=>{if(r){if(r.pending.delete(g),r.done.add(g),r.pending.size===0){var h=e.outrogroups;lr(Rn(r.done)),h.delete(r),h.size===0&&(e.outrogroups=null)}}else a-=1},!1)}if(a===0){var o=n.length===0&&s!==null;if(o){var u=s,v=u.parentNode;Jl(v),v.append(u),e.items.clear()}lr(t,!o)}else r={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(r)}function lr(e,t=!0){for(var s=0;s<e.length;s++)tt(e[s],t)}var Rr;function Fe(e,t,s,n,i,r=null){var a=e,c=new Map,o=(t&ni)!==0;if(o){var u=e;a=u.appendChild(os())}var v=null,g=mi(()=>{var k=s();return Qr(k)?k:k==null?[]:Rn(k)}),h,w=!0;function m(){b.fallback=v,pa(b,h,a,t,n),v!==null&&(h.length===0?(v.f&Ht)===0?wr(v):(v.f^=Ht,sn(v,null,a)):bs(v,()=>{v=null}))}var S=_n(()=>{h=l(g);for(var k=h.length,R=new Set,J=se,ne=ji(),X=0;X<k;X+=1){var fe=h[X],ze=n(fe,X),be=w?null:c.get(ze);be?(be.v&&Ws(be.v,fe),be.i&&Ws(be.i,X),ne&&J.unskip_effect(be.e)):(be=ga(c,w?a:Rr??(Rr=os()),fe,ze,X,i,t,s),w||(be.e.f|=Ht),c.set(ze,be)),R.add(ze)}if(k===0&&r&&!v&&(w?v=ct(()=>r(a)):(v=ct(()=>r(Rr??(Rr=os()))),v.f|=Ht)),k>R.size&&hl(),!w)if(ne){for(const[he,Ae]of c)R.has(he)||J.skip_effect(Ae.e);J.oncommit(m),J.ondiscard(()=>{})}else m();l(g)}),b={effect:S,items:c,outrogroups:null,fallback:v};w=!1}function Xs(e){for(;e!==null&&(e.f&yt)===0;)e=e.next;return e}function pa(e,t,s,n,i){var Ae,Je,Le,G,N,ae,U,F,oe;var r=(n&zl)!==0,a=t.length,c=e.items,o=Xs(e.effect.first),u,v=null,g,h=[],w=[],m,S,b,k;if(r)for(k=0;k<a;k+=1)m=t[k],S=i(m,k),b=c.get(S).e,(b.f&Ht)===0&&((Je=(Ae=b.nodes)==null?void 0:Ae.a)==null||Je.measure(),(g??(g=new Set)).add(b));for(k=0;k<a;k+=1){if(m=t[k],S=i(m,k),b=c.get(S).e,e.outrogroups!==null)for(const T of e.outrogroups)T.pending.delete(b),T.done.delete(b);if((b.f&Ht)!==0)if(b.f^=Ht,b===o)sn(b,null,s);else{var R=v?v.next:o;b===e.effect.last&&(e.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),Zt(e,v,b),Zt(e,b,R),sn(b,R,s),v=b,h=[],w=[],o=Xs(v.next);continue}if((b.f&it)!==0&&(wr(b),r&&((G=(Le=b.nodes)==null?void 0:Le.a)==null||G.unfix(),(g??(g=new Set)).delete(b))),b!==o){if(u!==void 0&&u.has(b)){if(h.length<w.length){var J=w[0],ne;v=J.prev;var X=h[0],fe=h[h.length-1];for(ne=0;ne<h.length;ne+=1)sn(h[ne],J,s);for(ne=0;ne<w.length;ne+=1)u.delete(w[ne]);Zt(e,X.prev,fe.next),Zt(e,v,X),Zt(e,fe,J),o=J,v=fe,k-=1,h=[],w=[]}else u.delete(b),sn(b,o,s),Zt(e,b.prev,b.next),Zt(e,b,v===null?e.effect.first:v.next),Zt(e,v,b),v=b;continue}for(h=[],w=[];o!==null&&o!==b;)(u??(u=new Set)).add(o),w.push(o),o=Xs(o.next);if(o===null)continue}(b.f&Ht)===0&&h.push(b),v=b,o=Xs(b.next)}if(e.outrogroups!==null){for(const T of e.outrogroups)T.pending.size===0&&(lr(Rn(T.done)),(N=e.outrogroups)==null||N.delete(T));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||u!==void 0){var ze=[];if(u!==void 0)for(b of u)(b.f&it)===0&&ze.push(b);for(;o!==null;)(o.f&it)===0&&o!==e.fallback&&ze.push(o),o=Xs(o.next);var be=ze.length;if(be>0){var he=(n&ni)!==0&&a===0?s:null;if(r){for(k=0;k<be;k+=1)(U=(ae=ze[k].nodes)==null?void 0:ae.a)==null||U.measure();for(k=0;k<be;k+=1)(oe=(F=ze[k].nodes)==null?void 0:F.a)==null||oe.fix()}ha(e,ze,he)}}r&&Gt(()=>{var T,V;if(g!==void 0)for(b of g)(V=(T=b.nodes)==null?void 0:T.a)==null||V.apply()})}function ga(e,t,s,n,i,r,a,c){var o=(a&xl)!==0?(a&jl)===0?bi(s,!1,!1):Ss(s):null,u=(a&Sl)!==0?Ss(i):null;return{v:o,i:u,e:ct(()=>(r(t,o??s,u??i,c),()=>{e.delete(n)}))}}function sn(e,t,s){if(e.nodes)for(var n=e.nodes.start,i=e.nodes.end,r=t&&(t.f&Ht)===0?t.nodes.start:s;n!==null;){var a=mn(n);if(r.before(n),n===i)return;n=a}}function Zt(e,t,s){t===null?e.effect.first=s:t.next=s,s===null?e.effect.last=t:s.prev=t}function Hi(e,t,...s){var n=new yr(e);_n(()=>{const i=t()??null;n.ensure(i,i&&(r=>i(r,...s)))},us)}function ma(e,t,s){var n=new yr(e);_n(()=>{var i=t()??null;n.ensure(i,i&&(r=>s(r,i)))},us)}const Br=[...` 	
\r\fÂ \v\uFEFF`];function _a(e,t,s){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),s){for(var i in s)if(s[i])n=n?n+" "+i:i;else if(n.length)for(var r=i.length,a=0;(a=n.indexOf(i,a))>=0;){var c=a+r;(a===0||Br.includes(n[a-1]))&&(c===n.length||Br.includes(n[c]))?n=(a===0?"":n.substring(0,a))+n.substring(c+1):a=c}}return n===""?null:n}function wa(e,t){return e==null?null:String(e)}function de(e,t,s,n,i,r){var a=e.__className;if(a!==s||a===void 0){var c=_a(s,n,r);c==null?e.removeAttribute("class"):e.className=c,e.__className=s}else if(r&&i!==r)for(var o in r){var u=!!r[o];(i==null||u!==!!i[o])&&e.classList.toggle(o,u)}return r}function yn(e,t,s,n){var i=e.__style;if(i!==t){var r=wa(t);r==null?e.removeAttribute("style"):e.style.cssText=r,e.__style=t}return n}const ya=Symbol("is custom element"),ba=Symbol("is html");function ka(e,t){var s=Gi(e);s.value===(s.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function cs(e,t,s,n){var i=Gi(e);i[t]!==(i[t]=s)&&(t==="loading"&&(e[vl]=s),s==null?e.removeAttribute(t):typeof s!="string"&&xa(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function Gi(e){return e.__attributes??(e.__attributes={[ya]:e.nodeName.includes("-"),[ba]:e.namespaceURI===El})}var Lr=new Map;function xa(e){var t=e.getAttribute("is")||e.nodeName,s=Lr.get(t);if(s)return s;Lr.set(t,s=[]);for(var n,i=e,r=Element.prototype;r!==i;){n=Xr(i);for(var a in n)n[a].set&&s.push(a);i=ur(i)}return s}function Or(e,t,s=t){var n=new WeakSet;Ci(e,"input",async i=>{var r=i?e.defaultValue:e.value;if(r=Vn(e)?Hn(r):r,s(r),se!==null&&n.add(se),await ia(),r!==(r=t())){var a=e.selectionStart,c=e.selectionEnd,o=e.value.length;if(e.value=r??"",c!==null){var u=e.value.length;a===c&&c===o&&u>o?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=a,e.selectionEnd=Math.min(c,u))}}}),Es(t)==null&&e.value&&(s(Vn(e)?Hn(e.value):e.value),se!==null&&n.add(se)),Fn(()=>{var i=t();if(e===document.activeElement){var r=Qn??se;if(n.has(r))return}Vn(e)&&i===Hn(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Wi(e,t,s=t){Ci(e,"change",n=>{var i=n?e.defaultChecked:e.checked;s(i)}),Es(t)==null&&s(e.checked),Fn(()=>{var n=t();e.checked=!!n})}function Vn(e){var t=e.type;return t==="number"||t==="range"}function Hn(e){return e===""?null:+e}function Fr(e,t){return e===t||(e==null?void 0:e[As])===t}function bn(e={},t,s,n){return Zl(()=>{var i,r;return Fn(()=>{i=r,r=[],Es(()=>{e!==s(...r)&&(t(e,...r),i&&Fr(s(...i),e)&&t(null,...i))})}),()=>{Gt(()=>{r&&Fr(s(...r),e)&&t(null,...r)})}}),e}function Sa(e=!1){const t=Ie,s=t.l.u;if(!s)return;let n=()=>la(t.s);if(e){let i=0,r={};const a=Ln(()=>{let c=!1;const o=t.s;for(const u in o)o[u]!==r[u]&&(r[u]=o[u],c=!0);return c&&i++,i});n=()=>l(a)}s.b.length&&Kl(()=>{Nr(t,n),qn(s.b)}),Js(()=>{const i=Es(()=>s.m.map(ul));return()=>{for(const r of i)typeof r=="function"&&r()}}),s.a.length&&Js(()=>{Nr(t,n),qn(s.a)})}function Nr(e,t){if(e.l.s)for(const s of e.l.s)l(s);t()}function br(e,t,s){if(e==null)return t(void 0),s&&s(void 0),ns;const n=Es(()=>e.subscribe(t,s));return n.unsubscribe?()=>n.unsubscribe():n}const Ms=[];function za(e,t){return{subscribe:Qs(e,t).subscribe}}function Qs(e,t=ns){let s=null;const n=new Set;function i(c){if(li(e,c)&&(e=c,s)){const o=!Ms.length;for(const u of n)u[1](),Ms.push(u,e);if(o){for(let u=0;u<Ms.length;u+=2)Ms[u][0](Ms[u+1]);Ms.length=0}}}function r(c){i(c(e))}function a(c,o=ns){const u=[c,o];return n.add(u),n.size===1&&(s=t(i,r)||ns),c(e),()=>{n.delete(u),n.size===0&&s&&(s(),s=null)}}return{set:i,update:r,subscribe:a}}function kr(e,t,s){const n=!Array.isArray(e),i=n?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return za(s,(a,c)=>{let o=!1;const u=[];let v=0,g=ns;const h=()=>{if(v)return;g();const m=t(n?u[0]:u,a,c);r?a(m):g=typeof m=="function"?m:ns},w=i.map((m,S)=>br(m,b=>{u[S]=b,v&=~(1<<S),o&&h()},()=>{v|=1<<S}));return o=!0,h(),function(){qn(w),g(),o=!1}})}function js(e){let t;return br(e,s=>t=s)(),t}let ar=Symbol();function Dt(e,t,s){const n=s[t]??(s[t]={store:null,source:bi(void 0),unsubscribe:ns});if(n.store!==e&&!(ar in s))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=ns;else{var i=!0;n.unsubscribe=br(e,r=>{i?n.source.v=r:f(n.source,r)}),i=!1}return e&&ar in s?js(e):l(n.source)}function Yt(){const e={};function t(){_r(()=>{for(var s in e)e[s].unsubscribe();Kr(e,ar,{enumerable:!1,value:!0})})}return[e,t]}function or(e,t,s,n){var i=n,r=!0,a=()=>(r&&(r=!1,i=n),i),c;c=e[t],c===void 0&&n!==void 0&&(c=a());var o;return o=()=>{var u=e[t];return u===void 0?a():(r=!0,u)},o}function xr(e){Ie===null&&dl(),pn&&Ie.l!==null?ja(Ie).m.push(e):Js(()=>{const t=Es(e);if(typeof t=="function")return t})}function ja(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ca="5";var Yr;typeof window<"u"&&((Yr=window.__svelte??(window.__svelte={})).v??(Yr.v=new Set)).add(Ca);const Sr=Qs(window.location.hash.slice(1)||"/");window.addEventListener("hashchange",()=>{Sr.set(window.location.hash.slice(1)||"/")});const zr=kr(Sr,e=>e.split("?")[0]||"/"),Ea=kr(Sr,e=>{const t=e.indexOf("?");return t>=0?e.slice(t+1):""}),Ta=kr(Ea,e=>Object.fromEntries(new URLSearchParams(e)));function $a(e){window.location.hash="#"+e}ql();let qa=0;function Pa(){const{subscribe:e,update:t}=Qs([]);return{subscribe:e,add(s,n="info",i=3e3){const r={id:qa++,message:s,type:n};t(a=>[...a,r]),setTimeout(()=>{t(a=>a.filter(c=>c.id!==r.id))},i)},remove(s){t(n=>n.filter(i=>i.id!==s))}}}const Ji=Pa();function ge(e,t,s){Ji.add(e,t,s)}var Ma=x('<div role="alert"> </div>');function Ia(e,t){let s=or(t,"type",3,"info");var n=Ma(),i=d(n);H(()=>{de(n,1,`toast ${s()??""}`,"svelte-1i7wnxu"),A(i,t.message)}),y(e,n)}var Aa=x('<div class="toast-container svelte-3knp8x"></div>');function Da(e){const t=()=>Dt(Ji,"$toasts",s),[s,n]=Yt();var i=Aa();Fe(i,5,t,r=>r.id,(r,a)=>{Ia(r,{get message(){return l(a).message},get type(){return l(a).type}})}),y(e,i),n()}function $e(){const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"http://localhost:3001":"https://yoink.coah80.com"}function Yi(e,{onMessage:t,onError:s,maxReconnectAttempts:n=10}){let i=0,r=null,a=!1;function c(){a||(r=new EventSource(`${$e()}/api/progress/${e}`),r.onmessage=u=>{try{const v=JSON.parse(u.data);i=0,t(v),(v.stage==="complete"||v.stage==="error"||v.stage==="cancelled")&&o()}catch(v){console.error("SSE parse error:",v)}},r.onerror=()=>{if(r.close(),!a)if(i<n){i++;const u=Math.min(1e3*i,5e3);s&&s({type:"reconnecting",attempt:i,max:n}),setTimeout(c,u)}else s&&s({type:"failed",message:"Connection lost - refresh page to retry"})})}function o(){a=!0,r&&(r.close(),r=null)}return c(),{close:o}}const cn=[],Ra=5;function Ur(e){e.parentNode&&e.parentNode.removeChild(e);const t=cn.indexOf(e);t>-1&&cn.splice(t,1)}function Ba(){for(;cn.length>Ra;){const e=cn.shift();e&&e.parentNode&&e.parentNode.removeChild(e)}}function La(e){const t=document.createElement("iframe");t.style.display="none",t.src=e,document.body.appendChild(t),cn.push(t),Ba(),t.onload=()=>setTimeout(()=>Ur(t),5e3),setTimeout(()=>Ur(t),120*1e3)}function Qi(e,t){const s=URL.createObjectURL(e),n=document.createElement("a");n.href=s,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s)}const In=Qs(sessionStorage.getItem("yoink_clientId")||null),Ds=new Set;let Oa=0,It=null,Zs=0;const Fa=3;async function Na(){let e=js(In);if(!e){try{e=(await(await fetch(`${$e()}/api/connect`,{method:"POST"})).json()).clientId}catch{e="local-"+Date.now()+"-"+Math.random().toString(36).slice(2,11)}sessionStorage.setItem("yoink_clientId",e),In.set(e)}return e}function jr(){const e=`job-${++Oa}-${Date.now()}`,t=Ds.size===0;if(Ds.add(e),t&&!It){Zs=0;const s=js(In);s&&!s.startsWith("local-")&&fetch(`${$e()}/api/heartbeat/${s}`,{method:"POST"}).catch(()=>{}),It=setInterval(async()=>{const n=js(In);if(!(!n||n.startsWith("local-")))try{await fetch(`${$e()}/api/heartbeat/${n}`,{method:"POST"}),Zs=0}catch{Zs++,Zs>=Fa&&(clearInterval(It),It=null,Zs=0)}},15e3)}return e}function Pt(e){e?Ds.delete(e):Ds.clear(),Ds.size===0&&It&&(clearInterval(It),It=null)}typeof window<"u"&&window.addEventListener("beforeunload",()=>{It&&(clearInterval(It),It=null),Ds.clear()});const Vr=[{text:"yoink it, go on..."},{text:"not cobalt"},{text:"im bored"},{text:"have you yoinked it today?"},{text:"download helium browser",link:"https://helium.computer/",classes:["clickable"]},{text:"dont like it? use cliply (dont)"},{text:"the biggest yt-dlp wrapper of them all"},{text:"awesome name, right?"},{text:"get yoinked!"},{text:"funny message here"},{text:"SHOUTOUT TO COAH"},{text:"new feature: yoink!"},{text:"new feature: ai download"},{text:"welcome to yoink.tools"},{text:"feelin' yoinky?"},{text:"im parched"},{text:"stay hydrated!"},{text:"computers are cool"},{text:"missing assignments?"},{text:"procrastinate with yoink"},{text:"newgrounds.com",link:"https://newgrounds.com",classes:["clickable"]},{text:"bring back flash!"},{text:"FUCK ICE"},{text:"post this one to twitter"},{text:"google i need yoinks! NOW!!!!!"},{text:"im feeling fancy today...",classes:["fancy"]},{text:"powered by yt-dlp"},{text:"hello world!"},{text:"1000+ sites!",link:"https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md",classes:["clickable"]},{text:"yes, that site works. even the one you're thinking of."}],Ua=["4tube","alphaporno","beeg","behindkink","bongacams","cam4","cammodels","camsoda","chaturbate","drtuber","empflix","eporner","erocast","eroprofile","fux","hellporno","hotmovs","iceporn","lovehomeporn","manyvids","motherless","moviefap","noodlemagazine","nuvid","peekvideos","peekvids","playvids","porn","pornbox","pornerbros","pornflip","pornhub","pornotube","pornovoisines","pornoxo","porntop","porntube","redtube","rule34video","slutload","spankbang","stripchat","sunporno","thisvid","tnaflix","tube8","txxx","xhamster","xnxx","xvideos","xxxymovies","youjizz","youporn","zenporn","xtube","erome","hentai","hclips","gotporn","fuq","ashemaletube"];function Va(e){try{const t=new URL(e).hostname.toLowerCase().replace("www.","");return Ua.some(s=>t.includes(s))}catch{return!1}}const Gn={quality:"1080p",codec:"h264",container:"mp4",audioFormat:"mp3",audioBitrate:"320",filenameStyle:"basic",playlistPreference:null,twitterGifs:!0,analytics:!0},$n=["starting","downloading","processing","remuxing","sending","zipping","playlist-info"];function Ha(){let e={...Gn};try{const r=localStorage.getItem("yoink_settings");r&&(e={...Gn,...JSON.parse(r)})}catch{}const{subscribe:t,set:s,update:n}=Qs(e);function i(r){localStorage.setItem("yoink_settings",JSON.stringify(r))}return{subscribe:t,set(r){i(r),s(r)},update(r){n(a=>{const c=r(a);return i(c),c})},setSetting(r,a){n(c=>{const o={...c,[r]:a};return i(o),o})},reset(){const r={...Gn};i(r),s(r)}}}const Vt=Ha();function Ga(){let e=[];try{const o=localStorage.getItem("yoink_queue");o&&(e=JSON.parse(o).map(u=>$n.includes(u.stage)?{...u,stage:"queued",progress:0,status:"Interrupted - tap to restart"}:u).filter(u=>u.stage!=="complete"&&u.stage!=="error"))}catch{e=[]}const{subscribe:t,set:s,update:n}=Qs(e),i=new Map,r=new Map;function a(o){localStorage.setItem("yoink_queue",JSON.stringify(o))}function c(){return js({subscribe:t})}return{subscribe:t,add(o){n(u=>{if(u.some(g=>g.id===o.id))return u;const v=[...u,o];return a(v),v})},remove(o){const u=i.get(o);u&&(u.close(),i.delete(o));const v=r.get(o);v&&(Pt(v),r.delete(o));const h=c().find(w=>w.id===o);h&&$n.includes(h.stage)&&fetch(`${$e()}/api/cancel/${o}`,{method:"POST"}).catch(()=>{}),n(w=>{const m=w.filter(S=>S.id!==o);return a(m),m})},updateItem(o,u){n(v=>{const g=v.map(h=>h.id===o?{...h,...u}:h);return a(g),g})},addLog(o,u){n(v=>{const g=v.map(h=>{if(h.id!==o)return h;const w=[...h.logs||[],{time:new Date().toLocaleTimeString(),msg:u}];return w.length>50&&w.shift(),{...h,logs:w}});return a(g),g})},clear(){c().forEach(u=>{const v=i.get(u.id);v&&v.close();const g=r.get(u.id);g&&Pt(g),$n.includes(u.stage)&&fetch(`${$e()}/api/cancel/${u.id}`,{method:"POST"}).catch(()=>{})}),i.clear(),r.clear(),s([]),a([])},startDownload(o){const u=js(Vt),v=jr();r.set(o.id,v),this.updateItem(o.id,{stage:"starting",status:"Starting download...",startTime:Date.now(),logs:[{time:new Date().toLocaleTimeString(),msg:"Starting download..."}]});const g=Yi(o.id,{onMessage:m=>{const S={stage:m.stage,status:m.message};if(m.progress!==void 0&&(S.progress=m.progress),m.speed!==void 0&&(S.speed=m.speed),m.eta!==void 0&&(S.eta=m.eta),m.totalVideos!==void 0&&(S.videoCount=m.totalVideos),m.currentVideo!==void 0&&(S.currentVideo=m.currentVideo),m.currentVideoTitle!==void 0&&(S.currentVideoTitle=m.currentVideoTitle),m.format!==void 0&&(S.formatDisplay=m.format),m.downloadedCount!==void 0&&(S.downloadedCount=m.downloadedCount),m.failedVideos&&(S.failedVideos=m.failedVideos),m.failedCount!==void 0&&(S.failedCount=m.failedCount),this.updateItem(o.id,S),m.log&&this.addLog(o.id,m.log),m.message&&this.addLog(o.id,m.message),m.stage==="complete"){S.endTime=Date.now(),this.updateItem(o.id,S),Pt(v),r.delete(o.id),i.delete(o.id);const k=c().find(X=>X.id===o.id),R=k!=null&&k.startTime?Math.floor((Date.now()-k.startTime)/1e3):0,J=R>=60?`${Math.floor(R/60)}m ${R%60}s`:`${R}s`,ne=o.format==="images"?"Gallery download complete!":o.isPlaylist?"Playlist download complete!":`Download complete! (${J})`;ge(ne,"success"),setTimeout(()=>this.remove(o.id),5e3)}else m.stage==="error"?(Pt(v),r.delete(o.id),i.delete(o.id),ge(m.message,"error")):m.stage==="cancelled"&&(Pt(v),r.delete(o.id),i.delete(o.id))},onError:m=>{m.type==="reconnecting"?this.updateItem(o.id,{status:`Reconnecting... (${m.attempt}/${m.max})`}):(this.updateItem(o.id,{stage:"error",status:m.message}),Pt(v),r.delete(o.id),i.delete(o.id))}});i.set(o.id,g);const h=new URLSearchParams({url:o.url,format:o.format,filename:o.title,quality:u.quality,container:u.container,audioFormat:u.audioFormat,audioBitrate:u.audioBitrate,progressId:o.id,twitterGifs:u.twitterGifs!==!1?"true":"false"});let w;o.format==="images"?w="/api/gallery/download":o.isPlaylist?w="/api/download-playlist":w="/api/download",La(`${$e()}${w}?${h.toString()}`)},startAllQueued(){c().filter(v=>v.stage==="queued").forEach((v,g)=>{setTimeout(()=>this.startDownload(v),g*500)})},retryDownload(o){if(!c().find(m=>m.id===o))return;const g=Date.now().toString()+Math.random().toString(36).substr(2,9);this.updateItem(o,{id:g,stage:"queued",progress:0,status:"Queued for retry",logs:[],endTime:null});const w=c().find(m=>m.id===g);w&&this.startDownload(w)},async finishPlaylistEarly(o){try{await fetch(`${$e()}/api/finish-early/${o}`,{method:"POST"})}catch{ge("Failed to finish early","error")}},toggleLogs(o){n(u=>u.map(g=>g.id===o?{...g,logsExpanded:!g.logsExpanded}:g))}}}const et=Ga();function Ki(e){if(e===0||!Number.isFinite(e)||e<0)return"0 B";const t=1024,s=["B","KB","MB","GB","TB"],n=Math.min(Math.max(Math.floor(Math.log(e)/Math.log(t)),0),s.length-1);return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+s[n]}function Hr(e){try{const t=new URL(e);if(t.hostname==="youtu.be"){const s=t.pathname.slice(1).split("?")[0],n=t.searchParams.get("list");return`https://www.youtube.com/watch?v=${s}${n?`&list=${n}`:""}`}if(t.hostname.includes("youtube.com")){if(t.pathname.startsWith("/shorts/"))return`https://www.youtube.com/watch?v=${t.pathname.replace("/shorts/","").split("?")[0]}`;if(t.searchParams.get("v")){const s=t.searchParams.get("list");return`https://www.youtube.com/watch?v=${t.searchParams.get("v")}${s?`&list=${s}`:""}`}if(t.pathname==="/playlist"&&t.searchParams.get("list"))return`https://www.youtube.com/playlist?list=${t.searchParams.get("list")}`}return e}catch{return e}}function Gr(e){try{const t=new URL(e).hostname;return t==="youtu.be"||t.includes("youtube.com")}catch{return!1}}function Wr(e){try{return new URL(e).searchParams.has("list")}catch{return!1}}function Jr(){return Date.now().toString()+Math.random().toString(36).substr(2,9)}var Wa=Ge('<polyline points="20 6 9 17 4 12"></polyline>'),Ja=Ge('<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',1),Ya=Ge('<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',1),Qa=Ge('<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',1),Ka=Ge('<path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path><path d="M9 12l2 2 4-4"></path>',1),Xa=Ge('<polygon points="5 3 19 12 5 21 5 3"></polygon>'),Za=x('<span class="queue-item-format svelte-151vo4w"> </span>'),eo=x('<span class="queue-item-timer svelte-151vo4w"> </span>'),to=x('<button class="queue-item-retry svelte-151vo4w" title="Retry"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg></button>'),so=x('<button class="queue-item-retry svelte-151vo4w" title="Start now"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></button>'),no=x('<button class="queue-item-retry svelte-151vo4w" title="Download now (skip remaining)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg></button>'),ro=x('<div class="queue-item-progress svelte-151vo4w"><div class="queue-item-progress-fill svelte-151vo4w"></div></div>'),io=x('<div class="queue-item-log svelte-151vo4w"><span class="queue-item-log-time svelte-151vo4w"> </span> </div>'),lo=x('<div class="queue-item-logs svelte-151vo4w"></div>'),ao=x('<button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-151vo4w"><polyline points="6 9 12 15 18 9"></polyline></svg> </button> <!>',1),oo=x('<div class="queue-item-failed-item svelte-151vo4w"><span class="queue-item-failed-num svelte-151vo4w"> </span> <span> </span></div>'),co=x('<div class="queue-item-failed svelte-151vo4w"><div class="queue-item-failed-header svelte-151vo4w"> </div> <!></div>'),uo=x('<div class="queue-item svelte-151vo4w"><div class="queue-item-header svelte-151vo4w"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-151vo4w"><!></svg></div> <div class="queue-item-info svelte-151vo4w"><div class="queue-item-title svelte-151vo4w"> <!> <!></div> <div> </div></div> <div class="queue-item-actions svelte-151vo4w"><!> <!> <!> <button class="queue-item-remove svelte-151vo4w" title="Remove"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div></div> <!> <!> <!></div>');function vo(e,t){ft(t,!0);let s=ye(()=>$n.includes(t.item.stage)),n=ye(()=>t.item.stage==="complete"),i=ye(()=>t.item.stage==="error"),r=ye(()=>t.item.stage==="queued"),a=ye(()=>l(s)&&t.item.progress!==void 0),c=ye(()=>l(s)?"active":l(n)?"success":l(i)?"error":""),o=ye(()=>{if(!t.item.startTime||!l(s)&&!l(n))return"";const P=l(n)&&t.item.endTime?t.item.endTime:Date.now(),z=Math.floor((P-t.item.startTime)/1e3),q=Math.floor(z/60);return q>0?`${q}m ${z%60}s`:`${z}s`}),u=ye(()=>{if(t.item.isPlaylist&&t.item.currentVideo&&t.item.videoCount)return`${t.item.currentVideo}/${t.item.videoCount} - ${t.item.currentVideoTitle||t.item.status}`;let P=t.item.status||"Waiting...";if(l(s)&&(t.item.speed||t.item.eta)){const z=[];t.item.speed&&z.push(t.item.speed),t.item.eta&&z.push(`~${t.item.eta} left`),z.length&&(P+=` Â· ${z.join(" Â· ")}`)}return P});var v=uo(),g=d(v),h=d(g);let w;var m=d(h),S=d(m);{var b=P=>{var z=Wa();y(P,z)},k=P=>{var z=rt(),q=Te(z);{var K=me=>{var W=Ja();y(me,W)},Z=me=>{var W=rt(),ce=Te(W);{var _e=ke=>{var Ee=Ya();y(ke,Ee)},Ce=ke=>{var Ee=rt(),Ye=Te(Ee);{var bt=Qe=>{var xt=Qa();y(Qe,xt)},kt=Qe=>{var xt=rt(),Lt=Te(xt);{var Ts=St=>{var vs=Ka();y(St,vs)},$s=St=>{var vs=Xa();y(St,vs)};D(Lt,St=>{l(s)?St(Ts):St($s,!1)},!0)}y(Qe,xt)};D(Ye,Qe=>{t.item.format==="audio"?Qe(bt):Qe(kt,!1)},!0)}y(ke,Ee)};D(ce,ke=>{t.item.isPlaylist?ke(_e):ke(Ce,!1)},!0)}y(me,W)};D(q,me=>{l(i)?me(K):me(Z,!1)},!0)}y(P,z)};D(S,P=>{l(n)?P(b):P(k,!1)})}var R=p(h,2),J=d(R),ne=d(J),X=p(ne);{var fe=P=>{var z=Za(),q=d(z);H(()=>A(q,t.item.formatDisplay)),y(P,z)};D(X,P=>{t.item.isPlaylist&&t.item.formatDisplay&&P(fe)})}var ze=p(X,2);{var be=P=>{var z=eo(),q=d(z);H(()=>A(q,l(o))),y(P,z)};D(ze,P=>{l(o)&&P(be)})}var he=p(J,2),Ae=d(he),Je=p(R,2),Le=d(Je);{var G=P=>{var z=to();z.__click=q=>{q.stopPropagation(),et.retryDownload(t.item.id)},y(P,z)};D(Le,P=>{l(i)&&t.item.url&&P(G)})}var N=p(Le,2);{var ae=P=>{var z=so();z.__click=q=>{q.stopPropagation(),et.startDownload(t.item)},y(P,z)};D(N,P=>{l(r)&&P(ae)})}var U=p(N,2);{var F=P=>{var z=no();z.__click=q=>{q.stopPropagation(),et.finishPlaylistEarly(t.item.id)},y(P,z)};D(U,P=>{t.item.isPlaylist&&l(s)&&t.item.currentVideo>0&&P(F)})}var oe=p(U,2);oe.__click=P=>{P.stopPropagation(),et.remove(t.item.id)};var T=p(g,2);{var V=P=>{var z=ro(),q=d(z);H(()=>yn(q,`width: ${(t.item.progress||0)??""}%`)),y(P,z)};D(T,P=>{l(a)&&P(V)})}var O=p(T,2);{var re=P=>{var z=ao(),q=Te(z);let K;q.__click=ce=>{ce.stopPropagation(),et.toggleLogs(t.item.id)};var Z=p(d(q)),me=p(q,2);{var W=ce=>{var _e=lo();Fe(_e,21,()=>t.item.logs,We,(Ce,ke)=>{var Ee=io(),Ye=d(Ee),bt=d(Ye),kt=p(Ye,1,!0);H(()=>{A(bt,l(ke).time),A(kt,l(ke).msg)}),y(Ce,Ee)}),y(ce,_e)};D(me,ce=>{t.item.logsExpanded&&ce(W)})}H(()=>{K=de(q,1,"queue-item-logs-toggle svelte-151vo4w",null,K,{expanded:t.item.logsExpanded}),A(Z,` ${t.item.logs.length??""} log entries`)}),y(P,z)};D(O,P=>{var z;(l(s)||l(n)||l(i))&&((z=t.item.logs)==null?void 0:z.length)>0&&P(re)})}var ue=p(O,2);{var ve=P=>{var z=co(),q=d(z),K=d(q),Z=p(q,2);Fe(Z,17,()=>t.item.failedVideos,We,(me,W)=>{var ce=oo(),_e=d(ce),Ce=d(_e),ke=p(_e,2),Ee=d(ke);H(()=>{A(Ce,`#${l(W).num??""}`),A(Ee,`${(l(W).title||"Video")??""} - ${(l(W).reason||"Download failed")??""}`)}),y(me,ce)}),H(()=>A(K,`failed videos (${(t.item.failedCount||t.item.failedVideos.length)??""})`)),y(P,z)};D(ue,P=>{var z;t.item.isPlaylist&&((z=t.item.failedVideos)==null?void 0:z.length)>0&&P(ve)})}H(()=>{w=de(h,1,"queue-item-icon svelte-151vo4w",null,w,{spinning:l(s)}),A(ne,`${t.item.title??""} `),de(he,1,`queue-item-status ${l(c)??""}`,"svelte-151vo4w"),A(Ae,l(u))}),y(e,v),ht()}Jt(["click"]);var fo=x('<button class="queue-clear svelte-i3r5ty">clear all</button>'),ho=x('<div class="queue-empty svelte-i3r5ty">no downloads yet</div>'),po=x('<div class="queue-dropdown-header svelte-i3r5ty"><span class="queue-dropdown-title svelte-i3r5ty">Downloads</span> <div class="queue-header-actions svelte-i3r5ty"><button class="queue-start-all svelte-i3r5ty" title="Start all queued"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-i3r5ty"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></button> <!></div></div> <div class="queue-list svelte-i3r5ty"><!></div>',1);function Xi(e,t){ft(t,!0);const s=()=>Dt(et,"$queue",n),[n,i]=Yt();let r=ye(s),a=ye(()=>l(r).length>0);var c=po(),o=Te(c),u=p(d(o),2),v=d(u);v.__click=()=>et.startAllQueued();var g=p(v,2);{var h=k=>{var R=fo();R.__click=()=>{et.clear(),ge("Queue cleared","info")},y(k,R)};D(g,k=>{l(a)&&k(h)})}var w=p(o,2),m=d(w);{var S=k=>{var R=rt(),J=Te(R);Fe(J,17,()=>l(r),ne=>ne.id,(ne,X)=>{vo(ne,{get item(){return l(X)}})}),y(k,R)},b=k=>{var R=ho();y(k,R)};D(m,k=>{l(a)?k(S):k(b,!1)})}y(e,c),ht(),i()}Jt(["click"]);var go=Ge('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" class="svelte-1xkxv2n"></path><polyline points="7 10 12 15 17 10" class="svelte-1xkxv2n"></polyline><line x1="12" y1="15" x2="12" y2="3" class="svelte-1xkxv2n"></line></svg>'),mo=Ge('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><polyline points="17 1 21 5 17 9" class="svelte-1xkxv2n"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14" class="svelte-1xkxv2n"></path><polyline points="7 23 3 19 7 15" class="svelte-1xkxv2n"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3" class="svelte-1xkxv2n"></path></svg>'),_o=Ge('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><polyline points="4 14 10 14 10 20" class="svelte-1xkxv2n"></polyline><polyline points="20 10 14 10 14 4" class="svelte-1xkxv2n"></polyline><line x1="14" y1="10" x2="21" y2="3" class="svelte-1xkxv2n"></line><line x1="3" y1="21" x2="10" y2="14" class="svelte-1xkxv2n"></line></svg>'),wo=Ge('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><circle cx="12" cy="12" r="3" class="svelte-1xkxv2n"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" class="svelte-1xkxv2n"></path></svg>'),yo=x('<a><div class="nav-icon svelte-1xkxv2n"><!></div> <span class="nav-label svelte-1xkxv2n"> </span></a>'),bo=x('<span class="nav-badge svelte-1xkxv2n"> </span>'),ko=x('<div class="queue-sheet-overlay svelte-1xkxv2n"></div> <div><div class="sheet-handle svelte-1xkxv2n"></div> <!></div>',1),xo=x('<nav class="bottom-nav svelte-1xkxv2n"><!> <button><div class="nav-icon svelte-1xkxv2n"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1xkxv2n"><line x1="8" y1="6" x2="21" y2="6" class="svelte-1xkxv2n"></line><line x1="8" y1="12" x2="21" y2="12" class="svelte-1xkxv2n"></line><line x1="8" y1="18" x2="21" y2="18" class="svelte-1xkxv2n"></line><line x1="3" y1="6" x2="3.01" y2="6" class="svelte-1xkxv2n"></line><line x1="3" y1="12" x2="3.01" y2="12" class="svelte-1xkxv2n"></line><line x1="3" y1="18" x2="3.01" y2="18" class="svelte-1xkxv2n"></line></svg> <!></div> <span class="nav-label svelte-1xkxv2n">Queue</span></button></nav> <!>',1);function So(e,t){ft(t,!0);const s=()=>Dt(et,"$queue",i),n=()=>Dt(zr,"$path",i),[i,r]=Yt();let a=I(!1),c,o=I(0),u=I(!1),v=0,g=0,h=ye(s),w=ye(()=>l(h).length),m=ye(n),S=ye(()=>l(h).filter(U=>["starting","downloading","processing","zipping","sending"].includes(U.stage)).length);function b(U){U.preventDefault(),U.stopPropagation(),f(a,!l(a)),f(o,0)}function k(){f(a,!1),f(o,0)}function R(U){const F=c;F&&(F.scrollTop>0&&U.target.closest(".queue-sheet")&&!U.target.closest(".sheet-handle")||(v=U.touches[0].clientY,g=Date.now(),f(u,!0)))}function J(U){if(!l(u))return;const F=U.touches[0].clientY-v;F>0?(f(o,F),U.preventDefault()):f(o,0)}function ne(){if(!l(u))return;f(u,!1);const U=l(o)/(Date.now()-g);l(o)>80||U>.5?k():f(o,0)}const X=[{href:"/",label:"Download",icon:"download"},{href:"/convert",label:"Convert",icon:"convert"},{href:"/compress",label:"Compress",icon:"compress"},{href:"/settings",label:"Settings",icon:"settings"}];var fe=xo();Mt("keydown",gr,U=>{U.key==="Escape"&&l(a)&&k()});var ze=Te(fe),be=d(ze);Fe(be,17,()=>X,We,(U,F)=>{var oe=yo();let T;var V=d(oe),O=d(V);{var re=z=>{var q=go();y(z,q)},ue=z=>{var q=rt(),K=Te(q);{var Z=W=>{var ce=mo();y(W,ce)},me=W=>{var ce=rt(),_e=Te(ce);{var Ce=Ee=>{var Ye=_o();y(Ee,Ye)},ke=Ee=>{var Ye=rt(),bt=Te(Ye);{var kt=Qe=>{var xt=wo();y(Qe,xt)};D(bt,Qe=>{l(F).icon==="settings"&&Qe(kt)},!0)}y(Ee,Ye)};D(_e,Ee=>{l(F).icon==="compress"?Ee(Ce):Ee(ke,!1)},!0)}y(W,ce)};D(K,W=>{l(F).icon==="convert"?W(Z):W(me,!1)},!0)}y(z,q)};D(O,z=>{l(F).icon==="download"?z(re):z(ue,!1)})}var ve=p(V,2),P=d(ve);H(()=>{T=de(oe,1,"bottom-nav-item svelte-1xkxv2n",null,T,{active:l(m)===l(F).href}),cs(oe,"href",`#${l(F).href??""}`),A(P,l(F).label)}),y(U,oe)});var he=p(be,2);let Ae;he.__click=b;var Je=d(he),Le=p(d(Je),2);{var G=U=>{var F=bo(),oe=d(F);H(()=>A(oe,l(w))),y(U,F)};D(Le,U=>{l(w)>0&&U(G)})}var N=p(ze,2);{var ae=U=>{var F=ko(),oe=Te(F);oe.__click=k;var T=p(oe,2);let V;T.__touchstart=R,T.__touchmove=J,T.__touchend=ne;var O=p(d(T),2);Xi(O,{}),bn(T,re=>c=re,()=>c),H(()=>{V=de(T,1,"queue-sheet svelte-1xkxv2n",null,V,{swiping:l(u)}),yn(T,l(o)>0?`transform: translateY(${l(o)}px)`:"")}),y(U,F)};D(N,U=>{l(a)&&U(ae)})}H(()=>Ae=de(he,1,"bottom-nav-item queue-item svelte-1xkxv2n",null,Ae,{active:l(a),"has-active":l(S)>0})),y(e,fe),ht(),r()}Jt(["click","touchstart","touchmove","touchend"]);function Zi(){return js(Vt).analytics!==!1}function el(){let e=localStorage.getItem("yoink_trackingId");return e||(e="tid-"+Date.now()+"-"+Math.random().toString(36).slice(2,18),localStorage.setItem("yoink_trackingId",e)),e}function zo(){localStorage.removeItem("yoink_trackingId"),localStorage.removeItem("yoink_last_daily_report")}async function jo(){const e=localStorage.getItem("yoink_trackingId");if(!e)return{deleted:!1};try{const s=await(await fetch(`${$e()}/api/analytics/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trackingId:e})})).json();return s.deleted&&zo(),s}catch(t){return console.error("Failed to delete analytics data:",t),{deleted:!1,error:t.message}}}async function Co(e){if(Zi())try{await fetch(`${$e()}/api/analytics/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"pageview",page:e,trackingId:el()})})}catch{}}async function Eo(){if(!Zi())return;const e=new Date().toISOString().split("T")[0];if(localStorage.getItem("yoink_last_daily_report")!==e)try{await fetch(`${$e()}/api/analytics/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"dailyUser",trackingId:el()})}),localStorage.setItem("yoink_last_daily_report",e)}catch{}}var To=x("<a><!></a>");function ss(e,t){const s=()=>Dt(zr,"$path",n),[n,i]=Yt();let r=ye(()=>s()===t.href);var a=To();let c;var o=d(a);Hi(o,()=>t.children),H(()=>{c=de(a,1,"nav-link svelte-5q5w88",null,c,{active:l(r)}),cs(a,"href",`#${t.href??""}`)}),y(e,a),i()}var $o=x('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> <span>Download</span>',1),qo=x('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg> <span>Convert</span>',1),Po=x('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg> <span>Compress</span>',1),Mo=x('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg> <span>Settings</span>',1),Io=x('<header class="svelte-4b3o1e"><div class="header-left svelte-4b3o1e"><a href="#/" class="logo-link svelte-4b3o1e"><span class="logo-text svelte-4b3o1e">yoink</span> <span class="logo-tld svelte-4b3o1e">.tools</span></a></div> <div class="header-right svelte-4b3o1e"><!> <nav class="nav-links svelte-4b3o1e"><!> <!> <!> <!></nav></div></header>');function Ao(e,t){var s=Io(),n=p(d(s),2),i=d(n);{var r=g=>{var h=rt(),w=Te(h);Hi(w,()=>t.extraContent),y(g,h)};D(i,g=>{t.extraContent&&g(r)})}var a=p(i,2),c=d(a);ss(c,{href:"/",children:(g,h)=>{var w=$o();y(g,w)}});var o=p(c,2);ss(o,{href:"/convert",children:(g,h)=>{var w=qo();y(g,w)}});var u=p(o,2);ss(u,{href:"/compress",children:(g,h)=>{var w=Po();y(g,w)}});var v=p(u,2);ss(v,{href:"/settings",children:(g,h)=>{var w=Mo();y(g,w)}}),y(e,s)}var Do=x('<footer class="svelte-ww03jg"><div class="footer-left svelte-ww03jg"><div>this is a <a href="https://github.com/yt-dlp/yt-dlp" target="_blank" rel="noopener" class="svelte-ww03jg">yt-dlp</a> wrapper</div> <div>inspired by <a href="https://cobalt.tools" target="_blank" rel="noopener" class="svelte-ww03jg">cobalt</a>, love u wukko</div> <div>youtube powered by <a href="https://patriick.dev/" target="_blank" rel="noopener" class="svelte-ww03jg">patrick</a> at <a href="https://cobalt.meowing.de" target="_blank" rel="noopener" class="svelte-ww03jg">cobalt.meowing.de</a></div> <div class="legal svelte-ww03jg">by using this site you agree to our <a href="#/privacy" class="svelte-ww03jg">privacy policy</a></div></div> <div class="footer-right svelte-ww03jg"><a href="https://github.com/coah80/yoink" target="_blank" rel="noopener" class="svelte-ww03jg">github</a> <span>Â·</span> <a href="https://coah80.com" target="_blank" rel="noopener" class="svelte-ww03jg">coah80.com</a> <span>Â·</span> <a href="#/privacy" class="svelte-ww03jg">privacy</a></div></footer>');function Ro(e){var t=Do();y(e,t)}var Bo=x('<span class="queue-badge svelte-1picwiz"> </span>'),Lo=x('<div class="queue-dropdown svelte-1picwiz"><!></div>'),Oo=x('<div class="queue-menu svelte-1picwiz"><button class="queue-toggle svelte-1picwiz"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1picwiz"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg> queue <!></button> <!></div>');function Fo(e,t){ft(t,!0);const s=()=>Dt(et,"$queue",n),[n,i]=Yt();let r=I(!1),a,c=ye(s),o=ye(()=>l(c).length);function u(k){k.stopPropagation(),f(r,!l(r))}function v(k){a&&!a.contains(k.target)&&f(r,!1)}Js(()=>(document.addEventListener("click",v),()=>document.removeEventListener("click",v)));var g=Oo(),h=d(g);h.__click=u;var w=p(d(h),2);{var m=k=>{var R=Bo(),J=d(R);H(()=>A(J,l(o))),y(k,R)};D(w,k=>{l(o)>0&&k(m)})}var S=p(h,2);{var b=k=>{var R=Lo(),J=d(R);Xi(J,{}),y(k,R)};D(S,k=>{l(r)&&k(b)})}bn(g,k=>a=k,()=>a),y(e,g),ht(),i()}Jt(["click"]);var No=x('<div class="spinner svelte-1ea6fjo" role="status" aria-label="Loading"></div>');function tl(e){var t=No();y(e,t)}var Uo=x("<p> </p>"),Vo=x('<button class="clear-btn svelte-et6md" type="button" title="Clear"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="18" y1="6" x2="6" y2="18" class="svelte-et6md"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-et6md"></line></svg></button>'),Ho=x('<button class="paste-btn svelte-et6md" type="button" title="Paste from clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" class="svelte-et6md"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" class="svelte-et6md"></path></svg></button>'),Go=Ge('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" class="svelte-et6md"></polygon></svg>'),Wo=Ge('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18" class="svelte-et6md"></rect><line x1="7" y1="2" x2="7" y2="22" class="svelte-et6md"></line><line x1="17" y1="2" x2="17" y2="22" class="svelte-et6md"></line><line x1="2" y1="12" x2="22" y2="12" class="svelte-et6md"></line><line x1="2" y1="7" x2="7" y2="7" class="svelte-et6md"></line><line x1="2" y1="17" x2="7" y2="17" class="svelte-et6md"></line><line x1="17" y1="17" x2="22" y2="17" class="svelte-et6md"></line><line x1="17" y1="7" x2="22" y2="7" class="svelte-et6md"></line></svg>'),Jo=Ge('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><path d="M9 18V5l12-2v13" class="svelte-et6md"></path><circle cx="6" cy="18" r="3" class="svelte-et6md"></circle><circle cx="18" cy="16" r="3" class="svelte-et6md"></circle></svg>'),Yo=Ge('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><rect x="3" y="3" width="18" height="18" rx="2" ry="2" class="svelte-et6md"></rect><circle cx="8.5" cy="8.5" r="1.5" class="svelte-et6md"></circle><polyline points="21 15 16 10 5 21" class="svelte-et6md"></polyline></svg>'),Qo=x('<button><!> <span class="svelte-et6md"> </span></button>'),Ko=x('<div class="yoink-dropdown svelte-et6md"><button class="yoink-dropdown-item svelte-et6md" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="12" y1="5" x2="12" y2="19" class="svelte-et6md"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-et6md"></line></svg> add to queue</button> <button class="yoink-dropdown-item svelte-et6md" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="8" y1="6" x2="21" y2="6" class="svelte-et6md"></line><line x1="8" y1="12" x2="21" y2="12" class="svelte-et6md"></line><line x1="8" y1="18" x2="21" y2="18" class="svelte-et6md"></line><line x1="3" y1="6" x2="3.01" y2="6" class="svelte-et6md"></line><line x1="3" y1="12" x2="3.01" y2="12" class="svelte-et6md"></line><line x1="3" y1="18" x2="3.01" y2="18" class="svelte-et6md"></line></svg> batch add URLs</button></div>'),Xo=x("<div><!> </div>"),Zo=x('<div class="modal-overlay svelte-et6md"><div class="modal svelte-et6md"><div class="modal-title svelte-et6md">playlist detected!</div> <div class="modal-subtitle svelte-et6md">do you want to download just this video, or the whole playlist?</div> <div class="modal-buttons svelte-et6md"><button class="modal-btn svelte-et6md"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><polygon points="5 3 19 12 5 21 5 3" class="svelte-et6md"></polygon></svg> video</button> <button class="modal-btn primary svelte-et6md"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="8" y1="6" x2="21" y2="6" class="svelte-et6md"></line><line x1="8" y1="12" x2="21" y2="12" class="svelte-et6md"></line><line x1="8" y1="18" x2="21" y2="18" class="svelte-et6md"></line><line x1="3" y1="6" x2="3.01" y2="6" class="svelte-et6md"></line><line x1="3" y1="12" x2="3.01" y2="12" class="svelte-et6md"></line><line x1="3" y1="18" x2="3.01" y2="18" class="svelte-et6md"></line></svg> playlist</button></div> <label class="modal-toggle svelte-et6md"><input type="checkbox" class="svelte-et6md"/> <span class="modal-toggle-switch svelte-et6md"></span> <span class="modal-toggle-label svelte-et6md">remember this choice</span></label> <div class="modal-hint svelte-et6md">this can be changed in <a href="#/settings" class="svelte-et6md">settings</a>!</div></div></div>'),ec=x('<div class="modal-overlay svelte-et6md"><div class="modal batch-modal svelte-et6md"><div class="modal-title svelte-et6md">batch add URLs</div> <div class="modal-subtitle svelte-et6md">paste multiple URLs, one per line</div> <textarea class="batch-textarea svelte-et6md"></textarea> <div class="batch-count svelte-et6md"><span class="svelte-et6md"> </span> URLs detected</div> <div class="modal-buttons svelte-et6md"><button class="modal-btn svelte-et6md">cancel</button> <button class="modal-btn primary svelte-et6md"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><line x1="12" y1="5" x2="12" y2="19" class="svelte-et6md"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-et6md"></line></svg> add to queue</button></div></div></div>'),tc=x('<!> <main class="svelte-et6md"><div class="branding svelte-et6md"><h1 class="svelte-et6md">yoink<span class="brand-tld svelte-et6md">.tools</span></h1> <!></div> <div class="input-container svelte-et6md"><div class="url-input-wrapper svelte-et6md"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" class="svelte-et6md"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" class="svelte-et6md"></path></svg> <input type="text" class="url-input svelte-et6md" placeholder="paste the link here..." autocomplete="off" spellcheck="false"/> <!></div> <div class="format-section svelte-et6md"><div class="segmented-control svelte-et6md"></div> <div><button class="yoink-btn svelte-et6md" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" class="svelte-et6md"></path><polyline points="7 10 12 15 17 10" class="svelte-et6md"></polyline><line x1="12" y1="15" x2="12" y2="3" class="svelte-et6md"></line></svg> </button> <button class="yoink-dropdown-toggle svelte-et6md" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-et6md"><polyline points="6 9 12 15 18 9" class="svelte-et6md"></polyline></svg></button> <!></div></div> <!></div></main> <!> <!> <!>',1);function sc(e,t){ft(t,!0);const s=()=>Dt(Vt,"$settings",n),[n,i]=Yt();let r=I(""),a=I("auto"),c=I(!1),o=I(null),u=I(""),v=I(!1),g=I(!1),h=I(!1),w=I(""),m=I(null),S=I(null),b,k=ye(()=>l(w).split(`
`).filter(j=>{const M=j.trim();if(!M)return!1;try{return new URL(M),!0}catch{return!1}}).length);const R=[{id:"auto",label:"auto",icon:"bolt"},{id:"video",label:"video",icon:"video"},{id:"audio",label:"audio",icon:"audio"},{id:"images",label:"images",icon:"image"}];function J(){f(S,Vr[Math.floor(Math.random()*Vr.length)],!0)}function ne(){var j;(j=l(S))!=null&&j.link&&window.open(l(S).link,"_blank")}function X(){const j=sessionStorage.getItem("yoink_shared_url");j&&(sessionStorage.removeItem("yoink_shared_url"),f(r,j,!0),ge("URL shared! Click yoink to download","info"))}Js(()=>{J(),X()});async function fe(){try{const j=await navigator.clipboard.readText();j&&(f(r,j.trim(),!0),b==null||b.focus())}catch{ge("Could not read clipboard","error")}}function ze(j,M){f(o,j,!0),f(u,M,!0)}function be(){f(o,null),f(u,"")}function he(){return new Promise(j=>{f(m,j,!0),f(v,!0)})}function Ae(j,M){M&&Vt.setSetting("playlistPreference",j),l(m)&&l(m)(j),f(m,null),f(v,!1)}function Je(){l(m)&&l(m)(null),f(m,null),f(v,!1)}async function Le(j,M=!1){const ie=Hr(j),we=l(a)==="auto"?"video":l(a);if(we==="images"&&Gr(ie))return ge("YouTube doesn't support image downloads","error"),null;const C=Jr(),$=s();let E=!1;if(we!=="images"&&Wr(ie))if($.playlistPreference==="video")E=!1;else if($.playlistPreference==="playlist")E=!0;else{const L=await he();if(L===null)return null;E=L==="playlist"}let Y="Loading...";try{if(we==="images"){const L=await fetch(`${$e()}/api/gallery/metadata?url=${encodeURIComponent(ie)}`),Q=L.headers.get("content-type");L.ok&&(Q!=null&&Q.includes("application/json"))?Y=(await L.json()).title||"Gallery":Y=ie.substring(0,50)}else{const L=await fetch(`${$e()}/api/metadata?url=${encodeURIComponent(ie)}&playlist=${E}`),Q=L.headers.get("content-type");if(L.ok&&(Q!=null&&Q.includes("application/json"))){const pe=await L.json();if(Y=pe.title||"Unknown",pe.usingCookies&&ge("Using intervaled requests to stay under the radar (this may be slower)","warning",5e3),pe.clipNote){const Se=pe.clipNote.toLowerCase().includes("warning")||pe.originalDuration>600;ge(pe.clipNote,Se?"warning":"info",6e3)}}else if(!L.ok&&(Q!=null&&Q.includes("application/json"))){const pe=await L.json();if(pe.clipUnsupported)return ge("Could not parse YouTube clip. Try using the full video URL instead.","error",8e3),null;throw new Error(pe.error||"Metadata fetch failed")}else Y=ie.substring(0,50)}}catch{Y=ie.substring(0,50)}const B={id:C,title:Y,url:ie,format:we,stage:M?"starting":"queued",status:M?"Initializing...":"In queue",progress:0,isPlaylist:E,formatDisplay:we==="images"?"images":we==="audio"?$.audioFormat:`${$.quality} ${$.container}`,startTime:M?Date.now():null,logs:[],logsExpanded:!1,failedVideos:[]};return et.add(B),M&&et.startDownload(B),B}async function G(){const j=l(r).trim();if(!j){ge("Please enter a URL","error");return}const M=Hr(j);try{new URL(M)}catch{ge("Please enter a valid URL","error");return}if(Va(M)&&f(S,{text:"okay dude are you just gonna download porn"},!0),l(a)==="images"&&Gr(M)){ge("YouTube doesn't support image downloads â use video or audio","error");return}f(c,!0);const ie=l(a)==="auto"?"video":l(a),we=s();let C=!1;if(ie!=="images"&&Wr(M))if(we.playlistPreference==="video")C=!1;else if(we.playlistPreference==="playlist")C=!0;else{const E=await he();if(E===null){f(c,!1);return}C=E==="playlist"}const $=Jr();try{ze("loading",ie==="images"?"Fetching gallery info...":"Fetching video info...");let E;if(ie==="images"){const Se=await fetch(`${$e()}/api/gallery/metadata?url=${encodeURIComponent(M)}`),De=Se.headers.get("content-type");if(!Se.ok){let je="Failed to fetch gallery info";if(De!=null&&De.includes("application/json"))je=(await Se.json()).error||je;else{const Pe=await Se.text();je=Pe.includes("Cloudflare")||Pe.includes("403")?"Access denied (VPN blocked?)":`Server error: ${Se.status}`}throw new Error(je)}E=await Se.json(),E.title=E.title||"Gallery"}else{const Se=await fetch(`${$e()}/api/metadata?url=${encodeURIComponent(M)}&playlist=${C}`),De=Se.headers.get("content-type");if(!Se.ok){let je="Failed to fetch metadata";if(De!=null&&De.includes("application/json")){const Pe=await Se.json();if(Pe.clipUnsupported){ze("error","Could not parse YouTube clip"),ge("Could not parse YouTube clip. Try using the full video URL instead.","error",8e3),f(c,!1);return}je=Pe.error||je}else{const Pe=await Se.text();je=`Server error ${Se.status} (likely VPN blocked)`}throw new Error(je)}E=await Se.json()}const Y=E.title,B=E.isPlaylist&&C,L=ie==="images",Q=E.videoCount||E.imageCount||0;E.usingCookies&&ge("Using intervaled requests to stay under the radar (this may be slower)","warning",5e3);const pe={id:$,title:Y,url:M,format:ie,stage:"starting",status:"Initializing...",progress:0,isPlaylist:B,isGallery:L,videoCount:Q,currentVideo:0,currentVideoTitle:"",formatDisplay:ie==="images"?"images":ie==="audio"?we.audioFormat:`${we.quality} ${we.container}`,failedVideos:[],startTime:Date.now(),logs:[],logsExpanded:!1};et.add(pe),et.startDownload(pe),f(r,""),be()}catch(E){ze("error",E.message||"Download failed"),ge(E.message||"Download failed","error")}finally{f(c,!1)}}function N(j){j.key==="Enter"&&G()}async function ae(){f(h,!1);const j=l(r).trim();if(!j){ge("Please enter a URL","error");return}try{new URL(j)}catch{ge("Please enter a valid URL","error");return}await Le(j),f(r,"")}function U(){f(h,!1),f(w,""),f(g,!0)}async function F(){const j=l(w).split(`
`).map(M=>M.trim()).filter(M=>{try{return new URL(M),!0}catch{return!1}});if(j.length===0){ge("No valid URLs found","error");return}f(g,!1),ge(`Adding ${j.length} URLs to queue...`,"info");for(const M of j)await Le(M,!1);ge(`${j.length} items added to queue`,"success")}let oe=I(!1);var T=tc();Mt("click",gr,j=>{j.target.closest(".yoink-btn-wrapper")||f(h,!1)});var V=Te(T);Ao(V,{extraContent:M=>{Fo(M,{})}});var O=p(V,2),re=d(O),ue=p(d(re),2);{var ve=j=>{var M=Uo();let ie;M.__click=ne;var we=d(M);H(C=>{ie=de(M,1,"splash svelte-et6md",null,ie,C),yn(M,l(S).link?"cursor: pointer;":""),A(we,l(S).text)},[()=>{var C,$,E;return{fancy:(C=l(S).classes)==null?void 0:C.includes("fancy"),clickable:($=l(S).classes)==null?void 0:$.includes("clickable"),rainbow:(E=l(S).classes)==null?void 0:E.includes("rainbow")}}]),y(j,M)};D(ue,j=>{l(S)&&j(ve)})}var P=p(re,2),z=d(P),q=p(d(z),2);q.__keydown=N,bn(q,j=>b=j,()=>b);var K=p(q,2);{var Z=j=>{var M=Vo();M.__click=()=>{f(r,""),b==null||b.focus()},y(j,M)},me=j=>{var M=Ho();M.__click=fe,y(j,M)};D(K,j=>{l(r)?j(Z):j(me,!1)})}var W=p(z,2),ce=d(W);Fe(ce,21,()=>R,We,(j,M)=>{var ie=Qo();let we;ie.__click=()=>f(a,l(M).id,!0);var C=d(ie);{var $=L=>{var Q=Go();y(L,Q)},E=L=>{var Q=rt(),pe=Te(Q);{var Se=je=>{var Pe=Wo();y(je,Pe)},De=je=>{var Pe=rt(),zt=Te(Pe);{var qe=Kt=>{var Xt=Jo();y(Kt,Xt)},Qt=Kt=>{var Xt=rt(),xn=Te(Xt);{var Sn=qs=>{var Ks=Yo();y(qs,Ks)};D(xn,qs=>{l(M).icon==="image"&&qs(Sn)},!0)}y(Kt,Xt)};D(zt,Kt=>{l(M).icon==="audio"?Kt(qe):Kt(Qt,!1)},!0)}y(je,Pe)};D(pe,je=>{l(M).icon==="video"?je(Se):je(De,!1)},!0)}y(L,Q)};D(C,L=>{l(M).icon==="bolt"?L($):L(E,!1)})}var Y=p(C,2),B=d(Y);H(()=>{we=de(ie,1,"segment svelte-et6md",null,we,{active:l(a)===l(M).id}),A(B,l(M).label)}),y(j,ie)});var _e=p(ce,2);let Ce;var ke=d(_e);ke.__click=G;var Ee=p(d(ke)),Ye=p(ke,2);Ye.__click=j=>{j.stopPropagation(),f(h,!l(h))};var bt=p(Ye,2);{var kt=j=>{var M=Ko(),ie=d(M);ie.__click=ae;var we=p(ie,2);we.__click=U,y(j,M)};D(bt,j=>{l(h)&&j(kt)})}var Qe=p(W,2);{var xt=j=>{var M=Xo(),ie=d(M);{var we=$=>{tl($)};D(ie,$=>{l(o)==="loading"&&$(we)})}var C=p(ie);H(()=>{de(M,1,`status ${l(o)??""}`,"svelte-et6md"),A(C,` ${l(u)??""}`)}),y(j,M)};D(Qe,j=>{l(o)&&j(xt)})}var Lt=p(O,2);Ro(Lt);var Ts=p(Lt,2);{var $s=j=>{var M=Zo();M.__click=B=>{B.target===B.currentTarget&&Je()};var ie=d(M),we=p(d(ie),4),C=d(we);C.__click=()=>Ae("video",l(oe));var $=p(C,2);$.__click=()=>Ae("playlist",l(oe));var E=p(we,2),Y=d(E);Wi(Y,()=>l(oe),B=>f(oe,B)),y(j,M)};D(Ts,j=>{l(v)&&j($s)})}var St=p(Ts,2);{var vs=j=>{var M=ec();M.__click=Q=>{Q.target===Q.currentTarget&&f(g,!1)};var ie=d(M),we=p(d(ie),4);cs(we,"placeholder",`https://youtube.com/watch?v=...
https://youtube.com/watch?v=...
https://youtube.com/watch?v=...`);var C=p(we,2),$=d(C),E=d($),Y=p(C,2),B=d(Y);B.__click=()=>f(g,!1);var L=p(B,2);L.__click=F,H(()=>A(E,l(k))),Or(we,()=>l(w),Q=>f(w,Q)),y(j,M)};D(St,j=>{l(g)&&j(vs)})}H(()=>{Ce=de(_e,1,"yoink-btn-wrapper svelte-et6md",null,Ce,{open:l(h)}),ke.disabled=l(c),A(Ee,` ${l(c)?"loading...":"yoink"}`)}),Mt("focus",q,be),Or(q,()=>l(r),j=>f(r,j)),y(e,T),ht(),i()}Jt(["click","keydown"]);var nc=x('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> <span>Download</span>',1),rc=x('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg> <span>Convert</span>',1),ic=x('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg> <span>Compress</span>',1),lc=x('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg> <span>Settings</span>',1),ac=x('<header class="svelte-67r2h0"><div class="header-center svelte-67r2h0"><a href="#/" class="logo-link svelte-67r2h0"><span class="logo-text svelte-67r2h0">yoink</span> <span class="logo-tld svelte-67r2h0">.tools</span></a></div> <nav class="header-right svelte-67r2h0"><!> <!> <!> <!></nav></header>');function kn(e){var t=ac(),s=p(d(t),2),n=d(s);ss(n,{href:"/",children:(c,o)=>{var u=nc();y(c,u)}});var i=p(n,2);ss(i,{href:"/convert",children:(c,o)=>{var u=rc();y(c,u)}});var r=p(i,2);ss(r,{href:"/compress",children:(c,o)=>{var u=ic();y(c,u)}});var a=p(r,2);ss(a,{href:"/settings",children:(c,o)=>{var u=lc();y(c,u)}}),y(e,t)}var oc=x('<footer class="svelte-1dij6pu"><a href="#/" class="svelte-1dij6pu">yoink.tools</a> - powered by <a href="https://github.com/yt-dlp/yt-dlp" target="_blank" rel="noopener" class="svelte-1dij6pu">yt-dlp</a> Â· <a href="#/privacy" class="svelte-1dij6pu">privacy</a></footer>');function Nn(e){var t=oc();y(e,t)}var cc=x("<button><span> </span></button>"),uc=x("<button> </button>"),vc=x("<button> </button>"),dc=x("<button> </button>"),fc=x(`<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">video</h2> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">video quality</div> <div class="quality-grid svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">if preferred quality isn't available, the next best option will be used. 1080p is recommended for most uses.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">preferred codec</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">h264: best compatibility, max 1080p. av1: best quality & efficiency, supports 8k & HDR. vp9: same quality as av1 but ~2x larger.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">file container</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">mp4 has the best compatibility. webm is great for web. mkv supports more features but has limited playback support.</p></div></section>`),hc=x("<button> </button>"),pc=x("<button> </button>"),gc=x('<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">audio</h2> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">audio format</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">mp3: universal compatibility. m4a: better quality at same size. opus: best compression. flac/wav: lossless quality.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">audio bitrate</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">higher bitrate = better quality but larger file size. 320kbps is CD-quality for most people.</p></div></section>'),mc=x("<button> </button>"),_c=x("<button> </button>"),wc=x('<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">downloads</h2> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">filename style</div> <div class="segmented-control svelte-1ozf5k3"></div> <div class="filename-preview svelte-1ozf5k3"><code class="svelte-1ozf5k3"> </code></div></div> <div class="settings-card svelte-1ozf5k3"><div class="toggle-row svelte-1ozf5k3"><div class="toggle-info svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">twitter/x gifs as gif</div> <p class="setting-description svelte-1ozf5k3">automatically convert twitter/x "gifs" (which are actually videos) to real gif files. turn off to keep them as mp4.</p></div> <button></button></div></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">playlist behavior</div> <div class="segmented-control svelte-1ozf5k3"></div> <p class="setting-description svelte-1ozf5k3">when a link contains a playlist, should we download just the video or the entire playlist? "ask me" will show a popup each time.</p></div></section>'),yc=x('<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">advanced</h2> <div class="settings-card svelte-1ozf5k3"><div class="toggle-row svelte-1ozf5k3"><div class="toggle-info svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">allow h265 codec</div> <p class="setting-description svelte-1ozf5k3">enables downloading h265/HEVC videos for platforms like TikTok. higher quality but may have compatibility issues with some players.</p></div> <button></button></div></div> <div class="settings-card svelte-1ozf5k3"><div class="toggle-row svelte-1ozf5k3"><div class="toggle-info svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">embed metadata</div> <p class="setting-description svelte-1ozf5k3">include title, artist, and other metadata in downloaded files.</p></div> <button></button></div></div> <div class="divider svelte-1ozf5k3"></div> <button class="reset-btn svelte-1ozf5k3">reset all settings</button></section>'),bc=x(`<section class="settings-section svelte-1ozf5k3"><h2 class="section-title svelte-1ozf5k3">privacy</h2> <div class="settings-card svelte-1ozf5k3"><div class="toggle-row svelte-1ozf5k3"><div class="toggle-info svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">allow anonymous analytics</div> <p class="setting-description svelte-1ozf5k3">help improve yoink by sharing anonymous usage stats like download format preferences. no personal data or URLs are collected.</p></div> <button></button></div></div> <div class="settings-card highlight svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">your data, your choice</div> <p class="setting-description svelte-1ozf5k3">if you turn off analytics above, <strong class="svelte-1ozf5k3">all data collected from you will be permanently deleted</strong>. no questions asked. if you don't want to be tracked, you shouldn't be - and that means wiping everything.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">what i collect</div> <p class="setting-description svelte-1ozf5k3">when enabled: which file formats are popular, how many downloads happen daily, and general country data (from IP, not stored). i do <strong class="svelte-1ozf5k3">not</strong> collect: URLs you download, video titles, your IP address, or any identifying information.</p></div> <div class="settings-card svelte-1ozf5k3"><div class="setting-label svelte-1ozf5k3">why?</div> <p class="setting-description svelte-1ozf5k3">honestly, just for fun! it's cool to see how people use the tool. if you'd rather not participate, flip the toggle above.</p> <p class="setting-description svelte-1ozf5k3"><a href="#/privacy" class="svelte-1ozf5k3">read the full privacy policy</a></p></div></section>`),kc=x('<!> <main class="svelte-1ozf5k3"><div class="page-header svelte-1ozf5k3"><h1 class="svelte-1ozf5k3">settings</h1> <p class="svelte-1ozf5k3">customize your download experience</p></div> <nav class="settings-nav svelte-1ozf5k3"></nav> <!> <!> <!> <!> <!></main> <!>',1);function xc(e,t){ft(t,!0);const s=()=>Dt(Vt,"$settings",n),[n,i]=Yt();let r=I("video"),a=ye(s);const c=[{id:"video",label:"video"},{id:"audio",label:"audio"},{id:"downloads",label:"downloads"},{id:"advanced",label:"advanced"},{id:"privacy",label:"privacy"}],o=["best","4k","1440p","1080p","720p","480p","360p"],u={best:"8k+","4k":"4k","1440p":"1440p","1080p":"1080p","720p":"720p","480p":"480p","360p":"360p"},v=[{value:"h264",label:"h264 + aac"},{value:"av1",label:"av1 + opus"},{value:"vp9",label:"vp9 + opus"}],g=[{value:"mp4",label:"mp4"},{value:"webm",label:"webm"},{value:"mkv",label:"mkv"}],h=[{value:"mp3",label:"mp3"},{value:"m4a",label:"m4a"},{value:"opus",label:"opus"},{value:"flac",label:"flac"},{value:"wav",label:"wav"}],w=[{value:"320",label:"320 kbps"},{value:"256",label:"256 kbps"},{value:"192",label:"192 kbps"},{value:"128",label:"128 kbps"}],m=[{value:"classic",label:"classic"},{value:"basic",label:"basic"},{value:"pretty",label:"pretty"},{value:"nerdy",label:"nerdy"}],S=[{value:"ask",label:"ask me"},{value:"video",label:"just video"},{value:"playlist",label:"full playlist"}];let b=ye(()=>{const T=l(a).container||"mp4",V={classic:`Video Title (${l(a).quality}).${T}`,basic:`Video Title.${T}`,pretty:`Video Title - Author (${l(a).quality}, ${l(a).codec}).${T}`,nerdy:`Video_Title_${l(a).quality}_${l(a).codec}_aac.${T}`};return V[l(a).filenameStyle]||V.basic});function k(T,V){Vt.setSetting(T,V)}function R(){confirm("Reset all settings to defaults?")&&(Vt.reset(),ge("Settings reset!","success"))}async function J(){l(a).analytics!==!1?confirm(`This will delete ALL your tracking data from the server!

When you opt out, all collected data is permanently deleted.

Are you sure?`)&&(Vt.setSetting("analytics",!1),(await jo()).deleted?ge("Analytics disabled & data deleted","success"):ge("Analytics disabled","info")):(Vt.setSetting("analytics",!0),ge("Analytics enabled - thanks!","success"))}var ne=kc(),X=Te(ne);kn(X);var fe=p(X,2),ze=p(d(fe),2);Fe(ze,21,()=>c,We,(T,V)=>{var O=cc();let re;O.__click=()=>f(r,l(V).id,!0);var ue=d(O),ve=d(ue);H(()=>{re=de(O,1,"settings-nav-item svelte-1ozf5k3",null,re,{active:l(r)===l(V).id}),A(ve,l(V).label)}),y(T,O)});var be=p(ze,2);{var he=T=>{var V=fc(),O=p(d(V),2),re=p(d(O),2);Fe(re,21,()=>o,We,(q,K)=>{var Z=uc();let me;Z.__click=()=>k("quality",l(K));var W=d(Z);H(()=>{me=de(Z,1,"quality-option svelte-1ozf5k3",null,me,{active:l(a).quality===l(K)}),A(W,u[l(K)])}),y(q,Z)});var ue=p(O,2),ve=p(d(ue),2);Fe(ve,21,()=>v,We,(q,K)=>{var Z=vc();let me;Z.__click=()=>k("codec",l(K).value);var W=d(Z);H(()=>{me=de(Z,1,"segment svelte-1ozf5k3",null,me,{active:l(a).codec===l(K).value}),A(W,l(K).label)}),y(q,Z)});var P=p(ue,2),z=p(d(P),2);Fe(z,21,()=>g,We,(q,K)=>{var Z=dc();let me;Z.__click=()=>k("container",l(K).value);var W=d(Z);H(()=>{me=de(Z,1,"segment svelte-1ozf5k3",null,me,{active:l(a).container===l(K).value}),A(W,l(K).label)}),y(q,Z)}),y(T,V)};D(be,T=>{l(r)==="video"&&T(he)})}var Ae=p(be,2);{var Je=T=>{var V=gc(),O=p(d(V),2),re=p(d(O),2);Fe(re,21,()=>h,We,(P,z)=>{var q=hc();let K;q.__click=()=>k("audioFormat",l(z).value);var Z=d(q);H(()=>{K=de(q,1,"segment svelte-1ozf5k3",null,K,{active:l(a).audioFormat===l(z).value}),A(Z,l(z).label)}),y(P,q)});var ue=p(O,2),ve=p(d(ue),2);Fe(ve,21,()=>w,We,(P,z)=>{var q=pc();let K;q.__click=()=>k("audioBitrate",l(z).value);var Z=d(q);H(()=>{K=de(q,1,"segment svelte-1ozf5k3",null,K,{active:l(a).audioBitrate===l(z).value}),A(Z,l(z).label)}),y(P,q)}),y(T,V)};D(Ae,T=>{l(r)==="audio"&&T(Je)})}var Le=p(Ae,2);{var G=T=>{var V=wc(),O=p(d(V),2),re=p(d(O),2);Fe(re,21,()=>m,We,(ce,_e)=>{var Ce=mc();let ke;Ce.__click=()=>k("filenameStyle",l(_e).value);var Ee=d(Ce);H(()=>{ke=de(Ce,1,"segment svelte-1ozf5k3",null,ke,{active:l(a).filenameStyle===l(_e).value}),A(Ee,l(_e).label)}),y(ce,Ce)});var ue=p(re,2),ve=d(ue),P=d(ve),z=p(O,2),q=d(z),K=p(d(q),2);let Z;K.__click=()=>k("twitterGifs",!(!l(a).twitterGifs||l(a).twitterGifs===void 0));var me=p(z,2),W=p(d(me),2);Fe(W,21,()=>S,We,(ce,_e)=>{var Ce=_c();let ke;Ce.__click=()=>k("playlistPreference",l(_e).value==="ask"?null:l(_e).value);var Ee=d(Ce);H(()=>{ke=de(Ce,1,"segment svelte-1ozf5k3",null,ke,{active:(l(a).playlistPreference===null?"ask":l(a).playlistPreference)===l(_e).value}),A(Ee,l(_e).label)}),y(ce,Ce)}),H(()=>{A(P,l(b)),Z=de(K,1,"toggle svelte-1ozf5k3",null,Z,{active:l(a).twitterGifs!==!1})}),y(T,V)};D(Le,T=>{l(r)==="downloads"&&T(G)})}var N=p(Le,2);{var ae=T=>{var V=yc(),O=p(d(V),2),re=d(O),ue=p(d(re),2);let ve;ue.__click=()=>k("h265",!l(a).h265);var P=p(O,2),z=d(P),q=p(d(z),2);let K;q.__click=()=>k("metadata",l(a).metadata===!1);var Z=p(P,4);Z.__click=R,H(()=>{ve=de(ue,1,"toggle svelte-1ozf5k3",null,ve,{active:l(a).h265}),K=de(q,1,"toggle svelte-1ozf5k3",null,K,{active:l(a).metadata!==!1})}),y(T,V)};D(N,T=>{l(r)==="advanced"&&T(ae)})}var U=p(N,2);{var F=T=>{var V=bc(),O=p(d(V),2),re=d(O),ue=p(d(re),2);let ve;ue.__click=J,H(()=>ve=de(ue,1,"toggle svelte-1ozf5k3",null,ve,{active:l(a).analytics!==!1})),y(T,V)};D(U,T=>{l(r)==="privacy"&&T(F)})}var oe=p(fe,2);Nn(oe),y(e,ne),ht(),i()}Jt(["click"]);var Sc=x('<span class="progress-label svelte-1untuf7"> </span>'),zc=x('<div class="progress-wrapper svelte-1untuf7"><!> <div class="progress-track svelte-1untuf7" role="progressbar"><div class="progress-fill svelte-1untuf7"></div></div></div>');function sl(e,t){let s=or(t,"percent",3,0),n=or(t,"label",3,""),i=ye(()=>Math.min(100,Math.max(0,s())));var r=zc(),a=d(r);{var c=v=>{var g=Sc(),h=d(g);H(()=>A(h,n())),y(v,g)};D(a,v=>{n()&&v(c)})}var o=p(a,2);cs(o,"aria-valuemin",0),cs(o,"aria-valuemax",100);var u=d(o);H(()=>{cs(o,"aria-valuenow",l(i)),yn(u,`width: ${l(i)??""}%`)}),y(e,r)}const Wn=50*1024*1024;async function nl(e,t){const s=$e(),n=Math.ceil(e.size/Wn),i=await fetch(`${s}/api/upload/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:e.name,fileSize:e.size,totalChunks:n})});if(!i.ok){let c="Failed to initialize upload";try{c=(await i.json()).error||c}catch{c=await i.text().catch(()=>c)}throw new Error(c)}const{uploadId:r}=await i.json();for(let c=0;c<n;c++){const o=c*Wn,u=Math.min(o+Wn,e.size),v=e.slice(o,u),g=new FormData;g.append("chunk",v);const h=await fetch(`${s}/api/upload/chunk/${r}/${c}`,{method:"POST",body:g});if(!h.ok){let m=`Failed to upload chunk ${c+1}`;try{m=(await h.json()).error||m}catch{m=await h.text().catch(()=>m)}throw new Error(m)}const w=(c+1)/n*100;t(w)}const a=await fetch(`${s}/api/upload/complete/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok){let c="Failed to complete upload";try{c=(await a.json()).error||c}catch{c=await a.text().catch(()=>c)}throw new Error(c)}return await a.json()}var jc=x('<button type="button"><svg class="drop-zone-icon svelte-17hyuhr" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg> <p class="drop-zone-text svelte-17hyuhr">drop a file here or click to browse</p> <p class="drop-zone-hint svelte-17hyuhr">supports video and audio files (max 15GB)</p> <input type="file" accept="video/*,audio/*" style="display: none;"/></button>'),Cc=Ge('<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',1),Ec=Ge('<polygon points="5 3 19 12 5 21 5 3"></polygon>'),Tc=x("<button> </button>"),$c=x('<div class="file-info svelte-17hyuhr"><div class="file-header svelte-17hyuhr"><div class="file-icon svelte-17hyuhr"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-17hyuhr"><!></svg></div> <div class="file-details svelte-17hyuhr"><div class="file-name svelte-17hyuhr"> </div> <div class="file-size svelte-17hyuhr"> </div></div> <button class="file-remove svelte-17hyuhr"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="convert-options svelte-17hyuhr"><div class="option-label svelte-17hyuhr">convert to</div> <div class="segmented-control svelte-17hyuhr"></div></div> <button class="convert-btn svelte-17hyuhr"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-17hyuhr"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg> </button></div>'),qc=x('<div class="progress-container svelte-17hyuhr"><!></div>'),Pc=x("<div> </div>"),Mc=x('<!> <main class="svelte-17hyuhr"><div class="page-header svelte-17hyuhr"><h1 class="svelte-17hyuhr">convert</h1> <p class="svelte-17hyuhr">change video and audio file formats</p></div> <div class="converter svelte-17hyuhr"><!> <!> <!></div></main> <!>',1);function Ic(e,t){ft(t,!0);let s=I(null),n=I("mp4"),i=I(!1),r=I(0),a=I(""),c=I(null),o=I(""),u=I(!1),v;const g=[{value:"mp4",label:"mp4"},{value:"webm",label:"webm"},{value:"mp3",label:"mp3"},{value:"m4a",label:"m4a"},{value:"wav",label:"wav"}];function h(G){return G.type.startsWith("audio/")||["mp3","m4a","wav","flac","ogg","opus"].some(N=>G.name.toLowerCase().endsWith("."+N))}function w(G){if(!G)return;const N=15*1024*1024*1024;if(G.size>N){f(c,"error"),f(o,"File too large. Maximum size is 15GB.");return}f(s,G,!0),f(c,null),f(o,"")}function m(){f(s,null),f(r,0),f(a,""),f(c,null),f(o,""),v&&(v.value="")}async function S(G){let N="";try{N=await(await G.blob()).text()}catch{N=await G.text().catch(()=>"")}try{return JSON.parse(N).error||`Request failed with status ${G.status}`}catch{return N||`Request failed with status ${G.status}`}}async function b(){if(!l(s)||l(i))return;f(i,!0),f(r,0),f(a,"Uploading..."),f(c,null),f(o,"");const G=l(s).size>90*1024*1024;let N=null;try{N=jr();let ae;if(G){const{filePath:T,fileName:V}=await nl(l(s),ve=>{f(r,ve,!0),f(a,"Uploading...")});f(r,0),f(a,"Converting...");const O=await fetch(`${$e()}/api/convert-chunked`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:T,fileName:V,format:l(n)})});if(!O.ok)throw new Error(await S(O));const{jobId:re}=await O.json();let ue=0;for(;;){if(ue>=300)throw new Error("Conversion timed out after 10 minutes");ue++,await new Promise(K=>setTimeout(K,2e3));const ve=new AbortController,P=setTimeout(()=>ve.abort(),1e4);let z;try{z=await fetch(`${$e()}/api/job/${re}/status`,{signal:ve.signal})}finally{clearTimeout(P)}if(!z.ok)throw z.status===404?new Error("Job not found or expired"):new Error("Failed to check job status");const q=await z.json();if(q.status==="error")throw new Error(q.error||"Conversion failed");if(f(r,q.progress||0,!0),f(a,q.message||"Processing...",!0),q.status==="complete")break}ae=await fetch(`${$e()}/api/job/${re}/download`)}else ae=await new Promise((T,V)=>{const O=new XMLHttpRequest;O.open("POST",`${$e()}/api/convert`),O.upload.onprogress=ue=>{if(ue.lengthComputable){const ve=Math.round(ue.loaded/ue.total*90);f(r,ve,!0),f(a,`Uploading... ${ve}%`)}},O.onload=()=>{f(r,95),f(a,"Processing..."),T(new Response(O.response,{status:O.status,statusText:O.statusText,headers:{"Content-Disposition":O.getResponseHeader("Content-Disposition")||""}}))},O.onerror=()=>V(new Error("Network error during upload")),O.responseType="blob";const re=new FormData;re.append("file",l(s)),re.append("format",l(n)),O.send(re)});if(!ae.ok)throw new Error(await S(ae));f(r,100),f(a,"Complete!");const U=ae.headers.get("Content-Disposition");let F=l(s).name.replace(/\.[^.]+$/,"")+"."+l(n);if(U){const T=U.match(/filename="?([^"]+)"?/);T&&(F=T[1])}const oe=await ae.blob();Qi(oe,F),f(c,"success"),f(o,"Conversion complete! Download started."),N&&Pt(N)}catch(ae){f(c,"error"),f(o,ae.message||"Conversion failed",!0),f(r,0),f(a,""),N&&Pt(N)}finally{f(i,!1)}}var k=Mc(),R=Te(k);kn(R);var J=p(R,2),ne=p(d(J),2),X=d(ne);{var fe=G=>{var N=jc();let ae;N.__click=()=>v==null?void 0:v.click();var U=p(d(N),6);U.__change=F=>{var oe;w((oe=F.target.files)==null?void 0:oe[0]),F.target.value=""},bn(U,F=>v=F,()=>v),H(()=>ae=de(N,1,"drop-zone svelte-17hyuhr",null,ae,{dragover:l(u)})),Mt("dragover",N,F=>{F.preventDefault(),f(u,!0)}),Mt("dragleave",N,F=>{F.preventDefault(),f(u,!1)}),Mt("drop",N,F=>{var oe,T;F.preventDefault(),f(u,!1),w((T=(oe=F.dataTransfer)==null?void 0:oe.files)==null?void 0:T[0])}),y(G,N)},ze=G=>{var N=$c(),ae=d(N),U=d(ae),F=d(U),oe=d(F);{var T=W=>{var ce=Cc();y(W,ce)},V=W=>{var ce=Ec();y(W,ce)};D(oe,W=>{h(l(s))?W(T):W(V,!1)})}var O=p(U,2),re=d(O),ue=d(re),ve=p(re,2),P=d(ve),z=p(O,2);z.__click=m;var q=p(ae,2),K=p(d(q),2);Fe(K,21,()=>g,We,(W,ce)=>{var _e=Tc();let Ce;_e.__click=()=>f(n,l(ce).value,!0);var ke=d(_e);H(()=>{Ce=de(_e,1,"segment svelte-17hyuhr",null,Ce,{active:l(n)===l(ce).value}),A(ke,l(ce).label)}),y(W,_e)});var Z=p(q,2);Z.__click=b;var me=p(d(Z));H(W=>{cs(re,"title",l(s).name),A(ue,l(s).name),A(P,W),Z.disabled=l(i),A(me,` ${l(i)?"converting...":"convert"}`)},[()=>Ki(l(s).size)]),y(G,N)};D(X,G=>{l(s)?G(ze,!1):G(fe)})}var be=p(X,2);{var he=G=>{var N=qc(),ae=d(N);sl(ae,{get percent(){return l(r)},get label(){return l(a)}}),y(G,N)};D(be,G=>{l(i)&&G(he)})}var Ae=p(be,2);{var Je=G=>{var N=Pc(),ae=d(N);H(()=>{de(N,1,`status ${l(c)??""}`,"svelte-17hyuhr"),A(ae,l(o))}),y(G,N)};D(Ae,G=>{l(c)&&G(Je)})}var Le=p(J,2);Nn(Le),y(e,k),ht()}Jt(["click","change"]);Jt(["click","keydown"]);var Ac=x('<button type="button"><svg class="drop-zone-icon svelte-15o2uhu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg> <p class="drop-zone-text svelte-15o2uhu">drop a video here or click to browse</p> <p class="drop-zone-hint svelte-15o2uhu">supports mp4, webm, mov, mkv, avi (max 15GB)</p> <input type="file" accept="video/*" style="display: none;"/></button>'),Dc=x('<div class="file-info svelte-15o2uhu"><div class="file-header svelte-15o2uhu"><div class="file-icon svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-15o2uhu"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg></div> <div class="file-details svelte-15o2uhu"><div class="file-name svelte-15o2uhu"> </div> <div class="file-size svelte-15o2uhu"> </div></div> <button class="file-remove svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="file-meta svelte-15o2uhu"><span> </span> <span> </span></div></div>'),Rc=x('<button><div class="size-option-value svelte-15o2uhu"> </div> <div class="size-option-label svelte-15o2uhu"> </div></button>'),Bc=x('<button><div class="size-option-value svelte-15o2uhu"> </div> <div class="size-option-label svelte-15o2uhu"> </div></button>'),Lc=x('<div class="progress-container svelte-15o2uhu"><div class="progress-header svelte-15o2uhu"><span class="progress-status svelte-15o2uhu"> </span> <span class="progress-percent svelte-15o2uhu"> </span></div> <!> <div class="progress-details svelte-15o2uhu"> </div></div>'),Oc=x('<div class="result-container svelte-15o2uhu"><div class="result-header svelte-15o2uhu"><div class="result-icon svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-15o2uhu"><polyline points="20 6 9 17 4 12"></polyline></svg></div> <div class="result-title svelte-15o2uhu">compression complete!</div></div> <div class="result-stats svelte-15o2uhu"><div class="result-stat svelte-15o2uhu"><div class="result-stat-value svelte-15o2uhu"> </div> <div class="result-stat-label svelte-15o2uhu">original</div></div> <div class="result-stat svelte-15o2uhu"><div class="result-stat-value arrow svelte-15o2uhu">-></div> <div class="result-stat-label svelte-15o2uhu"></div></div> <div class="result-stat svelte-15o2uhu"><div class="result-stat-value success svelte-15o2uhu"> </div> <div class="result-stat-label svelte-15o2uhu">compressed</div></div> <div class="result-stat svelte-15o2uhu"><div class="result-stat-value success svelte-15o2uhu"> </div> <div class="result-stat-label svelte-15o2uhu">saved</div></div></div> <button class="result-btn svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-15o2uhu"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg> compress another</button></div>'),Fc=x('<div class="quality-overlay svelte-15o2uhu"><div class="quality-modal svelte-15o2uhu"><div class="quality-modal-title svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> Quality Warning</div> <div class="quality-gauge svelte-15o2uhu"><div class="quality-gauge-bg svelte-15o2uhu"></div> <div class="quality-gauge-mask svelte-15o2uhu"></div> <div class="quality-gauge-needle svelte-15o2uhu"></div> <div class="quality-gauge-center svelte-15o2uhu"></div> <div class="quality-gauge-value svelte-15o2uhu"><span> </span> <span class="quality-gauge-unit svelte-15o2uhu">Kbps</span></div></div> <div class="quality-modal-message svelte-15o2uhu">Your video is <strong class="svelte-15o2uhu"> </strong> long. At this size, the estimated bitrate is very low and the output <strong class="svelte-15o2uhu">may look blocky or blurry</strong>. <br/><br/> For better results, try a <strong class="svelte-15o2uhu">shorter clip</strong> or a <strong class="svelte-15o2uhu">larger target size</strong>.</div> <div class="quality-modal-buttons svelte-15o2uhu"><button class="quality-modal-btn cancel svelte-15o2uhu">Cancel</button> <button class="quality-modal-btn proceed svelte-15o2uhu">Compress Anyway</button></div></div></div>'),Nc=x('<!> <main class="svelte-15o2uhu"><div class="page-header svelte-15o2uhu"><h1 class="svelte-15o2uhu">compress</h1> <p class="svelte-15o2uhu">shrink videos for discord, email, or anywhere!</p></div> <div class="compress-container svelte-15o2uhu"><!> <div class="size-section svelte-15o2uhu"><div class="size-label svelte-15o2uhu">target size</div> <div class="size-description svelte-15o2uhu">choose a size limit or enter a custom size</div> <div class="size-grid svelte-15o2uhu"></div> <div class="custom-size-row svelte-15o2uhu"><input type="number" class="custom-size-input svelte-15o2uhu" placeholder="custom" min="1" max="4096"/> <span class="custom-size-suffix svelte-15o2uhu">MB</span></div> <div class="estimate svelte-15o2uhu"><span class="estimate-label svelte-15o2uhu">estimated quality</span> <span> </span></div></div> <div class="size-section svelte-15o2uhu"><div class="size-label svelte-15o2uhu">encoding preset</div> <div class="size-description svelte-15o2uhu">quality = better compression, slower | fast = quicker encoding</div> <div class="preset-grid svelte-15o2uhu"></div> <label class="checkbox-row svelte-15o2uhu"><input type="checkbox" class="svelte-15o2uhu"/> <span class="svelte-15o2uhu">downscale for better quality (reduces blockiness)</span></label></div> <button class="compress-btn svelte-15o2uhu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-15o2uhu"><polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg> </button> <!> <!></div></main> <!> <!>',1);function Uc(e,t){ft(t,!0);let s=I(null),n=I(0),i=I(0),r=I(0),a=I(50),c=I(47),o=I(""),u=I(!1),v=I("balanced"),g=I(!1),h=I(!1),w=I(0),m=I(""),S=I(""),b=I(!1),k=I(""),R=I(""),J=I(""),ne=I(!1),X=I(!1),fe;const ze=[{size:8,actual:7.5,label:"MB free"},{size:10,actual:9.5,label:"MB"},{size:50,actual:47,label:"MB basic"},{size:100,actual:95,label:"MB"},{size:500,actual:475,label:"MB nitro"}],be=[{id:"fast",label:"fast",sublabel:"quick encode"},{id:"balanced",label:"balanced",sublabel:"recommended"},{id:"quality",label:"quality",sublabel:"best results"}];let he=ye(()=>{if(!l(s)||!l(n))return 0;const C=l(c)*1024*1024,$=128*1024,E=C-$/8*l(n);return Math.floor(E*8/l(n)/1024)}),Ae=ye(()=>!l(s)||!l(n)?"select a file to see estimate":l(s).size/(1024*1024)<=l(c)?`already under ${l(a)}MB!`:l(he)<500?`~${l(he)} kbps video - very low quality (may be blocky)`:l(he)<1e3?`~${l(he)} kbps video - low quality`:l(he)<2500?`~${l(he)} kbps video - medium quality`:l(he)<5e3?`~${l(he)} kbps video - good quality`:`~${l(he)} kbps video - excellent quality`),Je=ye(()=>l(s)&&l(n)&&l(he)<500&&l(s).size/(1024*1024)>l(c)),Le=ye(()=>-90+Math.min(l(he),2e3)/2e3*180),G=ye(()=>{if(!l(n))return"--:--";const C=Math.floor(l(n)/60),$=Math.floor(l(n)%60);return`${C}:${$.toString().padStart(2,"0")}`}),N=ye(()=>!l(i)||!l(r)?"unknown":`${l(i)}x${l(r)}`);function ae(C){return new Promise($=>{const E=document.createElement("video");E.preload="metadata",E.onloadedmetadata=()=>{URL.revokeObjectURL(E.src),$({duration:E.duration,width:E.videoWidth,height:E.videoHeight})},E.onerror=()=>{$({duration:0,width:0,height:0})},E.src=URL.createObjectURL(C)})}async function U(C){if(!C)return;if(!C.type.startsWith("video/")){ge("Please select a video file","error");return}const $=15*1024*1024*1024;if(C.size>$){ge("File too large. Maximum size is 15GB.","error");return}f(s,C,!0),f(b,!1);const E=await ae(C);f(n,E.duration,!0),f(i,E.width,!0),f(r,E.height,!0)}function F(){f(s,null),f(n,0),f(i,0),f(r,0),f(w,0),f(m,""),f(S,""),f(b,!1),f(o,""),f(u,!1),fe&&(fe.value="")}function oe(C){f(a,C.size,!0),f(c,C.actual,!0),f(u,!1),f(o,"")}function T(C){f(o,C,!0);const $=parseInt(C);$&&$>0&&(f(a,$,!0),f(c,$*.95),f(u,!0))}function V(){(!l(o)||parseInt(l(o))<=0)&&l(u)&&(f(a,50),f(c,47),f(u,!1))}function O(){if(!l(s))return;if(l(s).size/(1024*1024)<=l(c)){ge(`File is already under ${l(a)}MB!`,"success");return}l(he)<500?f(X,!0):re()}async function re(){if(!l(s)||l(h))return;if(f(X,!1),l(s).size/(1024*1024)<=l(c)){ge(`File is already under ${l(a)}MB!`,"success");return}f(h,!0),f(w,0),f(m,"Uploading..."),f(S,"Sending file to server..."),f(b,!1);const $=Date.now().toString()+Math.random().toString(36).substr(2,9),E=l(s).size>90*1024*1024;let Y=null,B=null;try{Y=jr(),B=Yi($,{onMessage:qe=>{qe.stage==="compressing"&&(f(m,"Compressing..."),qe.progress!==void 0&&f(w,qe.progress,!0),qe.message&&f(S,qe.message,!0))},onError:()=>{}});let L;if(E){f(m,"Uploading..."),f(S,"Large file detected, uploading in chunks...");const qe=await nl(l(s),jt=>{f(w,jt,!0),f(S,"Uploading chunks...")}),{filePath:Qt,fileName:Kt}=qe;f(w,0),f(m,"Compressing..."),f(S,"Starting compression...");const Xt=await fetch(`${$e()}/api/compress-chunked`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:Qt,fileName:Kt,targetSize:l(c).toString(),duration:l(n).toString(),progressId:$,preset:l(v),downscale:l(g)})});if(!Xt.ok){const jt=await Xt.json();throw new Error(jt.error||"Failed to start compression")}const{jobId:xn}=await Xt.json(),Sn=Date.now(),qs=1800*1e3;let Ks=0;for(;Date.now()-Sn<=qs;){await new Promise(jt=>setTimeout(jt,2e3));try{const jt=new AbortController,rl=setTimeout(()=>jt.abort(),1e4);let zn;try{zn=await fetch(`${$e()}/api/job/${xn}/status`,{signal:jt.signal})}finally{clearTimeout(rl)}if(!zn.ok)throw new Error(`Server returned ${zn.status}`);const ds=await zn.json();if(Ks=0,ds.status==="error")throw new Error(ds.error||"Compression failed");if(ds.progress!==void 0&&f(w,ds.progress,!0),ds.message&&f(S,ds.message,!0),ds.status==="complete")break}catch(jt){if(Ks++,Ks>=3)throw new Error(`Failed to check job status after 3 attempts: ${jt.message}`)}}if(Date.now()-Sn>qs)throw new Error("Job timed out after 30 minutes.");L=await fetch(`${$e()}/api/job/${xn}/download`)}else{const qe=new FormData;qe.append("file",l(s)),qe.append("targetSize",l(c).toString()),qe.append("duration",l(n).toString()),qe.append("progressId",$),qe.append("preset",l(v)),qe.append("downscale",l(g)),L=await fetch(`${$e()}/api/compress`,{method:"POST",body:qe})}if(B&&B.close(),!L.ok){const qe=await L.json();throw new Error(qe.error||"Compression failed")}const Q=await L.blob(),pe=Q.size,Se=(l(s).size/(1024*1024)).toFixed(1),De=(pe/(1024*1024)).toFixed(1),je=Math.round((1-pe/l(s).size)*100);f(k,`${Se} MB`),f(R,`${De} MB`),f(J,`${je}%`),f(b,!0);const Pe=l(s).name.lastIndexOf("."),zt=Pe>0?l(s).name.slice(0,Pe):l(s).name;Qi(Q,`${zt}_compressed.mp4`),ge("Compression complete!","success"),Y&&Pt(Y)}catch(L){ge(L.message||"Compression failed","error"),B&&B.close(),Y&&Pt(Y)}finally{f(h,!1),f(w,0),f(m,""),f(S,"")}}var ue=Nc(),ve=Te(ue);kn(ve);var P=p(ve,2),z=p(d(P),2),q=d(z);{var K=C=>{var $=Ac();let E;$.__click=()=>fe==null?void 0:fe.click();var Y=p(d($),6);Y.__change=B=>{var L;U((L=B.target.files)==null?void 0:L[0]),B.target.value=""},bn(Y,B=>fe=B,()=>fe),H(()=>E=de($,1,"drop-zone svelte-15o2uhu",null,E,{dragover:l(ne)})),Mt("dragover",$,B=>{B.preventDefault(),f(ne,!0)}),Mt("dragleave",$,B=>{B.preventDefault(),f(ne,!1)}),Mt("drop",$,B=>{var L,Q;B.preventDefault(),f(ne,!1),U((Q=(L=B.dataTransfer)==null?void 0:L.files)==null?void 0:Q[0])}),y(C,$)},Z=C=>{var $=Dc(),E=d($),Y=p(d(E),2),B=d(Y),L=d(B),Q=p(B,2),pe=d(Q),Se=p(Y,2);Se.__click=F;var De=p(E,2),je=d(De),Pe=d(je),zt=p(je,2),qe=d(zt);H(Qt=>{cs(B,"title",l(s).name),A(L,l(s).name),A(pe,Qt),A(Pe,`Duration: ${(l(n)?l(G):"unknown")??""}`),A(qe,`Resolution: ${l(N)??""}`)},[()=>Ki(l(s).size)]),y(C,$)};D(q,C=>{l(s)?C(Z,!1):C(K)})}var me=p(q,2),W=p(d(me),4);Fe(W,21,()=>ze,We,(C,$)=>{var E=Rc();let Y;E.__click=()=>oe(l($));var B=d(E),L=d(B),Q=p(B,2),pe=d(Q);H(()=>{Y=de(E,1,"size-option svelte-15o2uhu",null,Y,{active:!l(u)&&l(a)===l($).size}),A(L,l($).size),A(pe,l($).label)}),y(C,E)});var ce=p(W,2),_e=d(ce);_e.__input=C=>T(C.target.value);var Ce=p(ce,2),ke=p(d(Ce),2);let Ee;var Ye=d(ke),bt=p(me,2),kt=p(d(bt),4);Fe(kt,21,()=>be,We,(C,$)=>{var E=Bc();let Y;E.__click=()=>f(v,l($).id,!0);var B=d(E),L=d(B),Q=p(B,2),pe=d(Q);H(()=>{Y=de(E,1,"size-option svelte-15o2uhu",null,Y,{active:l(v)===l($).id}),A(L,l($).label),A(pe,l($).sublabel)}),y(C,E)});var Qe=p(kt,2),xt=d(Qe),Lt=p(bt,2);Lt.__click=O;var Ts=p(d(Lt)),$s=p(Lt,2);{var St=C=>{var $=Lc(),E=d($),Y=d(E),B=d(Y),L=p(Y,2),Q=d(L),pe=p(E,2);sl(pe,{get percent(){return l(w)}});var Se=p(pe,2),De=d(Se);H(je=>{A(B,l(m)),A(Q,`${je??""}%`),A(De,l(S))},[()=>Math.round(l(w))]),y(C,$)};D($s,C=>{l(h)&&C(St)})}var vs=p($s,2);{var j=C=>{var $=Oc(),E=p(d($),2),Y=d(E),B=d(Y),L=d(B),Q=p(Y,4),pe=d(Q),Se=d(pe),De=p(Q,2),je=d(De),Pe=d(je),zt=p(E,2);zt.__click=F,H(()=>{A(L,l(k)),A(Se,l(R)),A(Pe,l(J))}),y(C,$)};D(vs,C=>{l(b)&&C(j)})}var M=p(P,2);{var ie=C=>{var $=Fc();$.__click=Qt=>{Qt.target===Qt.currentTarget&&f(X,!1)};var E=d($),Y=p(d(E),2),B=p(d(Y),4),L=p(B,4),Q=d(L),pe=d(Q),Se=p(Y,2),De=p(d(Se)),je=d(De),Pe=p(Se,2),zt=d(Pe);zt.__click=()=>f(X,!1);var qe=p(zt,2);qe.__click=re,H(()=>{yn(B,`transform: translateX(-50%) rotate(${l(Le)??""}deg);`),A(pe,l(he)),A(je,l(G))}),y(C,$)};D(M,C=>{l(X)&&C(ie)})}var we=p(M,2);Nn(we),H(()=>{ka(_e,l(o)),Ee=de(ke,1,"estimate-value svelte-15o2uhu",null,Ee,{"estimate-warning":l(Je)}),A(Ye,l(Ae)),Lt.disabled=!l(s)||l(h),A(Ts,` ${l(h)?"compressing...":"compress video"}`)}),Mt("blur",_e,V),Wi(xt,()=>l(g),C=>f(g,C)),y(e,ue),ht()}Jt(["click","change","input"]);var Vc=x(`<!> <main class="svelte-13tj7i"><div class="page-header svelte-13tj7i"><h1 class="svelte-13tj7i">privacy policy</h1> <p class="svelte-13tj7i">the human-readable version</p></div> <div class="tldr-box svelte-13tj7i"><h3 class="svelte-13tj7i">tl;dr</h3> <p class="svelte-13tj7i">i collect minimal anonymous stats, never your URLs or personal info. you can opt out anytime in <a href="#/settings" class="svelte-13tj7i">settings</a>.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">about</h2> <p class="svelte-13tj7i">hey, im just one person who hasn't even graduated high school yet. i made yoink.tools in my free time because i felt inspired by cool websites like <a href="https://cobalt.tools" target="_blank" rel="noopener" class="svelte-13tj7i">cobalt.tools</a> and <a href="https://vert.sh" target="_blank" rel="noopener" class="svelte-13tj7i">vert.sh</a>, and i wanted an all-in-one website combining all the awesome frickin aspects of them. im not a company, i dont have investors, and i dont want anything from you.</p> <p class="svelte-13tj7i">this privacy policy is written in plain english because legal jargon is annoying.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">what i collect</h2> <p class="svelte-13tj7i">when you have analytics enabled (on by default), i collect:</p> <ul class="svelte-13tj7i"><li class="svelte-13tj7i"><strong class="svelte-13tj7i">format preferences</strong> - which file formats are popular (mp4, mp3, etc.)</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">download counts</strong> - how many downloads, conversions, and compressions happen</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">country data</strong> - derived from your IP address, but i dont store the IP itself</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">daily visitor counts</strong> - how many unique visitors per day</li></ul> <p class="svelte-13tj7i">that's it.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">what i DON'T collect</h2> <p class="svelte-13tj7i">i never, ever collect:</p> <ul class="svelte-13tj7i"><li class="svelte-13tj7i"><strong class="svelte-13tj7i">URLs you download</strong> - your browsing is your business</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">video titles or content</strong> - nope</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">your IP address</strong> - i use it to get country, then forget it</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">cookies for tracking</strong> - only settings are stored locally</li> <li class="svelte-13tj7i"><strong class="svelte-13tj7i">anything identifying you personally</strong> - i literally cant tell users apart</li></ul></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">why collect anything?</h2> <p class="svelte-13tj7i">its useful to see what features people use so i can prioritize what to work on next. no monetization, no selling data, no ads.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">opting out</h2> <p class="svelte-13tj7i">dont want to be part of the stats? head to <a href="#/settings" class="svelte-13tj7i">settings</a>, click the privacy tab, and flip the toggle.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">where data is stored</h2> <p class="svelte-13tj7i">analytics data is stored on my server in a JSON file. your settings (quality preferences, etc.) are stored in your browser's localStorage and never leave your device.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">questions?</h2> <p class="svelte-13tj7i">if you have questions or concerns, hit me up at <a href="https://coah80.com" target="_blank" rel="noopener" class="svelte-13tj7i">coah80.com</a> or check out the project on <a href="https://github.com/coah80/yoink" target="_blank" rel="noopener" class="svelte-13tj7i">github</a>.</p></div> <div class="content-card svelte-13tj7i"><h2 class="svelte-13tj7i">updates</h2> <p class="svelte-13tj7i">if i change this policy, ill update it here. no sneaky changes. last updated: <strong class="svelte-13tj7i">January 2026</strong>.</p></div></main> <!>`,1);function Hc(e){var t=Vc(),s=Te(t);kn(s);var n=p(s,4);Nn(n),y(e,t)}var Gc=x('<div class="spinner-wrap svelte-121vd2i"><!></div> <h1 class="svelte-121vd2i">downloading...</h1> <p class="svelte-121vd2i">your download should start automatically</p>',1),Wc=x('<h1 class="success svelte-121vd2i">done</h1> <p class="svelte-121vd2i">download started successfully</p>',1),Jc=x('<h1 class="error svelte-121vd2i">download failed</h1> <p class="svelte-121vd2i">this file is no longer available</p>',1),Yc=x('<main class="svelte-121vd2i"><div class="download-container svelte-121vd2i"><!> <div> </div></div></main>');function Qc(e,t){ft(t,!0);const s=()=>Dt(Ta,"$query",n),[n,i]=Yt();let r=I("loading"),a=I("preparing download..."),c=ye(()=>s().token||"");xr(()=>{const b=window.location.hash.includes("?")?"":window.location.hash.replace("#/download","").replace(/^\//,""),k=l(c)||b;if(!k){f(r,"error"),f(a,"no download token provided");return}const R=`${$e()}/api/bot/download/${k}`;f(a,"starting download..."),fetch(R,{method:"HEAD"}).then(J=>{if(J.ok)f(a,"download started"),window.location.href=R,setTimeout(()=>{f(r,"success"),f(a,"you can close this page now")},2e3);else throw new Error("Download not available")}).catch(()=>{f(r,"error"),f(a,"the download link has expired (5 minute limit)")})});var o=Yc(),u=d(o),v=d(u);{var g=b=>{var k=Gc(),R=Te(k),J=d(R);tl(J),y(b,k)},h=b=>{var k=rt(),R=Te(k);{var J=X=>{var fe=Wc();y(X,fe)},ne=X=>{var fe=Jc();y(X,fe)};D(R,X=>{l(r)==="success"?X(J):X(ne,!1)},!0)}y(b,k)};D(v,b=>{l(r)==="loading"?b(g):b(h,!1)})}var w=p(v,2);let m;var S=d(w);H(()=>{m=de(w,1,"status svelte-121vd2i",null,m,{error:l(r)==="error",success:l(r)==="success"}),A(S,l(a))}),y(e,o),ht(),i()}var Kc=x('<main class="svelte-zxc657"><p>Redirecting...</p></main>');function Xc(e,t){ft(t,!1),xr(()=>{const n=new URLSearchParams(window.location.search),r=(n.get("url")||n.get("text")||"").match(/https?:\/\/[^\s]+/);let a=r?r[0]:"";if(a=a.replace(/[.,!?;:)\]}>]+$/,""),a)try{const c=new URL(a);(c.protocol==="http:"||c.protocol==="https:")&&sessionStorage.setItem("yoink_shared_url",a)}catch{}$a("/")}),Sa();var s=Kc();y(e,s),ht()}var Zc=x(`<!> <main class="svelte-kbj945"><div class="not-found svelte-kbj945"><h1 class="svelte-kbj945">404</h1> <p class="svelte-kbj945">this page doesn't exist</p> <a href="#/" class="back-link svelte-kbj945">go back home</a></div></main>`,1);function eu(e){var t=Zc(),s=Te(t);kn(s),y(e,t)}var tu=x("<!> <!> <!>",1);function su(e,t){ft(t,!0);const s=()=>Dt(zr,"$path",n),[n,i]=Yt(),r={"/":sc,"/settings":xc,"/convert":Ic,"/compress":Uc,"/privacy":Hc,"/download":Qc,"/share":Xc};let a=ye(s),c=ye(()=>r[l(a)]||eu);Js(()=>{Co(l(a))}),xr(()=>{Na(),Eo(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(()=>{})});var o=tu(),u=Te(o);ma(u,()=>l(c),(h,w)=>{w(h,{})});var v=p(u,2);So(v,{});var g=p(v,2);Da(g),y(e,o),ht(),i()}va(su,{target:document.getElementById("app")});
